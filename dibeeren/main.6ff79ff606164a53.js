"use strict";(self.webpackChunkdibeeren=self.webpackChunkdibeeren||[]).push([[179],{2313:(Gt,Ze,H)=>{H.d(Ze,{nm:()=>_i});var R=H(9883),ye=(H(8256),H(3692),H(259),H(5861)),ae=H(9681),le=H(4859),Je=H(2090),We=H(1877);const te=new Map,ne={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function Ye(ge){return te.get(ge)||Object.assign({},ne)}function ot(){return xe}const Le="https://content-firebaseappcheck.googleapis.com/v1",Bt="exchangeDebugToken",ft={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class it{constructor(ue,Te,Fe,Ie,nt){if(this.operation=ue,this.retryPolicy=Te,this.getWaitDuration=Fe,this.lowerBound=Ie,this.upperBound=nt,this.pending=null,this.nextErrorWaitInterval=Ie,Ie>nt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ue){var Te=this;return(0,ye.Z)(function*(){Te.stop();try{Te.pending=new Je.BH,yield function st(ge){return new Promise(ue=>{setTimeout(ue,ge)})}(Te.getNextRun(ue)),Te.pending.resolve(),yield Te.pending.promise,Te.pending=new Je.BH,yield Te.operation(),Te.pending.resolve(),yield Te.pending.promise,Te.process(!0).catch(()=>{})}catch(Fe){Te.retryPolicy(Fe)?Te.process(!1).catch(()=>{}):Te.stop()}})()}getNextRun(ue){if(ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Te=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Te}}}const Me=new Je.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ne(ge,ue){return at.apply(this,arguments)}function at(){return(at=(0,ye.Z)(function*({url:ge,body:ue},Te){const Fe={"Content-Type":"application/json"},Ie=Te.getImmediate({optional:!0});if(Ie){const un=yield Ie.getHeartbeatsHeader();un&&(Fe["X-Firebase-Client"]=un)}const nt={method:"POST",body:JSON.stringify(ue),headers:Fe};let Rt,ln;try{Rt=yield fetch(ge,nt)}catch(un){throw Me.create("fetch-network-error",{originalErrorMessage:un?.message})}if(200!==Rt.status)throw Me.create("fetch-status-error",{httpStatus:Rt.status});try{ln=yield Rt.json()}catch(un){throw Me.create("fetch-parse-error",{originalErrorMessage:un?.message})}const dn=ln.ttl.match(/^([\d.]+)(s)$/);if(!dn||!dn[2]||isNaN(Number(dn[1])))throw Me.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ln.ttl}`});const xn=1e3*Number(dn[1]),xi=Date.now();return{token:ln.token,expireTimeMillis:xi+xn,issuedAtTimeMillis:xi}})).apply(this,arguments)}const Ge="firebase-app-check-database",tt=1,Ve="firebase-app-check-store";let Ot=null;function Rr(ge,ue){return sn.apply(this,arguments)}function sn(){return(sn=(0,ye.Z)(function*(ge,ue){const Fe=(yield function pn(){return Ot||(Ot=new Promise((ge,ue)=>{try{const Te=indexedDB.open(Ge,tt);Te.onsuccess=Fe=>{ge(Fe.target.result)},Te.onerror=Fe=>{var Ie;ue(Me.create("storage-open",{originalErrorMessage:null===(Ie=Fe.target.error)||void 0===Ie?void 0:Ie.message}))},Te.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(Te){ue(Me.create("storage-open",{originalErrorMessage:Te?.message}))}}),Ot)}()).transaction(Ve,"readwrite"),nt=Fe.objectStore(Ve).put({compositeKey:ge,value:ue});return new Promise((Rt,ln)=>{nt.onsuccess=dn=>{Rt()},Fe.onerror=dn=>{var xn;ln(Me.create("storage-set",{originalErrorMessage:null===(xn=dn.target.error)||void 0===xn?void 0:xn.message}))}})})).apply(this,arguments)}const jr=new We.Yd("@firebase/app-check");function kt(ge,ue){return(0,Je.hl)()?function Zt(ge,ue){return Rr(function br(ge){return`${ge.options.appId}-${ge.name}`}(ge),ue)}(ge,ue).catch(Te=>{jr.warn(`Failed to write token to IndexedDB. Error: ${Te}`)}):Promise.resolve()}function Gi(){return Er.apply(this,arguments)}function Er(){return(Er=(0,ye.Z)(function*(){const ge=ot();if(ge.enabled&&ge.token)return ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fn={error:"UNKNOWN_ERROR"};function Wr(ge){return Je.US.encodeString(JSON.stringify(ge),!1)}function gn(ge){return bt.apply(this,arguments)}function bt(){return(bt=(0,ye.Z)(function*(ge,ue=!1){const Te=ge.app;!function _e(ge){if(!Ye(ge).activated)throw Me.create("use-before-activation",{appName:ge.name})}(Te);const Fe=Ye(Te);let nt,Ie=Fe.token;if(Ie&&!Zn(Ie)&&(Fe.token=void 0,Ie=void 0),!Ie){const dn=yield Fe.cachedTokenPromise;dn&&(Zn(dn)?Ie=dn:yield kt(Te,void 0))}if(!ue&&Ie&&Zn(Ie))return{token:Ie.token};let ln,Rt=!1;if(function Xn(){return ot().enabled}()){Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=Ne(function Pe(ge,ue){const{projectId:Te,appId:Fe,apiKey:Ie}=ge.options;return{url:`${Le}/projects/${Te}/apps/${Fe}:${Bt}?key=${Ie}`,body:{debug_token:ue}}}(Te,yield Gi()),ge.heartbeatServiceProvider).finally(()=>{Fe.exchangeTokenPromise=void 0}),Rt=!0);const dn=yield Fe.exchangeTokenPromise;return yield kt(Te,dn),Fe.token=dn,{token:dn.token}}try{Fe.exchangeTokenPromise||(Fe.exchangeTokenPromise=Fe.provider.getToken().finally(()=>{Fe.exchangeTokenPromise=void 0}),Rt=!0),Ie=yield Ye(Te).exchangeTokenPromise}catch(dn){"appCheck/throttled"===dn.code?jr.warn(dn.message):jr.error(dn),nt=dn}return Ie?nt?ln=Zn(Ie)?{token:Ie.token,internalError:nt}:mn(nt):(ln={token:Ie.token},Fe.token=Ie,yield kt(Te,Ie)):ln=mn(nt),Rt&&function Kn(ge,ue){const Te=Ye(ge).tokenObservers;for(const Fe of Te)try{"EXTERNAL"===Fe.type&&null!=ue.error?Fe.error(ue.error):Fe.next(ue)}catch{}}(Te,ln),ln})).apply(this,arguments)}function Jn(ge,ue){const Te=Ye(ge),Fe=Te.tokenObservers.filter(Ie=>Ie.next!==ue);0===Fe.length&&Te.tokenRefresher&&Te.tokenRefresher.isRunning()&&Te.tokenRefresher.stop(),Te.tokenObservers=Fe}function nr(ge){const{app:ue}=ge,Te=Ye(ue);let Fe=Te.tokenRefresher;Fe||(Fe=function _n(ge){const{app:ue}=ge;return new it((0,ye.Z)(function*(){let Fe;if(Fe=Ye(ue).token?yield gn(ge,!0):yield gn(ge),Fe.error)throw Fe.error;if(Fe.internalError)throw Fe.internalError}),()=>!0,()=>{const Te=Ye(ue);if(Te.token){let Fe=Te.token.issuedAtTimeMillis+.5*(Te.token.expireTimeMillis-Te.token.issuedAtTimeMillis)+3e5;return Fe=Math.min(Fe,Te.token.expireTimeMillis-3e5),Math.max(0,Fe-Date.now())}return 0},ft.RETRIAL_MIN_WAIT,ft.RETRIAL_MAX_WAIT)}(ge),Te.tokenRefresher=Fe),!Fe.isRunning()&&Te.isTokenAutoRefreshEnabled&&Fe.start()}function Zn(ge){return ge.expireTimeMillis-Date.now()>0}function mn(ge){return{token:Wr(Fn),error:ge}}class Mn{constructor(ue,Te){this.app=ue,this.heartbeatServiceProvider=Te}_delete(){const{tokenObservers:ue}=Ye(this.app);for(const Te of ue)Jn(this.app,Te.next);return Promise.resolve()}}const ci="app-check-internal";!function cs(){(0,ae.Xd)(new le.wA("app-check",ge=>function Ci(ge,ue){return new Mn(ge,ue)}(ge.getProvider("app").getImmediate(),ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ge,ue,Te)=>{ge.getProvider(ci).initialize()})),(0,ae.Xd)(new le.wA(ci,ge=>function Cn(ge){return{getToken:ue=>gn(ge,ue),addTokenListener:ue=>function $e(ge,ue,Te,Fe){const{app:Ie}=ge,nt=Ye(Ie);if(nt.tokenObservers=[...nt.tokenObservers,{next:Te,error:Fe,type:ue}],nt.token&&Zn(nt.token)){const ln=nt.token;Promise.resolve().then(()=>{Te({token:ln.token}),nr(ge)}).catch(()=>{})}nt.cachedTokenPromise.then(()=>nr(ge))}(ge,"INTERNAL",ue),removeTokenListener:ue=>Jn(ge.app,ue)}}(ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ae.KN)("@firebase/app-check","0.6.4")}();class _i{constructor(){return(0,R.vb)("app-check")}}typeof window<"u"&&window},3692:(Gt,Ze,H)=>{H.d(Ze,{Ot:()=>oe,ZF:()=>Ut,hX:()=>Ye,z6:()=>ye});var R=H(259),Z=H(8256),Q=H(9883);class oe{constructor(it){return it}}class ye{constructor(){return(0,R.C6)()}}const Je=new Z.OlP("angularfire2._apps"),We={provide:oe,useFactory:function le(rt){return rt&&1===rt.length?rt[0]:new oe((0,R.Mq)())},deps:[[new Z.FiY,Je]]},te={provide:ye,deps:[[new Z.FiY,Je]]};function ne(rt){return(it,st)=>{const yt=it.runOutsideAngular(()=>rt(st));return new oe(yt)}}let xe=(()=>{class rt{constructor(st){(0,R.KN)("angularfire",Q.q4.full,"core"),(0,R.KN)("angularfire",Q.q4.full,"app"),(0,R.KN)("angular",Z.q4F.full,st.toString())}}return rt.\u0275fac=function(st){return new(st||rt)(Z.LFG(Z.Lbi))},rt.\u0275mod=Z.oAB({type:rt}),rt.\u0275inj=Z.cJS({providers:[We,te]}),rt})();function Ye(rt,...it){return{ngModule:xe,providers:[{provide:Je,useFactory:ne(rt),multi:!0,deps:[Z.R0b,Z.zs3,Q.HU,...it]}]}}const Ut=(0,Q.u3)(R.ZF,!0)},4226:(Gt,Ze,H)=>{H.d(Ze,{dh:()=>Ru,v0:()=>el,AR:()=>sd});var R=H(9883),Z=H(8256),Q=H(3692),oe=H(259),ye=H(2313),ae=H(5861),le=H(2090),Je=H(9681),We=H(1877),te=H(655),ne=H(4859);const ft=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new We.Yd("@firebase/auth");function yt(_,...d){st.logLevel<=We.in.ERROR&&st.error(`Auth (${Je.Jn}): ${_}`,...d)}function Me(_,...d){throw It(_,...d)}function Re(_,...d){return It(_,...d)}function It(_,...d){if("string"!=typeof _){const f=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(f,...D)}return rt.create(_,...d)}function Ne(_,d,...f){if(!_)throw It(d,...f)}function at(_){const d="INTERNAL ASSERTION FAILED: "+_;throw yt(d),new Error(d)}function pe(_,d){_||at(d)}const me=new Map;function Pe(_){pe(_ instanceof Function,"Expected a class definition");let d=me.get(_);return d?(pe(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,me.set(_,d),d)}function Ve(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ot(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Zt{constructor(d,f){this.shortDelay=d,this.longDelay=f,pe(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,le.uI)()||(0,le.b$)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Dt(){return"http:"===Ot()||"https:"===Ot()}()||(0,le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(_,d){pe(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Jt{static initialize(d,f,D){this.fetchImpl=d,f&&(this.headersImpl=f),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Zt(3e4,6e4);function an(_,d,f,D){return br.apply(this,arguments)}function br(){return(br=(0,ae.Z)(function*(_,d,f,D,F={}){return jr(_,F,(0,ae.Z)(function*(){let z={},De={};D&&("GET"===d?De=D:z={body:JSON.stringify(D)});const Xe=(0,le.xO)(Object.assign({key:_.config.apiKey},De)).slice(1),At=yield _._getAdditionalHeaders();return At["Content-Type"]="application/json",_.languageCode&&(At["X-Firebase-Locale"]=_.languageCode),Jt.fetch()(bn(_,_.config.apiHost,f,Xe),Object.assign({method:d,headers:At,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function jr(_,d,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,ae.Z)(function*(_,d,f){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},Rr),d);try{const F=new ur(_),z=yield Promise.race([f(),F.promise]);F.clearNetworkTimeout();const De=yield z.json();if("needConfirmation"in De)throw Xn(_,"account-exists-with-different-credential",De);if(z.ok&&!("errorMessage"in De))return De;{const Xe=z.ok?De.errorMessage:De.error.message,[At,zt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw Xn(_,"credential-already-in-use",De);if("EMAIL_EXISTS"===At)throw Xn(_,"email-already-in-use",De);if("USER_DISABLED"===At)throw Xn(_,"user-disabled",De);const Dn=D[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw function _e(_,d,f){const D=Object.assign(Object.assign({},ft()),{[d]:f});return new le.LL("auth","Firebase",D).create(d,{appName:_.name})}(_,Dn,zt);Me(_,Dn)}}catch(F){if(F instanceof le.ZR)throw F;Me(_,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function ar(_,d,f,D){return kt.apply(this,arguments)}function kt(){return(kt=(0,ae.Z)(function*(_,d,f,D,F={}){const z=yield an(_,d,f,D,F);return"mfaPendingCredential"in z&&Me(_,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function bn(_,d,f,D){const F=`${d}${f}?${D}`;return _.config.emulator?Nt(_.config,F):`${_.config.apiScheme}://${F}`}class ur{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,D)=>{this.timer=setTimeout(()=>D(Re(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(_,d,f){const D={appName:_.name};f.email&&(D.email=f.email),f.phoneNumber&&(D.phoneNumber=f.phoneNumber);const F=Re(_,d,D);return F.customData._tokenResponse=f,F}function Er(){return(Er=(0,ae.Z)(function*(_,d){return an(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function gn(){return(gn=(0,ae.Z)(function*(_,d){return an(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function bt(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function nr(){return(nr=(0,ae.Z)(function*(_,d=!1){const f=(0,le.m9)(_),D=yield f.getIdToken(d),F=Kn(D);Ne(F&&F.exp&&F.auth_time&&F.iat,f.auth,"internal-error");const z="object"==typeof F.firebase?F.firebase:void 0,De=z?.sign_in_provider;return{claims:F,token:D,authTime:bt(_n(F.auth_time)),issuedAtTime:bt(_n(F.iat)),expirationTime:bt(_n(F.exp)),signInProvider:De||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function _n(_){return 1e3*Number(_)}function Kn(_){const[d,f,D]=_.split(".");if(void 0===d||void 0===f||void 0===D)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,le.tV)(f);return F?JSON.parse(F):(yt("Failed to decode base64 JWT payload"),null)}catch(F){return yt("Caught error parsing JWT payload as JSON",F?.toString()),null}}function mn(_,d){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,ae.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(D){throw D instanceof le.ZR&&function Ci({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}class Cn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const F=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,ae.Z)(function*(){yield f.iteration()}),D)}iteration(){var d=this;return(0,ae.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&d.schedule(!0))}d.schedule()})()}}class Lr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(_){return pt.apply(this,arguments)}function pt(){return pt=(0,ae.Z)(function*(_){var d;const f=_.auth,D=yield _.getIdToken(),F=yield mn(_,function Wr(_,d){return gn.apply(this,arguments)}(f,{idToken:D}));Ne(F?.users.length,f,"internal-error");const z=F.users[0];_._notifyReloadListener(z);const De=null!==(d=z.providerUserInfo)&&void 0!==d&&d.length?function Wt(_){return _.map(d=>{var{providerId:f}=d,D=(0,te._T)(d,["providerId"]);return{providerId:f,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(z.providerUserInfo):[],Xe=function Yt(_,d){return[..._.filter(D=>!d.some(F=>F.providerId===D.providerId)),...d]}(_.providerData,De),Dn=!!_.isAnonymous&&!(_.email&&z.passwordHash||Xe?.length),kr={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Xe,metadata:new Lr(z.createdAt,z.lastLoginAt),isAnonymous:Dn};Object.assign(_,kr)}),pt.apply(this,arguments)}function vt(){return(vt=(0,ae.Z)(function*(_){const d=(0,le.m9)(_);yield cr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Sn(){return(Sn=(0,ae.Z)(function*(_,d){const f=yield jr(_,{},(0,ae.Z)(function*(){const D=(0,le.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:F,apiKey:z}=_.config,De=bn(_,F,"/v1/token",`key=${z}`),Xe=yield _._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(De,{method:"POST",headers:Xe,body:D})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ne(d.idToken,"internal-error"),Ne(typeof d.idToken<"u","internal-error"),Ne(typeof d.refreshToken<"u","internal-error");const f="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Zn(_){const d=Kn(_);return Ne(d,"internal-error"),Ne(typeof d.exp<"u","internal-error"),Ne(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var D=this;return(0,ae.Z)(function*(){return Ne(!D.accessToken||D.refreshToken,d,"user-token-expired"),f||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var D=this;return(0,ae.Z)(function*(){const{accessToken:F,refreshToken:z,expiresIn:De}=yield function rn(_,d){return Sn.apply(this,arguments)}(d,f);D.updateTokensAndExpiration(F,z,Number(De))})()}updateTokensAndExpiration(d,f,D){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,f){const{refreshToken:D,accessToken:F,expirationTime:z}=f,De=new X;return D&&(Ne("string"==typeof D,"internal-error",{appName:d}),De.refreshToken=D),F&&(Ne("string"==typeof F,"internal-error",{appName:d}),De.accessToken=F),z&&(Ne("number"==typeof z,"internal-error",{appName:d}),De.expirationTime=z),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return at("not implemented")}}function q(_,d){Ne("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class se{constructor(d){var{uid:f,auth:D,stsTokenManager:F}=d,z=(0,te._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=D,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Lr(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,ae.Z)(function*(){const D=yield mn(f,f.stsTokenManager.getToken(f.auth,d));return Ne(D,f.auth,"internal-error"),f.accessToken!==D&&(f.accessToken=D,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),D})()}getIdTokenResult(d){return function Jn(_){return nr.apply(this,arguments)}(this,d)}reload(){return function Se(_){return vt.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ne(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const f=new se(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(d){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var D=this;return(0,ae.Z)(function*(){let F=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),F=!0),f&&(yield cr(D)),yield D.auth._persistUserIfCurrent(D),F&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,ae.Z)(function*(){const f=yield d.getIdToken();return yield mn(d,function Gi(_,d){return Er.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var D,F,z,De,Xe,At,zt,Dn;const kr=null!==(D=f.displayName)&&void 0!==D?D:void 0,Bi=null!==(F=f.email)&&void 0!==F?F:void 0,bo=null!==(z=f.phoneNumber)&&void 0!==z?z:void 0,ol=null!==(De=f.photoURL)&&void 0!==De?De:void 0,Lu=null!==(Xe=f.tenantId)&&void 0!==Xe?Xe:void 0,fd=null!==(At=f._redirectEventId)&&void 0!==At?At:void 0,Of=null!==(zt=f.createdAt)&&void 0!==zt?zt:void 0,ei=null!==(Dn=f.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:al,emailVerified:ul,isAnonymous:Fu,providerData:Co,stsTokenManager:cl}=f;Ne(al&&cl,d,"internal-error");const ch=X.fromJSON(this.name,cl);Ne("string"==typeof al,d,"internal-error"),q(kr,d.name),q(Bi,d.name),Ne("boolean"==typeof ul,d,"internal-error"),Ne("boolean"==typeof Fu,d,"internal-error"),q(bo,d.name),q(ol,d.name),q(Lu,d.name),q(fd,d.name),q(Of,d.name),q(ei,d.name);const Aa=new se({uid:al,auth:d,email:Bi,emailVerified:ul,displayName:kr,isAnonymous:Fu,photoURL:ol,phoneNumber:bo,tenantId:Lu,stsTokenManager:ch,createdAt:Of,lastLoginAt:ei});return Co&&Array.isArray(Co)&&(Aa.providerData=Co.map(ga=>Object.assign({},ga))),fd&&(Aa._redirectEventId=fd),Aa}static _fromIdTokenResponse(d,f,D=!1){return(0,ae.Z)(function*(){const F=new X;F.updateFromServerResponse(f);const z=new se({uid:f.localId,auth:d,stsTokenManager:F,isAnonymous:D});return yield cr(z),z})()}}const Ee=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ae.Z)(function*(){return!0})()}_set(f,D){var F=this;return(0,ae.Z)(function*(){F.storage[f]=D})()}_get(f){var D=this;return(0,ae.Z)(function*(){const F=D.storage[f];return void 0===F?null:F})()}_remove(f){var D=this;return(0,ae.Z)(function*(){delete D.storage[f]})()}_addListener(f,D){}_removeListener(f,D){}}return _.type="NONE",_})();function _t(_,d,f){return`firebase:${_}:${d}:${f}`}class de{constructor(d,f,D){this.persistence=d,this.auth=f,this.userKey=D;const{config:F,name:z}=this.auth;this.fullUserKey=_t(this.userKey,F.apiKey,z),this.fullPersistenceKey=_t("persistence",F.apiKey,z),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ae.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?se._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,ae.Z)(function*(){if(f.persistence===d)return;const D=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,D?f.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,D="authUser"){return(0,ae.Z)(function*(){if(!f.length)return new de(Pe(Ee),d,D);const F=(yield Promise.all(f.map(function(){var zt=(0,ae.Z)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return zt.apply(this,arguments)}}()))).filter(zt=>zt);let z=F[0]||Pe(Ee);const De=_t(D,d.config.apiKey,d.name);let Xe=null;for(const zt of f)try{const Dn=yield zt._get(De);if(Dn){const kr=se._fromJSON(d,Dn);zt!==z&&(Xe=kr),z=zt;break}}catch{}const At=F.filter(zt=>zt._shouldAllowMigration);return z._shouldAllowMigration&&At.length?(z=At[0],Xe&&(yield z._set(De,Xe.toJSON())),yield Promise.all(f.map(function(){var zt=(0,ae.Z)(function*(Dn){if(Dn!==z)try{yield Dn._remove(De)}catch{}});return function(Dn){return zt.apply(this,arguments)}}())),new de(z,d,D)):new de(z,d,D)})()}}function ie(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(qe(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(K(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Xt(d))return"Blackberry";if(Vt(d))return"Webos";if(ve(d))return"Safari";if((d.includes("chrome/")||Oe(d))&&!d.includes("edge/"))return"Chrome";if(Lt(d))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function K(_=(0,le.z$)()){return/firefox\//i.test(_)}function ve(_=(0,le.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Oe(_=(0,le.z$)()){return/crios\//i.test(_)}function qe(_=(0,le.z$)()){return/iemobile/i.test(_)}function Lt(_=(0,le.z$)()){return/android/i.test(_)}function Xt(_=(0,le.z$)()){return/blackberry/i.test(_)}function Vt(_=(0,le.z$)()){return/webos/i.test(_)}function Si(_=(0,le.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function qr(_=(0,le.z$)()){return Si(_)||Lt(_)||Vt(_)||Xt(_)||/windows phone/i.test(_)||qe(_)}function Wi(_,d=[]){let f;switch(_){case"Browser":f=ie((0,le.z$)());break;case"Worker":f=`${ie((0,le.z$)())}-${_}`;break;default:f=_}const D=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${Je.Jn}/${D}`}class Bs{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const D=z=>new Promise((De,Xe)=>{try{De(d(z))}catch(At){Xe(At)}});D.onAbort=f,this.queue.push(D);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,ae.Z)(function*(){if(f.auth.currentUser===d)return;const D=[];try{for(const F of f.queue)yield F(d),F.onAbort&&D.push(F.onAbort)}catch(F){D.reverse();for(const z of D)try{z()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}class Ai{constructor(d,f,D){this.app=d,this.heartbeatServiceProvider=f,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new Bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,f){var D=this;return f&&(this._popupRedirectResolver=Pe(f)),this._initializationPromise=this.queue((0,ae.Z)(function*(){var F,z;if(!D._deleted&&(D.persistenceManager=yield de.create(D,d),!D._deleted)){if(null!==(F=D._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(f),D.lastNotifiedUid=(null===(z=D.currentUser)||void 0===z?void 0:z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ae.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,ae.Z)(function*(){var D;const F=yield f.assertedPersistence.getCurrentUser();let z=F,De=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Xe=null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId,At=z?._redirectEventId,zt=yield f.tryRedirectSignIn(d);(!Xe||Xe===At)&&zt?.user&&(z=zt.user,De=!0)}if(!z)return f.directlySetCurrentUser(null);if(!z._redirectEventId){if(De)try{yield f.beforeStateQueue.runMiddleware(z)}catch(Xe){z=F,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Xe))}return z?f.reloadAndSetCurrentUserOrClear(z):f.directlySetCurrentUser(null)}return Ne(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===z._redirectEventId?f.directlySetCurrentUser(z):f.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(d){var f=this;return(0,ae.Z)(function*(){let D=null;try{D=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch{yield f._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,ae.Z)(function*(){try{yield cr(d)}catch(D){if("auth/network-request-failed"!==D?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function xt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,ae.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,ae.Z)(function*(){const D=d?(0,le.m9)(d):null;return D&&Ne(D.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(D&&D._clone(f))})()}_updateCurrentUser(d,f=!1){var D=this;return(0,ae.Z)(function*(){if(!D._deleted)return d&&Ne(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),f||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,ae.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ae.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,ae.Z)(function*(){yield f.assertedPersistence.setPersistence(Pe(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new le.LL("auth","Firebase",d())}onAuthStateChanged(d,f,D){return this.registerStateListener(this.authStateSubscription,d,f,D)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,D){return this.registerStateListener(this.idTokenSubscription,d,f,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var D=this;return(0,ae.Z)(function*(){const F=yield D.getOrInitRedirectPersistenceManager(f);return null===d?F.removeCurrentUser():F.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,ae.Z)(function*(){if(!f.redirectPersistenceManager){const D=d&&Pe(d)||f._popupRedirectResolver;Ne(D,f,"argument-error"),f.redirectPersistenceManager=yield de.create(f,[Pe(D._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,ae.Z)(function*(){var D,F;return f._isInitialized&&(yield f.queue((0,ae.Z)(function*(){}))),(null===(D=f._currentUser)||void 0===D?void 0:D._redirectEventId)===d?f._currentUser:(null===(F=f.redirectUser)||void 0===F?void 0:F._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,ae.Z)(function*(){if(d===f.currentUser)return f.queue((0,ae.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,D,F){if(this._deleted)return()=>{};const z="function"==typeof f?f:f.next.bind(f),De=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(De,this,"internal-error"),De.then(()=>z(this.currentUser)),"function"==typeof f?d.addObserver(f,D,F):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,ae.Z)(function*(){f.currentUser&&f.currentUser!==d&&f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh(),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ae.Z)(function*(){var f;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const F=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return F&&(D["X-Firebase-Client"]=F),D})()}}function lr(_){return(0,le.m9)(_)}class js{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,le.ne)(f=>this.observer=f)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mo(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Is(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class en{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return at("not implemented")}_getIdTokenResponse(d){return at("not implemented")}_linkToIdToken(d,f){return at("not implemented")}_getReauthenticationResolver(d){return at("not implemented")}}function zn(_,d){return Es.apply(this,arguments)}function Es(){return(Es=(0,ae.Z)(function*(_,d){return ar(_,"POST","/v1/accounts:signInWithIdp",function gt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}(_,d))})).apply(this,arguments)}class rr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Fr extends rr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Cr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,D,F=!1){return(0,ae.Z)(function*(){const z=yield se._fromIdTokenResponse(d,D,F),De=tu(D);return new Cr({user:z,providerId:De,_tokenResponse:D,operationType:f})})()}static _forOperation(d,f,D){return(0,ae.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const F=tu(D);return new Cr({user:d,providerId:F,_tokenResponse:D,operationType:f})})()}}function tu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class Yi extends le.ZR{constructor(d,f,D,F){var z;super(f.code,f.message),this.operationType=D,this.user=F,Object.setPrototypeOf(this,Yi.prototype),this.customData={appName:d.name,tenantId:null!==(z=d.tenantId)&&void 0!==z?z:void 0,_serverResponse:f.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,f,D,F){return new Yi(d,f,D,F)}}function mo(_,d,f,D){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Yi._fromErrorAndOperation(_,z,d,D):z})}function Jo(_,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,ae.Z)(function*(_,d,f=!1){const D=yield mn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return Cr._forOperation(_,"link",D)})).apply(this,arguments)}function gr(_,d){return ea.apply(this,arguments)}function ea(){return(ea=(0,ae.Z)(function*(_,d,f=!1){const{auth:D}=_,F="reauthenticate";try{const z=yield mn(_,mo(D,F,d,_),f);Ne(z.idToken,D,"internal-error");const De=Kn(z.idToken);Ne(De,D,"internal-error");const{sub:Xe}=De;return Ne(_.uid===Xe,D,"user-mismatch"),Cr._forOperation(_,F,z)}catch(z){throw"auth/user-not-found"===z?.code&&Me(D,"user-mismatch"),z}})).apply(this,arguments)}function yo(_,d){return hs.apply(this,arguments)}function hs(){return(hs=(0,ae.Z)(function*(_,d,f=!1){const D="signIn",F=yield mo(_,D,d),z=yield Cr._fromIdTokenResponse(_,D,F);return f||(yield _._updateCurrentUser(z.user)),z})).apply(this,arguments)}const ct="__sak";class In{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nn=(()=>{class _ extends In{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,D)=>this.onStorageEvent(f,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function An(){const _=(0,le.z$)();return ve(_)||Si(_)}()&&function _i(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const D of Object.keys(this.listeners)){const F=this.storage.getItem(D),z=this.localCache[D];F!==z&&f(D,z,F)}}onStorageEvent(f,D=!1){if(!f.key)return void this.forAllChangedKeys((Xe,At,zt)=>{this.notifyListeners(Xe,zt)});const F=f.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(F);if(f.newValue!==Xe)null!==f.newValue?this.storage.setItem(F,f.newValue):this.storage.removeItem(F);else if(this.localCache[F]===f.newValue&&!D)return}const z=()=>{const Xe=this.storage.getItem(F);!D&&this.localCache[F]===Xe||this.notifyListeners(F,Xe)},De=this.storage.getItem(F);!function vs(){return(0,le.w1)()&&10===document.documentMode}()||De===f.newValue||f.newValue===f.oldValue?z():setTimeout(z,10)}notifyListeners(f,D){this.localCache[f]=D;const F=this.listeners[f];if(F)for(const z of Array.from(F))z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,D,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:D,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,D){var F=()=>super._set,z=this;return(0,ae.Z)(function*(){yield F().call(z,f,D),z.localCache[f]=JSON.stringify(D)})()}_get(f){var D=()=>super._get,F=this;return(0,ae.Z)(function*(){const z=yield D().call(F,f);return F.localCache[f]=JSON.stringify(z),z})()}_remove(f){var D=()=>super._remove,F=this;return(0,ae.Z)(function*(){yield D().call(F,f),delete F.localCache[f]})()}}return _.type="LOCAL",_})(),io=(()=>{class _ extends In{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,D){}_removeListener(f,D){}}return _.type="SESSION",_})();let so=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const D=this.receivers.find(z=>z.isListeningto(f));if(D)return D;const F=new _(f);return this.receivers.push(F),F}isListeningto(f){return this.eventTarget===f}handleEvent(f){var D=this;return(0,ae.Z)(function*(){const F=f,{eventId:z,eventType:De,data:Xe}=F.data,At=D.handlersMap[De];if(!At?.size)return;F.ports[0].postMessage({status:"ack",eventId:z,eventType:De});const zt=Array.from(At).map(function(){var kr=(0,ae.Z)(function*(Bi){return Bi(F.origin,Xe)});return function(Bi){return kr.apply(this,arguments)}}()),Dn=yield function fi(_){return Promise.all(_.map(function(){var d=(0,ae.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(D){return{fulfilled:!1,reason:D}}});return function(f){return d.apply(this,arguments)}}()))}(zt);F.ports[0].postMessage({status:"done",eventId:z,eventType:De,response:Dn})})()}_subscribe(f,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(D)}_unsubscribe(f,D){this.handlersMap[f]&&D&&this.handlersMap[f].delete(D),(!D||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function pi(_="",d=10){let f="";for(let D=0;D<d;D++)f+=Math.floor(10*Math.random());return _+f}class Kt{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,D=50){var F=this;return(0,ae.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let De,Xe;return new Promise((At,zt)=>{const Dn=pi("",20);z.port1.start();const kr=setTimeout(()=>{zt(new Error("unsupported_event"))},D);Xe={messageChannel:z,onMessage(Bi){const bo=Bi;if(bo.data.eventId===Dn)switch(bo.data.status){case"ack":clearTimeout(kr),De=setTimeout(()=>{zt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),At(bo.data.response);break;default:clearTimeout(kr),clearTimeout(De),zt(new Error("invalid_response"))}}},F.handlers.add(Xe),z.port1.addEventListener("message",Xe.onMessage),F.target.postMessage({eventType:d,eventId:Dn,data:f},[z.port2])}).finally(()=>{Xe&&F.removeMessageHandler(Xe)})})()}}function Wn(){return window}function Un(){return typeof Wn().WorkerGlobalScope<"u"&&"function"==typeof Wn().importScripts}function gi(){return(gi=(0,ae.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const mr="firebaseLocalStorageDb",ht=1,Rs="firebaseLocalStorage",Ps="fbase_key";class Ei{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function oo(_,d){return _.transaction([Rs],d?"readwrite":"readonly").objectStore(Rs)}function Da(){const _=indexedDB.open(mr,ht);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Rs,{keyPath:Ps})}catch(F){f(F)}}),_.addEventListener("success",(0,ae.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Rs)?d(D):(D.close(),yield function Ea(){const _=indexedDB.deleteDatabase(mr);return new Ei(_).toPromise()}(),d(yield Da()))}))})}function wo(_,d,f){return $a.apply(this,arguments)}function $a(){return($a=(0,ae.Z)(function*(_,d,f){const D=oo(_,!0).put({[Ps]:d,value:f});return new Ei(D).toPromise()})).apply(this,arguments)}function mi(){return(mi=(0,ae.Z)(function*(_,d){const f=oo(_,!1).get(d),D=yield new Ei(f).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ao(_,d){const f=oo(_,!0).delete(d);return new Ei(f).toPromise()}const ca=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,ae.Z)(function*(){return f.db||(f.db=yield Da()),f.db})()}_withRetries(f){var D=this;return(0,ae.Z)(function*(){let F=0;for(;;)try{const z=yield D._openDb();return yield f(z)}catch(z){if(F++>3)throw z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,ae.Z)(function*(){return Un()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,ae.Z)(function*(){f.receiver=so._getInstance(function Va(){return Un()?self:null}()),f.receiver._subscribe("keyChanged",function(){var D=(0,ae.Z)(function*(F,z){return{keyProcessed:(yield f._poll()).includes(z.key)}});return function(F,z){return D.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var D=(0,ae.Z)(function*(F,z){return["keyChanged"]});return function(F,z){return D.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,ae.Z)(function*(){var D,F;if(f.activeServiceWorker=yield function Ft(){return gi.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Kt(f.activeServiceWorker);const z=yield f.sender._send("ping",{},800);z&&null!==(D=z[0])&&void 0!==D&&D.fulfilled&&null!==(F=z[0])&&void 0!==F&&F.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var D=this;return(0,ae.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function cn(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:f},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ae.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Da();return yield wo(f,ct,"1"),yield ao(f,ct),!0}catch{}return!1})()}_withPendingWrite(f){var D=this;return(0,ae.Z)(function*(){D.pendingWrites++;try{yield f()}finally{D.pendingWrites--}})()}_set(f,D){var F=this;return(0,ae.Z)(function*(){return F._withPendingWrite((0,ae.Z)(function*(){return yield F._withRetries(z=>wo(z,f,D)),F.localCache[f]=D,F.notifyServiceWorker(f)}))})()}_get(f){var D=this;return(0,ae.Z)(function*(){const F=yield D._withRetries(z=>function ri(_,d){return mi.apply(this,arguments)}(z,f));return D.localCache[f]=F,F})()}_remove(f){var D=this;return(0,ae.Z)(function*(){return D._withPendingWrite((0,ae.Z)(function*(){return yield D._withRetries(F=>ao(F,f)),delete D.localCache[f],D.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,ae.Z)(function*(){const D=yield f._withRetries(De=>{const Xe=oo(De,!1).getAll();return new Ei(Xe).toPromise()});if(!D)return[];if(0!==f.pendingWrites)return[];const F=[],z=new Set;for(const{fbase_key:De,value:Xe}of D)z.add(De),JSON.stringify(f.localCache[De])!==JSON.stringify(Xe)&&(f.notifyListeners(De,Xe),F.push(De));for(const De of Object.keys(f.localCache))f.localCache[De]&&!z.has(De)&&(f.notifyListeners(De,null),F.push(De));return F})()}notifyListeners(f,D){this.localCache[f]=D;const F=this.listeners[f];if(F)for(const z of Array.from(F))z(D)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,ae.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(D)}_removeListener(f,D){this.listeners[f]&&(this.listeners[f].delete(D),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fi(_){return`__${_}${Math.floor(1e6*Math.random())}`}Fi("rcb"),new Zt(3e4,6e4);class Ar extends en{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return zn(d,this._buildIdpRequest())}_linkToIdToken(d,f){return zn(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return zn(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function ba(_){return yo(_.auth,new Ar(_),_.bypassAuthState)}function ha(_){const{auth:d,user:f}=_;return Ne(f,d,"internal-error"),gr(f,new Ar(_),_.bypassAuthState)}function Su(_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,ae.Z)(function*(_){const{auth:d,user:f}=_;return Ne(f,d,"internal-error"),Jo(f,new Ar(_),_.bypassAuthState)})).apply(this,arguments)}class co{constructor(d,f,D,F,z=!1){this.auth=d,this.resolver=D,this.user=F,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,ae.Z)(function*(D,F){d.pendingPromise={resolve:D,reject:F};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(z){d.reject(z)}});return function(D,F){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,ae.Z)(function*(){const{urlResponse:D,sessionId:F,postBody:z,tenantId:De,error:Xe,type:At}=d;if(Xe)return void f.reject(Xe);const zt={auth:f.auth,requestUri:D,sessionId:F,tenantId:De||void 0,postBody:z||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(At)(zt))}catch(Dn){f.reject(Dn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ba;case"linkViaPopup":case"linkViaRedirect":return Su;case"reauthViaPopup":case"reauthViaRedirect":return ha;default:Me(this.auth,"internal-error")}}resolve(d){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Zt(2e3,1e4);const A="pendingRedirect",L=new Map;class $ extends co{constructor(d,f,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,ae.Z)(function*(){let D=L.get(f.auth._key());if(!D){try{const z=(yield function ce(_,d){return ke.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;D=()=>Promise.resolve(z)}catch(F){D=()=>Promise.reject(F)}L.set(f.auth._key(),D)}return f.bypassAuthState||L.set(f.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,D=this;return(0,ae.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(D,d);if("unknown"!==d.type){if(d.eventId){const F=yield D.auth._redirectUserForId(d.eventId);if(F)return D.user=F,f().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,ae.Z)(function*(){})()}cleanUp(){}}function ke(){return(ke=(0,ae.Z)(function*(_,d){const f=function Xr(_){return _t(A,_.config.apiKey,_.name)}(d),D=function $n(_){return Pe(_._redirectPersistence)}(_);if(!(yield D._isAvailable()))return!1;const F="true"===(yield D._get(f));return yield D._remove(f),F})).apply(this,arguments)}function On(_,d){L.set(_._key(),d)}function Mt(_,d){return St.apply(this,arguments)}function St(){return(St=(0,ae.Z)(function*(_,d,f=!1){const D=lr(_),F=function $o(_,d){return d?Pe(d):(Ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(D,d),De=yield new $(D,F,f).execute();return De&&!f&&(delete De.user._redirectEventId,yield D._persistUserIfCurrent(De.user),yield D._setRedirectUser(null,d)),De})).apply(this,arguments)}class yi{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(f=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Ga(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ou(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var D;if(d.error&&!ou(d)){const F=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";f.onError(Re(this.auth,F))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const D=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jr(d))}saveEventToCache(d){this.cachedEventUids.add(Jr(d)),this.lastProcessedEventTime=Date.now()}}function Jr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function ou({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function rs(){return(rs=(0,ae.Z)(function*(_,d={}){return an(_,"GET","/v1/projects",d)})).apply(this,arguments)}const lo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rc=/^https?/;function ic(){return ic=(0,ae.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield function jo(_){return rs.apply(this,arguments)}(_);for(const f of d)try{if(Vi(f))return}catch{}Me(_,"unauthorized-domain")}),ic.apply(this,arguments)}function Vi(_){const d=Ve(),{protocol:f,hostname:D}=new URL(d);if(_.startsWith("chrome-extension://")){const De=new URL(_);return""===De.hostname&&""===D?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&De.hostname===D}if(!rc.test(f))return!1;if(lo.test(_))return D===_;const F=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(D)}const Kl=new Zt(3e4,6e4);function xr(){const _=Wn().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let sc=null;function jc(_){return sc=sc||function Wa(_){return new Promise((d,f)=>{var D,F,z;function De(){xr(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{xr(),f(Re(_,"network-request-failed"))},timeout:Kl.get()})}if(null!==(F=null===(D=Wn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==F&&F.Iframe)d(gapi.iframes.getContext());else{if(null===(z=Wn().gapi)||void 0===z||!z.load){const Xe=Fi("iframefcb");return Wn()[Xe]=()=>{gapi.load?De():f(Re(_,"network-request-failed"))},function la(_){return new Promise((d,f)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=d,D.onerror=F=>{const z=Re("internal-error");z.customData=F,f(z)},D.type="text/javascript",D.charset="UTF-8",function Lo(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(D)})}(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(At=>f(At))}De()}}).catch(d=>{throw sc=null,d})}(_),sc}const oc=new Zt(5e3,15e3),Cg="__/auth/iframe",zc="emulator/auth/iframe",kn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ac(_){const d=_.config;Ne(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?Nt(d,zc):`https://${_.config.authDomain}/${Cg}`,D={apiKey:d.apiKey,appName:_.name,v:Je.Jn},F=vr.get(_.config.apiHost);F&&(D.eid=F);const z=_._getFrameworks();return z.length&&(D.fw=z.join(",")),`${f}?${(0,le.xO)(D).slice(1)}`}function Hc(){return Hc=(0,ae.Z)(function*(_){const d=yield jc(_),f=Wn().gapi;return Ne(f,_,"internal-error"),d.open({where:document.body,url:ac(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kn,dontclear:!0},D=>new Promise(function(){var F=(0,ae.Z)(function*(z,De){yield D.restyle({setHideOnLeave:!1});const Xe=Re(_,"network-request-failed"),At=Wn().setTimeout(()=>{De(Xe)},oc.get());function zt(){Wn().clearTimeout(At),z(D)}D.ping(zt).then(zt,()=>{De(Xe)})});return function(z,De){return F.apply(this,arguments)}}()))}),Hc.apply(this,arguments)}const eh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gc=500,Wc=600,Zl="_blank",Yl="http://localhost";class Ql{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const th="__/auth/handler",Df="emulator/auth/handler";function qc(_,d,f,D,F,z){Ne(_.config.authDomain,_,"auth-domain-config-required"),Ne(_.config.apiKey,_,"invalid-api-key");const De={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:D,v:Je.Jn,eventId:F};if(d instanceof rr){d.setDefaultLanguage(_.languageCode),De.providerId=d.providerId||"",(0,le.xb)(d.getCustomParameters())||(De.customParameters=JSON.stringify(d.getCustomParameters()));for(const[At,zt]of Object.entries(z||{}))De[At]=zt}if(d instanceof Fr){const At=d.getScopes().filter(zt=>""!==zt);At.length>0&&(De.scopes=At.join(","))}_.tenantId&&(De.tid=_.tenantId);const Xe=De;for(const At of Object.keys(Xe))void 0===Xe[At]&&delete Xe[At];return`${function Xl({config:_}){return _.emulator?Nt(_,Df):`https://${_.authDomain}/${th}`}(_)}?${(0,le.xO)(Xe).slice(1)}`}const Jl="webStorageSupport",ed=class Tf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=io,this._completeRedirectFn=Mt,this._overrideRedirectResult=On}_openPopup(d,f,D,F){var z=this;return(0,ae.Z)(function*(){var De;pe(null===(De=z.eventManagers[d._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const Xe=qc(d,f,D,Ve(),F);return function fa(_,d,f,D=Gc,F=Wc){const z=Math.max((window.screen.availHeight-F)/2,0).toString(),De=Math.max((window.screen.availWidth-D)/2,0).toString();let Xe="";const At=Object.assign(Object.assign({},eh),{width:D.toString(),height:F.toString(),top:z,left:De}),zt=(0,le.z$)().toLowerCase();f&&(Xe=Oe(zt)?Zl:f),K(zt)&&(d=d||Yl,At.scrollbars="yes");const Dn=Object.entries(At).reduce((Bi,[bo,ol])=>`${Bi}${bo}=${ol},`,"");if(function cs(_=(0,le.z$)()){var d;return Si(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(zt)&&"_self"!==Xe)return function Ef(_,d){const f=document.createElement("a");f.href=_,f.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(D)}(d||"",Xe),new Ql(null);const kr=window.open(d||"",Xe,Dn);Ne(kr,_,"popup-blocked");try{kr.focus()}catch{}return new Ql(kr)}(d,Xe,pi())})()}_openRedirect(d,f,D,F){var z=this;return(0,ae.Z)(function*(){return yield z._originValidation(d),function aa(_){Wn().location.href=_}(qc(d,f,D,Ve(),F)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:F,promise:z}=this.eventManagers[f];return F?Promise.resolve(F):(pe(z,"If manager is not set, promise should be"),z)}const D=this.initAndGetManager(d);return this.eventManagers[f]={promise:D},D.catch(()=>{delete this.eventManagers[f]}),D}initAndGetManager(d){var f=this;return(0,ae.Z)(function*(){const D=yield function Jd(_){return Hc.apply(this,arguments)}(d),F=new yi(d);return D.register("authEvent",z=>(Ne(z?.authEvent,d,"invalid-auth-event"),{status:F.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:F},f.iframes[d._key()]=D,F})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Jl,{type:Jl},F=>{var z;const De=null===(z=F?.[0])||void 0===z?void 0:z[Jl];void 0!==De&&f(!!De),Me(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Xd(_){return ic.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return qr()||ve()||Si()}};var Ti="@firebase/auth";class nd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,ae.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(D=>{d(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);f&&(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uu=(0,le.Pz)("authIdTokenMaxAge")||300;let $i=null;const rd=_=>function(){var d=(0,ae.Z)(function*(f){const D=f&&(yield f.getIdTokenResult()),F=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(F&&F>uu)return;const z=D?.token;$i!==z&&($i=z,yield fetch(_,{method:z?"POST":"DELETE",headers:z?{Authorization:`Bearer ${z}`}:{}}))});return function(f){return d.apply(this,arguments)}}();function uc(_=(0,Je.Mq)()){const d=(0,Je.qX)(_,"auth");if(d.isInitialized())return d.getImmediate();const f=function Ge(_,d){const f=(0,Je.qX)(_,"auth");if(f.isInitialized()){const F=f.getImmediate(),z=f.getOptions();if((0,le.vZ)(z,d??{}))return F;Me(F,"already-initialized")}return f.initialize({options:d})}(_,{popupRedirectResolver:ed,persistence:[ca,Nn,io]}),D=(0,le.Pz)("authTokenSyncURL");if(D){const z=rd(D);(function gs(_,d,f){(0,le.m9)(_).beforeAuthStateChanged(d,f)})(f,z,()=>z(f.currentUser)),function Ia(_,d,f,D){(0,le.m9)(_).onIdTokenChanged(d,f,D)}(f,De=>z(De))}const F=(0,le.q4)("auth");return F&&function _s(_,d,f){const D=lr(_);Ne(D._canInitEmulator,D,"emulator-config-failed"),Ne(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const F=!!f?.disableWarnings,z=Mo(d),{host:De,port:Xe}=function Tr(_){const d=Mo(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!f)return{host:"",port:null};const D=f[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(D);if(F){const z=F[1];return{host:z,port:Is(D.substr(z.length+1))}}{const[z,De]=D.split(":");return{host:z,port:Is(De)}}}(d);D.config.emulator={url:`${z}//${De}${null===Xe?"":`:${Xe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:De,port:Xe,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function qi(){function _(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(f,`http://${F}`),f}!function Yc(_){(0,Je.Xd)(new ne.wA("auth",(d,{options:f})=>{const D=d.getProvider("app").getImmediate(),F=d.getProvider("heartbeat"),{apiKey:z,authDomain:De}=D.options;return((Xe,At)=>{Ne(z&&!z.includes(":"),"invalid-api-key",{appName:Xe.name}),Ne(!De?.includes(":"),"argument-error",{appName:Xe.name});const zt={apiKey:z,authDomain:De,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(_)},Dn=new Ai(Xe,At,zt);return function tt(_,d){const f=d?.persistence||[],D=(Array.isArray(f)?f:[f]).map(Pe);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(D,d?.popupRedirectResolver)}(Dn,f),Dn})(D,F)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,D)=>{d.getProvider("auth-internal").initialize()})),(0,Je.Xd)(new ne.wA("auth-internal",d=>{const f=lr(d.getProvider("auth").getImmediate());return new nd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Je.KN)(Ti,"0.22.0",function Zc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Je.KN)(Ti,"0.22.0","esm2017")}("Browser");class Xc{constructor(d){return d}}class Ru{constructor(){return(0,R.vb)("auth")}}const Jc=new Z.OlP("angularfire2.auth-instances");function bf(_){return(d,f)=>{const D=d.runOutsideAngular(()=>_(f));return new Xc(D)}}const qa={provide:Ru,deps:[[new Z.FiY,Jc]]},id={provide:Xc,useFactory:function Nu(_,d){const f=(0,R.JM)("auth",_,d);return f&&new Xc(f)},deps:[[new Z.FiY,Jc],Q.Ot]};let ss=(()=>{class _{constructor(){(0,oe.KN)("angularfire",R.q4.full,"auth")}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275mod=Z.oAB({type:_}),_.\u0275inj=Z.cJS({providers:[id,qa]}),_})();function sd(_,...d){return{ngModule:ss,providers:[{provide:Jc,useFactory:bf(_),multi:!0,deps:[Z.R0b,Z.zs3,R.HU,Q.z6,[new Z.FiY,ye.nm],...d]}]}}const el=(0,R.u3)(uc,!0)},7169:(Gt,Ze,H)=>{H.d(Ze,{gg:()=>_f,ET:()=>i_,hJ:()=>s_,BS:()=>e_,JU:()=>a_,_1:()=>t_,ad:()=>Eg,Xo:()=>yy,Cm:()=>dy,IO:()=>f_,ar:()=>I_});var ee,R=H(9883),Z=H(8256),Q=H(4226),oe=H(3692),ye=H(259),ae=H(2313),le=H(5861),Je=H(9681),We=H(4859),te=H(1877),ne=H(2090),xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ye={},ot=ot||{},Le=xe||self;function Ut(){}function Et(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Bt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var rt="closure_uid_"+(1e9*Math.random()>>>0),it=0;function st(i,e,t){return i.call.apply(i.bind,arguments)}function yt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Me(i,e,t){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?st:yt).apply(null,arguments)}function Re(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function _e(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,l){for(var g=Array(arguments.length-2),E=2;E<arguments.length;E++)g[E-2]=arguments[E];return e.prototype[u].apply(o,g)}}function He(){this.s=this.s,this.o=this.o}He.prototype.s=!1,He.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ft(i){Object.prototype.hasOwnProperty.call(i,rt)&&i[rt]||(i[rt]=++it)}(this)},He.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ne=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function at(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function pe(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Et(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let g=0;g<l;g++)i[u+g]=o[g]}else i.push(o)}}function me(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",Ut,e),Le.removeEventListener("test",Ut,e)}catch{}return i}();function Ge(i){return/^[\s\xa0]*$/.test(i)}var tt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ve(i,e){return i<e?-1:i>e?1:0}function Dt(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function Ot(i){return-1!=Dt().indexOf(i)}function pn(i){return pn[" "](i),i}pn[" "]=Ut;var br,i,Zt=Ot("Opera"),Nt=Ot("Trident")||Ot("MSIE"),Jt=Ot("Edge"),Rr=Jt||Nt,sn=Ot("Gecko")&&!(-1!=Dt().toLowerCase().indexOf("webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),gt=-1!=Dt().toLowerCase().indexOf("webkit")&&!Ot("Edge");function an(){var i=Le.document;return i?i.documentMode:void 0}e:{var jr="",vn=(i=Dt(),sn?/rv:([^\);]+)(\)|;)/.exec(i):Jt?/Edge\/([\d\.]+)/.exec(i):Nt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gt?/WebKit\/(\S+)/.exec(i):Zt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(vn&&(jr=vn?vn[1]:""),Nt){var ar=an();if(null!=ar&&ar>parseFloat(jr)){br=String(ar);break e}}br=jr}var kt={};var Gi=Le.document&&Nt&&(an()||parseInt(br,10))||void 0;function Er(i,e){if(me.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(sn){e:{try{pn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Dr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Er.X.h.call(this)}}_e(Er,me);var Dr={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Fn="closure_listenable_"+(1e6*Math.random()|0),Wr=0;function gn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++Wr,this.ba=this.ea=!1}function bt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function $e(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Jn(i){const e={};for(const t in i)e[t]=i[t];return e}const nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _n(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let l=0;l<nr.length;l++)t=nr[l],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Kn(i){this.src=i,this.g={},this.h=0}function Zn(i,e){var t=e.type;if(t in i.g){var l,o=i.g[t],u=Ne(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(bt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mn(i,e,t,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==o)return u}return-1}Kn.prototype.add=function(i,e,t,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var g=mn(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new gn(e,this.src,l,!!o,u)).ea=t,i.push(e)),e};var Mn="closure_lm_"+(1e6*Math.random()|0),Ci={};function Cn(i,e,t,o,u){if(o&&o.once)return pt(i,e,t,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Cn(i,e[l],t,o,u);return null}return t=X(t),i&&i[Fn]?i.N(e,t,Bt(o)?!!o.capture:!!o,u):Lr(i,e,t,!1,o,u)}function Lr(i,e,t,o,u,l){if(!e)throw Error("Invalid event type");var g=Bt(u)?!!u.capture:!!u,E=rn(i);if(E||(i[Mn]=E=new Kn(i)),(t=E.add(e,t,o,g,l)).proxy)return t;if(o=function cr(){const e=Wt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Pe||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Yt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function pt(i,e,t,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pt(i,e[l],t,o,u);return null}return t=X(t),i&&i[Fn]?i.O(e,t,Bt(o)?!!o.capture:!!o,u):Lr(i,e,t,!0,o,u)}function Se(i,e,t,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Se(i,e[l],t,o,u);else o=Bt(o)?!!o.capture:!!o,t=X(t),i&&i[Fn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mn(l=i.g[e],t,o,u))&&(bt(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=rn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mn(e,t,o,u)),(t=-1<i?e[i]:null)&&vt(t))}function vt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Fn])Zn(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Yt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=rn(e))?(Zn(t,i),0==t.h&&(t.src=null,e[Mn]=null)):bt(i)}}}function Yt(i){return i in Ci?Ci[i]:Ci[i]="on"+i}function Wt(i,e){if(i.ba)i=!0;else{e=new Er(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&vt(i),i=t.call(o,e)}return i}function rn(i){return(i=i[Mn])instanceof Kn?i:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(i){return"function"==typeof i?i:(i[Sn]||(i[Sn]=function(e){return i.handleEvent(e)}),i[Sn])}function q(){He.call(this),this.i=new Kn(this),this.P=this,this.I=null}function se(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new me(e,i);else if(e instanceof me)e.target=e.target||i;else{var u=e;_n(e=new me(o,i),u)}if(u=!0,t)for(var l=t.length-1;0<=l;l--){var g=e.g=t[l];u=Ue(g,o,!0,e)&&u}if(u=Ue(g=e.g=i,o,!0,e)&&u,u=Ue(g,o,!1,e)&&u,t)for(l=0;l<t.length;l++)u=Ue(g=e.g=t[l],o,!1,e)&&u}function Ue(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var g=e[l];if(g&&!g.ba&&g.capture==t){var E=g.listener,M=g.ha||g.src;g.ea&&Zn(i.i,g),u=!1!==E.call(M,o)&&u}}return u&&!o.defaultPrevented}_e(q,He),q.prototype[Fn]=!0,q.prototype.removeEventListener=function(i,e,t,o){Se(this,i,e,t,o)},q.prototype.M=function(){if(q.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)bt(t[o]);delete i.g[e],i.h--}}this.I=null},q.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},q.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Ee=Le.JSON.stringify;function _t(){var i=Vt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qe,ie=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new K,i=>i.reset());class K{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ve(i){Le.setTimeout(()=>{throw i},0)}function Oe(i,e){qe||function Lt(){var i=Le.Promise.resolve(void 0);qe=function(){i.then(Si)}}(),Xt||(qe(),Xt=!0),Vt.add(i,e)}var Xt=!1,Vt=new class de{constructor(){this.h=this.g=null}add(e,t){const o=ie.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Si(){for(var i;i=_t();){try{i.h.call(i.g)}catch(t){ve(t)}var e=ie;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Xt=!1}function ci(i,e){q.call(this),this.h=i||1,this.g=e||Le,this.j=Me(this.lb,this),this.l=Date.now()}function cs(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function vs(i,e,t){if("function"==typeof i)t&&(i=Me(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Me(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function qr(i){i.g=vs(()=>{i.g=null,i.i&&(i.i=!1,qr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}_e(ci,q),(ee=ci.prototype).ca=!1,ee.R=null,ee.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),se(this,"tick"),this.ca&&(cs(this),this.start()))}},ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){ci.X.M.call(this),cs(this),delete this.g};class _i extends He{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qr(this)}M(){super.M(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(i){He.call(this),this.h=i,this.g={}}_e(Wi,He);var Bs=[];function Ai(i,e,t,o){Array.isArray(t)||(t&&(Bs[0]=t.toString()),t=Bs);for(var u=0;u<t.length;u++){var l=Cn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function lr(i){$e(i.g,function(e,t){this.g.hasOwnProperty(t)&&vt(e)},i),i.g={}}function js(){this.g=!0}function Tr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var g=1;g<u.length;g++)u[g]=""}}}return Ee(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Wi.prototype.M=function(){Wi.X.M.call(this),lr(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},js.prototype.Aa=function(){this.g=!1},js.prototype.info=function(){};var en={},dr=null;function _r(){return dr=dr||new q}function li(i){me.call(this,en.Pa,i)}function Yn(i){const e=_r();se(e,new li(e))}function ge(i,e){me.call(this,en.STAT_EVENT,i),this.stat=e}function ue(i){const e=_r();se(e,new ge(e,i))}function Te(i,e){me.call(this,en.Qa,i),this.size=e}function Fe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}en.Pa="serverreachability",_e(li,me),en.STAT_EVENT="statevent",_e(ge,me),en.Qa="timingevent",_e(Te,me);var Ie={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},nt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rt(){}function dn(){}Rt.prototype.h=null;var zr,xn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xi(){me.call(this,"d")}function un(){me.call(this,"c")}function Mi(){}function jt(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Wi(this),this.O=zs,this.T=new ci(i=Rr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}_e(xi,me),_e(un,me),_e(Mi,Rt),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},zr=new Mi;var zs=45e3,Pr={},Ri={};function zn(i,e,t){i.K=1,i.v=qo(Ii(e)),i.s=t,i.P=!0,Es(i,null)}function Es(i,e){i.F=Date.now(),Ds(i),i.A=Ii(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Qo(t.i,"t",o),i.C=0,t=i.l.H,i.h=new ws,i.g=ts(i.l,t?e:null,!i.s),0<i.N&&(i.L=new _i(Me(i.La,i,i.g),i.N)),Ai(i.S,i.g,"readystatechange",i.ib),e=i.H?Jn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Yn(),function _s(i,e,t,o,u,l){i.info(function(){if(i.g)if(l)for(var g="",E=l.split("&"),M=0;M<E.length;M++){var O=E[M].split("=");if(1<O.length){var B=O[0];O=O[1];var J=B.split("_");g=2<=J.length&&"type"==J[1]?g+(B+"=")+O+"&":g+(B+"=redacted&")}}else g=null;else g=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ki(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function hr(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Ro(i,t),u==Ri){4==e&&(i.o=4,ue(14),o=!1),Tr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Pr){i.o=4,ue(15),Tr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Tr(i.j,i.m,u,null),go(i,u)}Ki(i)&&u!=Ri&&u!=Pr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ue(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),es(e),e.K=!0,ue(11))):(Tr(i.j,i.m,t,"[Invalid Chunked Response]"),Zi(i),Hs(i))}function Ro(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ri:(t=Number(e.substring(t,o)),isNaN(t)?Pr:(o+=1)+t>e.length?Ri:(e=e.substr(o,t),i.C=o+t,e))}function Ds(i){i.V=Date.now()+i.O,Hn(i,i.O)}function Hn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fe(Me(i.gb,i),e)}function Po(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function Hs(i){0==i.l.G||i.I||no(i.l,i)}function Zi(i){Po(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,cs(i.T),lr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function go(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ti(t.h,i)))if(!i.J&&ti(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ia(t),_a(t)}Yr(t),ue(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=Fe(Me(t.cb,t),6e3));if(1>=Ni(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else As(t,11)}else if((i.J||t.g==i)&&ia(t),!Ge(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let O=u[e];if(t.T=O[0],O=O[1],2==t.G)if("c"==O[0]){t.I=O[1],t.ka=O[2];const B=O[3];null!=B&&(t.ma=B,t.j.info("VER="+t.ma));const J=O[4];null!=J&&(t.Ca=J,t.j.info("SVER="+t.Ca));const we=O[5];null!=we&&"number"==typeof we&&0<we&&(t.J=o=1.5*we,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Be=i.g;if(Be){const lt=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lt){var l=o.h;l.g||-1==lt.indexOf("spdy")&&-1==lt.indexOf("quic")&&-1==lt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ds(l,l.h),l.h=null))}if(o.D){const Ct=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;Ct&&(o.za=Ct,Ln(o.F,o.D,Ct))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=Nr(o,o.H?o.ka:null,o.V),g.J){gr(o.h,g);var E=g,M=o.J;M&&E.setTimeout(M),E.B&&(Po(E),Ds(E)),o.g=g}else Ir(o);0<t.i.length&&ra(t)}else"stop"!=O[0]&&"close"!=O[0]||As(t,7);else 3==t.G&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?As(t,7):va(t):"noop"!=O[0]&&t.l&&t.l.wa(O),t.A=0)}Yn()}catch{}}function fr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Et(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ts(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Et(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Gs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Et(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],t&&t[l],i)}(ee=jt.prototype).setTimeout=function(i){this.O=i},ee.ib=function(i){i=i.target;const e=this.L;e&&3==Zr(i)?e.l():this.La(i)},ee.La=function(i){try{if(i==this.g)e:{const B=Zr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>B)&&(3!=B||Rr||this.g&&(this.h.h||this.g.fa()||Tt(this.g)))){this.I||4!=B||7==e||Yn(),Po(this);var t=this.g.aa();this.Y=t;t:if(Ki(this)){var o=Tt(this.g);i="";var u=o.length,l=4==Zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Hs(this);var g="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function Mo(i,e,t,o,u,l,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+l+" "+g})}(this.j,this.u,this.A,this.m,this.U,B,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ge(E)){var O=E;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,ue(12),Zi(this),Hs(this);break e}Tr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,go(this,t)}this.P?(hr(this,B,g),Rr&&this.i&&3==B&&(Ai(this.S,this.T,"tick",this.hb),this.T.start())):(Tr(this.j,this.m,g,null),go(this,g)),4==B&&Zi(this),this.i&&!this.I&&(4==B?no(this.l,this):(this.i=!1,Ds(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,ue(12)):(this.o=0,ue(13)),Zi(this),Hs(this)}}}catch{}},ee.hb=function(){if(this.g){var i=Zr(this.g),e=this.g.fa();this.C<e.length&&(Po(this),hr(this,i,e),this.i&&4!=i&&Ds(this))}},ee.cancel=function(){this.I=!0,Zi(this)},ee.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Is(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yn(),ue(17)),Zi(this),this.o=2,Hs(this)):Hn(this,this.V-i)};var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof pr){this.h=void 0!==e?e:i.h,hi(this,i.j),this.s=i.s,this.g=i.g,rr(this,i.m),this.l=i.l,e=i.i;var t=new qs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fr(this,t),this.o=i.o}else i&&(t=String(i).match(Ja))?(this.h=!!e,hi(this,t[1]||"",!0),this.s=Pi(t[2]||""),this.g=Pi(t[3]||"",!0),rr(this,t[4]),this.l=Pi(t[5]||"",!0),Fr(this,t[6]||"",!0),this.o=Pi(t[7]||"")):(this.h=!!e,this.i=new qs(null,this.h))}function Ii(i){return new pr(i)}function hi(i,e,t){i.j=t?Pi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function rr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Fr(i,e,t){e instanceof qs?(i.i=e,function mo(i,e){e&&!i.j&&(Cr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(tu(this,o),Qo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ur(e,eu)),i.i=new qs(e,i.h))}function Ln(i,e,t){i.i.set(e,t)}function qo(i){return Ln(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ur(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Du),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Du(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}pr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ur(e,Ws,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ur(e,Ws,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ur(t,"/"==t.charAt(0)?Zo:Ko,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ur(t,Yo)),i.join("")};var Ws=/[#\/\?@]/g,Ko=/[#\?:]/g,Zo=/[#\?]/g,eu=/[#\?@]/g,Yo=/#/g;function qs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Cr(i){i.g||(i.g=new Map,i.h=0,i.i&&function di(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var l=i[t].substring(0,o);u=i[t].substring(o+1)}else l=i[t];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tu(i,e){Cr(i),e=Yi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ls(i,e){return Cr(i),e=Yi(i,e),i.g.has(e)}function Qo(i,e,t){tu(i,e),0<t.length&&(i.i=null,i.g.set(Yi(i,e),at(t)),i.h+=t.length)}function Yi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ma(i){this.l=i||Xo,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ga&&Le.g.Ga()&&Le.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=qs.prototype).add=function(i,e){Cr(this),this.i=null,i=Yi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){Cr(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},ee.oa=function(){Cr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)t.push(e[o])}return t},ee.W=function(i){Cr(this);let e=[];if("string"==typeof i)ls(this,i)&&(e=e.concat(this.g.get(Yi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ee.set=function(i,e){return Cr(this),this.i=null,ls(this,i=Yi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const l=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=l;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var Xo=10;function Jo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ni(i){return i.h?1:i.g?i.g.size:0}function ti(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ds(i,e){i.g?i.g.add(e):i.h=e}function gr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ea(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return at(i.i)}function yo(){}function hs(){this.g=new yo}function Zs(i,e,t){const o=t||"";try{fr(i,function(u,l){let g=u;Bt(u)&&(g=Ee(u)),e.push(o+l+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ys(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function bs(i){this.l=i.ac||null,this.j=i.jb||!1}function Kr(i,e){q.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Qi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ma.prototype.cancel=function(){if(this.i=ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},yo.prototype.stringify=function(i){return Le.JSON.stringify(i,void 0)},yo.prototype.parse=function(i){return Le.JSON.parse(i,void 0)},_e(bs,Rt),bs.prototype.g=function(){return new Kr(this.l,this.j)},bs.prototype.i=function(i){return function(){return i}}({}),_e(Kr,q);var Qi=0;function ta(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ir(i){i.readyState=4,i.l=null,i.j=null,i.A=null,na(i)}function na(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=Kr.prototype).open=function(i,e){if(this.readyState!=Qi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,na(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ir(this)),this.readyState=Qi},ee.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ta(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ee.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ir(this):na(this),3==this.readyState&&ta(this)}},ee.Va=function(i){this.g&&(this.response=this.responseText=i,ir(this))},ee.Ua=function(i){this.g&&(this.response=i,ir(this))},ee.ga=function(){this.g&&ir(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var fs=Le.JSON.parse;function qt(i){q.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qs,this.K=this.L=!1}_e(qt,q);var Qs="",Cs=/^https?$/i,Oi=["POST","PUT"];function Xs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Js(i),Xi(i)}function Js(i){i.D||(i.D=!0,se(i,"complete"),se(i,"error"))}function _o(i){if(i.h&&typeof ot<"u"&&(!i.C[1]||4!=Zr(i)||2!=i.aa()))if(i.v&&4==Zr(i))vs(i.Ha,0,i);else if(se(i,"readystatechange"),4==Zr(i)){i.h=!1;try{const E=i.aa();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===E){var u=String(i.H).match(Ja)[1]||null;if(!u&&Le.self&&Le.self.location){var l=Le.self.location.protocol;u=l.substr(0,l.length-1)}o=!Cs.test(u?u.toLowerCase():"")}t=o}if(t)se(i,"complete"),se(i,"success");else{i.m=6;try{var g=2<Zr(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",Js(i)}}finally{Xi(i)}}}function Xi(i,e){if(i.g){Ji(i);const t=i.g,o=i.C[0]?Ut:null;i.g=null,i.C=null,e||se(i,"ready");try{t.onreadystatechange=o}catch{}}}function Ji(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function Zr(i){return i.g?i.g.readyState:0}function Tt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Qs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function nu(i){let e="";return $e(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function eo(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=nu(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ln(i,e,t))}function Ss(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ya(i){this.Ca=0,this.i=[],this.j=new js,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ss("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ss("baseRetryDelayMs",5e3,i),this.bb=Ss("retryDelaySeedMs",1e4,i),this.$a=Ss("forwardChannelMaxRetries",2,i),this.ta=Ss("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ma(i&&i.concurrentRequestLimit),this.Fa=new hs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function va(i){if(No(i),3==i.G){var e=i.U++,t=Ii(i.F);Ln(t,"SID",i.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),to(i,t),(e=new jt(i,i.j,e,void 0)).K=2,e.v=qo(Ii(t)),t=!1,Le.navigator&&Le.navigator.sendBeacon&&(t=Le.navigator.sendBeacon(e.v.toString(),"")),!t&&Le.Image&&((new Image).src=e.v,t=!0),t||(e.g=ts(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ds(e)}ka(i)}function _a(i){i.g&&(es(i),i.g.cancel(),i.g=null)}function No(i){_a(i),i.u&&(Le.clearTimeout(i.u),i.u=null),ia(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function ra(i){Jo(i.h)||i.m||(i.m=!0,Oe(i.Ja,i),i.C=0)}function hn(i,e){var t;t=e?e.m:i.U++;const o=Ii(i.F);Ln(o,"SID",i.I),Ln(o,"RID",t),Ln(o,"AID",i.T),to(i,o),i.o&&i.s&&eo(o,i.o,i.s),t=new jt(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ps(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ds(i.h,t),zn(t,o,e)}function to(i,e){i.ia&&$e(i.ia,function(t,o){Ln(e,o,t)}),i.l&&fr({},function(t,o){Ln(e,o,t)})}function ps(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Me(i.l.Ra,i.l,i):null;e:{var u=i.i;let l=-1;for(;;){const g=["count="+t];-1==l?0<t?(l=u[0].h,g.push("ofs="+l)):l=0:g.push("ofs="+l);let E=!0;for(let M=0;M<t;M++){let O=u[M].h;const B=u[M].g;if(O-=l,0>O)l=Math.max(0,u[M].h-100),E=!1;else try{Zs(B,g,"req"+O+"_")}catch{o&&o(B)}}if(E){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Ir(i){i.g||i.u||(i.Z=1,Oe(i.Ia,i),i.A=0)}function Yr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Fe(Me(i.Ia,i),Oo(i,i.A)),i.A++,0))}function es(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function ni(i){i.g=new jt(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ii(i.sa);Ln(e,"RID","rpc"),Ln(e,"SID",i.I),Ln(e,"CI",i.L?"0":"1"),Ln(e,"AID",i.T),Ln(e,"TYPE","xmlhttp"),to(i,e),i.o&&i.s&&eo(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=qo(Ii(e)),t.s=null,t.P=!0,Es(t,i)}function ia(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function no(i,e){var t=null;if(i.g==e){ia(i),es(i),i.g=null;var o=2}else{if(!ti(i.h,e))return;t=e.D,gr(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;se(o=_r(),new Te(o,t)),ra(i)}else Ir(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Qe(i,e){return!(Ni(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Fe(Me(i.Ja,i,e),Oo(i,i.C)),i.C++,0)))}(i,e)||2==o&&Yr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:As(i,5);break;case 4:As(i,10);break;case 3:As(i,6);break;default:As(i,2)}}function Oo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function As(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Me(i.kb,i);t||(t=new pr("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||hi(t,"https"),qo(t)),function vo(i,e){const t=new js;if(Le.Image){const o=new Image;o.onload=Re(Ys,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Re(Ys,t,o,"TestLoadImage: error",!1,e),o.onabort=Re(Ys,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Re(Ys,t,o,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else ue(2);i.G=0,i.l&&i.l.va(e),ka(i),No(i)}function ka(i){if(i.G=0,i.la=[],i.l){const e=ea(i.h);(0!=e.length||0!=i.i.length)&&(pe(i.la,e),pe(i.la,i.i),i.h.i.length=0,at(i.i),i.i.length=0),i.l.ua()}}function Nr(i,e,t){var o=t instanceof pr?Ii(t):new pr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),rr(o,o.m);else{var u=Le.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new pr(null,void 0);o&&hi(l,o),e&&(l.g=e),u&&rr(l,u),t&&(l.l=t),o=l}return e=i.za,(t=i.D)&&e&&Ln(o,t,e),Ln(o,"VER",i.ma),to(i,o),o}function ts(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qt(t&&i.Da&&!i.ra?new bs({jb:!0}):i.ra)).Ka(i.H),e}function La(){}function ns(){if(Nt&&!(10<=Number(Gi)))throw Error("Environmental error: no available transport.")}function Gn(i,e){q.call(this),this.g=new ya(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ge(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ge(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ro(this)}function Fa(i){xi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function xs(){un.call(this),this.status=1}function ro(i){this.g=i}(ee=qt.prototype).Ka=function(i){this.L=i},ee.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function ln(i){return i.h||(i.h=i.i())}(this.u?this.u:zr),this.g.onreadystatechange=Me(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void Xs(this,l)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())t.set(l,o.get(l))}o=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),u=Le.FormData&&i instanceof Le.FormData,!(0<=Ne(Oi,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,g]of t)this.g.setRequestHeader(l,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ji(this),0<this.B&&((this.K=function wi(i){return Nt&&function bn(){return function xt(i){var e=kt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=tt(String(br)).split("."),t=tt("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",l=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=Ve(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||Ve(0==u[2].length,0==l[2].length)||Ve(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.qa,this)):this.A=vs(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Xs(this,l)}},ee.qa=function(){typeof ot<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,se(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,se(this,"complete"),se(this,"abort"),Xi(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xi(this,!0)),qt.X.M.call(this)},ee.Ha=function(){this.s||(this.F||this.v||this.l?_o(this):this.fb())},ee.fb=function(){_o(this)},ee.aa=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ee.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),fs(e)}},ee.Ea=function(){return this.m},ee.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=ya.prototype).ma=8,ee.G=1,ee.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new jt(this,this.j,i,void 0);let l=this.s;if(this.S&&(l?(l=Jn(l),_n(l,this.S)):l=this.S),null!==this.o||this.N||(u.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ps(this,u,e),Ln(t=Ii(this.F),"RID",i),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),to(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(nu(l)))+"&"+e:this.o&&eo(t,this.o,l)),ds(this.h,u),this.Ya&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),u.Z=!0,zn(u,t,null)):zn(u,t,e),this.G=2}}else 3==this.G&&(i?hn(this,i):0==this.i.length||Jo(this.h)||hn(this))},ee.Ia=function(){if(this.u=null,ni(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Fe(Me(this.eb,this),i)}},ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ue(10),_a(this),ni(this))},ee.cb=function(){null!=this.v&&(this.v=null,_a(this),Yr(this),ue(19))},ee.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))},(ee=La.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Ra=function(){},ns.prototype.g=function(i,e){return new Gn(i,e)},_e(Gn,q),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;ue(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Nr(i,null,i.V),ra(i)},Gn.prototype.close=function(){va(this.g)},Gn.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Ee(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ra(e)},Gn.prototype.M=function(){this.g.l=null,delete this.j,va(this.g),delete this.g,Gn.X.M.call(this)},_e(Fa,xi),_e(xs,un),_e(ro,La),ro.prototype.xa=function(){se(this.g,"a")},ro.prototype.wa=function(i){se(this.g,new Fa(i))},ro.prototype.va=function(i){se(this.g,new xs)},ro.prototype.ua=function(){se(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,nt.COMPLETE="complete",dn.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",q.prototype.listen=q.prototype.N,qt.prototype.listenOnce=qt.prototype.O,qt.prototype.getLastError=qt.prototype.Oa,qt.prototype.getLastErrorCode=qt.prototype.Ea,qt.prototype.getStatus=qt.prototype.aa,qt.prototype.getResponseJson=qt.prototype.Sa,qt.prototype.getResponseText=qt.prototype.fa,qt.prototype.send=qt.prototype.da,qt.prototype.setWithCredentials=qt.prototype.Ka;var ec=Ye.createWebChannelTransport=function(){return new ns},ru=Ye.getStatEventTarget=function(){return _r()},Io=Ye.ErrorCode=Ie,Tu=Ye.EventType=nt,sa=Ye.Event=en,oa=Ye.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ia=Ye.FetchXmlHttpFactory=bs,gs=Ye.WebChannel=dn,wa=Ye.XhrIo=qt;const Ua="@firebase/firestore";class sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let or="9.19.0";const Ms=new te.Yd("@firebase/firestore");function Vr(){return Ms.logLevel}function ze(i,...e){if(Ms.logLevel<=te.in.DEBUG){const t=e.map(T);Ms.debug(`Firestore (${or}): ${i}`,...t)}}function Qn(i,...e){if(Ms.logLevel<=te.in.ERROR){const t=e.map(T);Ms.error(`Firestore (${or}): ${i}`,...t)}}function Rn(i,...e){if(Ms.logLevel<=te.in.WARN){const t=e.map(T);Ms.warn(`Firestore (${or}): ${i}`,...t)}}function T(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function P(i="Unexpected state"){const e=`FIRESTORE (${or}) INTERNAL ASSERTION FAILED: `+i;throw Qn(e),new Error(e)}function b(i,e){i||P()}function j(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ne.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ct{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class In{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class An{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sr.UNAUTHENTICATED))}shutdown(){}}class Pn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wn{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const l=O=>this.i!==u?(u=this.i,t(O)):Promise.resolve();let g=new ct;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ct,e.enqueueRetryable(()=>l(this.currentUser))};const E=()=>{const O=g;e.enqueueRetryable((0,le.Z)(function*(){yield O.promise,yield l(o.currentUser)}))},M=O=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(O=>M(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?M(O):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ct)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(b("string"==typeof o.accessToken),new In(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new sr(e)}}class er{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Nn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new er(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class io{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=l=>{null!=l.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const g=l.token!==this.T;return this.T=l.token,ze("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(b("string"==typeof t.token),this.T=t.token,new Sr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function so(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class pi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=so(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<t&&(o+=e.charAt(u[l]%e.length))}return o}}function Kt(i,e){return i<e?-1:i>e?1:0}function Wn(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Un(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Un(0,0))}static max(){return new Ft(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gi{constructor(e,t,o){void 0===t?t=0:t>e.length&&P(),void 0===o?o=e.length-t:o>e.length-t&&P(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===gi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const l=e.get(u),g=t.get(u);if(l<g)return-1;if(l>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends gi{construct(e,t,o){return new cn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new re(W.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const Va=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends gi{construct(e,t,o){return new mr(e,t,o)}static isValidIdentifier(e){return Va.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const l=()=>{if(0===o.length)throw new re(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new re(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new re(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,u+=2}else"`"===E?(g=!g,u++):"."!==E||g?(o+=E,u++):(l(),u++)}if(l(),g)throw new re(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(cn.fromString(e))}static fromName(e){return new ht(cn.fromString(e).popFirst(5))}static empty(){return new ht(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new cn(e.slice()))}}function ri(i){return new mi(i.readTime,i.key,-1)}class mi{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new mi(Ft.min(),ht.empty(),-1)}static max(){return new mi(Ft.max(),ht.empty(),-1)}}function ao(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=ht.comparator(i.documentKey,e.documentKey),0!==t?t:Kt(i.largestBatchId,e.largestBatchId))}const ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ns{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Os(i){return ca.apply(this,arguments)}function ca(){return ca=(0,le.Z)(function*(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==ua)throw i;ze("LocalStore","Unexpectedly lost primary lease")}),ca.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,o)=>{t(e)})}static reject(e){return new Ae((t,o)=>{o(e)})}static waitFor(e){return new Ae((t,o)=>{let u=0,l=0,g=!1;e.forEach(E=>{++u,E.next(()=>{++l,g&&l===u&&t()},M=>o(M))}),g=!0,l===u&&t()})}static or(e){let t=Ae.resolve(!1);for(const o of e)t=t.next(u=>u?Ae.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,l)=>{o.push(t.call(this,u,l))}),this.waitFor(o)}static mapArray(e,t){return new Ae((o,u)=>{const l=e.length,g=new Array(l);let E=0;for(let M=0;M<l;M++){const O=M;t(e[O]).next(B=>{g[O]=B,++E,E===l&&o(g)},B=>u(B))}})}static doWhile(e,t){return new Ae((o,u)=>{const l=()=>{!0===e()?t().next(()=>{l()},u):o()};l()})}}function Lo(i){return"IndexedDbTransactionError"===i.name}let yr=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Ta(i){return null==i}function Ui(i){return 0===i&&1/i==-1/0}function Fs(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Bo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function y(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class v{constructor(e,t){this.comparator=e,this.root=t||I.EMPTY}insert(e,t){return new v(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,I.BLACK,null,null))}remove(e){return new v(this.comparator,this.root.remove(e,this.comparator).copy(null,null,I.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new p(this.root,e,this.comparator,!1)}getReverseIterator(){return new p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new p(this.root,e,this.comparator,!0)}}class p{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class I{constructor(e,t,o,u,l){this.key=e,this.value=t,this.color=o??I.RED,this.left=u??I.EMPTY,this.right=l??I.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,l){return new I(e??this.key,t??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===l?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return I.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return I.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,I.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,I.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}I.EMPTY=null,I.RED=!0,I.BLACK=!1,I.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(i,e,t,o,u){return this}insert(i,e,t){return new I(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class A{constructor(e){this.comparator=e,this.data=new v(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L(this.data.getIterator())}getIteratorFrom(e){return new L(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof A)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new A(this.comparator);return t.data=e,t}}class L{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ce{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new ce([])}unionWith(e){let t=new A(mr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ce(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wn(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ke extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class et{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ke("Invalid base64 string: "+u):u}}(e);return new et(t)}static fromUint8Array(e){const t=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new et(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const yn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function On(i){if(b(!!i),"string"==typeof i){let e=0;const t=yn.exec(i);if(b(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:$n(i.seconds),nanos:$n(i.nanos)}}function $n(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Xr(i){return"string"==typeof i?et.fromBase64String(i):et.fromUint8Array(i)}function ms(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Di(i){const e=i.mapValue.fields.__previous_value__;return ms(e)?Di(e):e}function Us(i){const e=On(i.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class su{constructor(e,t,o,u,l,g,E,M){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=g,this.autoDetectLongPolling=E,this.useFetchStreams=M}}class S{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new S("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof S&&e.projectId===this.projectId&&e.database===this.database}}const x={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function G(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ms(i)?4:rs(i)?9007199254740991:10:P()}function he(i,e){if(i===e)return!0;const t=G(i);if(t!==G(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Us(i).isEqual(Us(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=On(o.timestampValue),g=On(u.timestampValue);return l.seconds===g.seconds&&l.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Xr(i.bytesValue).isEqual(Xr(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return $n(o.geoPointValue.latitude)===$n(u.geoPointValue.latitude)&&$n(o.geoPointValue.longitude)===$n(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return $n(o.integerValue)===$n(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=$n(o.doubleValue),g=$n(u.doubleValue);return l===g?Ui(l)===Ui(g):isNaN(l)&&isNaN(g)}return!1}(i,e);case 9:return Wn(i.arrayValue.values||[],e.arrayValue.values||[],he);case 10:return function(o,u){const l=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Fs(l)!==Fs(g))return!1;for(const E in l)if(l.hasOwnProperty(E)&&(void 0===g[E]||!he(l[E],g[E])))return!1;return!0}(i,e);default:return P()}var u}function Ce(i,e){return void 0!==(i.values||[]).find(t=>he(t,e))}function Ke(i,e){if(i===e)return 0;const t=G(i),o=G(e);if(t!==o)return Kt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const g=$n(u.integerValue||u.doubleValue),E=$n(l.integerValue||l.doubleValue);return g<E?-1:g>E?1:g===E?0:isNaN(g)?isNaN(E)?0:-1:1}(i,e);case 3:return Mt(i.timestampValue,e.timestampValue);case 4:return Mt(Us(i),Us(e));case 5:return Kt(i.stringValue,e.stringValue);case 6:return function(u,l){const g=Xr(u),E=Xr(l);return g.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const g=u.split("/"),E=l.split("/");for(let M=0;M<g.length&&M<E.length;M++){const O=Kt(g[M],E[M]);if(0!==O)return O}return Kt(g.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const g=Kt($n(u.latitude),$n(l.latitude));return 0!==g?g:Kt($n(u.longitude),$n(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const g=u.values||[],E=l.values||[];for(let M=0;M<g.length&&M<E.length;++M){const O=Ke(g[M],E[M]);if(O)return O}return Kt(g.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===x.mapValue&&l===x.mapValue)return 0;if(u===x.mapValue)return 1;if(l===x.mapValue)return-1;const g=u.fields||{},E=Object.keys(g),M=l.fields||{},O=Object.keys(M);E.sort(),O.sort();for(let B=0;B<E.length&&B<O.length;++B){const J=Kt(E[B],O[B]);if(0!==J)return J;const we=Ke(g[E[B]],M[O[B]]);if(0!==we)return we}return Kt(E.length,O.length)}(i.mapValue,e.mapValue);default:throw P()}}function Mt(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kt(i,e);const t=On(i),o=On(e),u=Kt(t.seconds,o.seconds);return 0!==u?u:Kt(t.nanos,o.nanos)}function St(i){return $t(i)}function $t(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=On(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Xr(i.bytesValue).toBase64():"referenceValue"in i?ht.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const g of o.values||[])l?l=!1:u+=",",u+=$t(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",g=!0;for(const E of u)g?g=!1:l+=",",l+=`${E}:${$t(o.fields[E])}`;return l+"}"}(i.mapValue):P();var e}function on(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function nn(i){return!!i&&"integerValue"in i}function yi(i){return!!i&&"arrayValue"in i}function Jr(i){return!!i&&"nullValue"in i}function ou(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ga(i){return!!i&&"mapValue"in i}function jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Bo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=jo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function rs(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ga(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(t)}setAll(e){let t=mr.emptyPath(),o={},u=[];e.forEach((g,E)=>{if(!t.isImmediateParentOf(E)){const M=this.getFieldsMap(t);this.applyChanges(M,o,u),o={},u=[],t=E.popLast()}g?o[E.lastSegment()]=jo(g):u.push(E.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,u)}delete(e){const t=this.field(e.popLast());Ga(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return he(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Ga(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Bo(t,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Vi(jo(this.value))}}function Kl(i){const e=[];return Bo(i.fields,(t,o)=>{const u=new mr([t]);if(Ga(o)){const l=Kl(o.mapValue).fields;if(0===l.length)e.push(u);else for(const g of l)e.push(u.child(g))}else e.push(u)}),new ce(e)}class xr{constructor(e,t,o,u,l,g,E){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=l,this.data=g,this.documentState=E}static newInvalidDocument(e){return new xr(e,0,Ft.min(),Ft.min(),Ft.min(),Vi.empty(),0)}static newFoundDocument(e,t,o,u){return new xr(e,1,t,Ft.min(),o,u,0)}static newNoDocument(e,t){return new xr(e,2,t,Ft.min(),Ft.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,Ft.min(),Ft.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wa{constructor(e,t){this.position=e,this.inclusive=t}}function sc(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],g=i.position[u];if(o=l.field.isKeyField()?ht.comparator(ht.fromName(g.referenceValue),t.key):Ke(g,t.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function jc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!he(i.position[t],e.position[t]))return!1;return!0}class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cg(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class zc{}class kn extends zc{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Ql(e,t,o):"array-contains"===t?new Df(e,o):"in"===t?new qc(e,o):"not-in"===t?new Xl(e,o):"array-contains-any"===t?new Jl(e,o):new kn(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new fa(e,o):new Ef(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ke(t,this.value)):null!==t&&G(this.value)===G(t)&&this.matchesComparison(Ke(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vr extends zc{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new vr(e,t)}matches(e){return ac(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ac(i){return"and"===i.op}function Hc(i){return function eh(i){for(const e of i.filters)if(e instanceof vr)return!1;return!0}(i)&&ac(i)}function Gc(i){if(i instanceof kn)return i.field.canonicalString()+i.op.toString()+St(i.value);if(Hc(i))return i.filters.map(e=>Gc(e)).join(",");{const e=i.filters.map(t=>Gc(t)).join(",");return`${i.op}(${e})`}}function Wc(i,e){return i instanceof kn?(t=i,(o=e)instanceof kn&&t.op===o.op&&t.field.isEqual(o.field)&&he(t.value,o.value)):i instanceof vr?function(t,o){return o instanceof vr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,l,g)=>u&&Wc(l,o.filters[g]),!0)}(i,e):void P();var t,o}function Yl(i){return i instanceof kn?`${(e=i).field.canonicalString()} ${e.op} ${St(e.value)}`:i instanceof vr?function(e){return e.op.toString()+" {"+e.getFilters().map(Yl).join(" ,")+"}"}(i):"Filter";var e}class Ql extends kn{constructor(e,t,o){super(e,t,o),this.key=ht.fromName(o.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class fa extends kn{constructor(e,t){super(e,"in",t),this.keys=th(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ef extends kn{constructor(e,t){super(e,"not-in",t),this.keys=th(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function th(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>ht.fromName(o.referenceValue))}class Df extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yi(t)&&Ce(t.arrayValue,this.value)}}class qc extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ce(this.value.arrayValue,t)}}class Xl extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ce(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ce(this.value.arrayValue,t)}}class Jl extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yi(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ce(this.value.arrayValue,o))}}class Tf{constructor(e,t=null,o=[],u=[],l=null,g=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=g,this.endAt=E,this.ft=null}}function ed(i,e=null,t=[],o=[],u=null,l=null,g=null){return new Tf(i,e,t,o,u,l,g)}function au(i){const e=j(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Gc(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ta(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>St(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>St(o)).join(",")),e.ft=t}return e.ft}function Au(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Cg(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Wc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jc(i.startAt,e.startAt)&&jc(i.endAt,e.endAt)}function td(i){return ht.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Vs{constructor(e,t=null,o=[],u=[],l=null,g="F",E=null,M=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=g,this.startAt=E,this.endAt=M,this.dt=null,this.wt=null}}function zo(i){return new Vs(i)}function nd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Zc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Yc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Qc(i){return null!==i.collectionGroup}function uu(i){const e=j(i);if(null===e.dt){e.dt=[];const t=Yc(e),o=Zc(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new oc(t)),e.dt.push(new oc(mr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new oc(mr.keyField(),l))}}}return e.dt}function $i(i){const e=j(i);if(!e.wt)if("F"===e.limitType)e.wt=ed(e.path,e.collectionGroup,uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of uu(e))t.push(new oc(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Wa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Wa(e.startAt.position,e.startAt.inclusive):null;e.wt=ed(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function rd(i,e){e.getFirstInequalityField(),Yc(i);const t=i.filters.concat([e]);return new Vs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function uc(i,e,t){return new Vs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Mu(i,e){return Au($i(i),$i(e))&&i.limitType===e.limitType}function Xc(i){return`${au($i(i))}|lt:${i.limitType}`}function Ru(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Yl(o)).join(", ")}]`),Ta(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>St(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>St(o)).join(",")),`Target(${t})`}($i(i))}; limitType=${i.limitType})`}function Pu(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):ht.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of uu(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,l,g){const E=sc(u,l,g);return u.inclusive?E<=0:E<0}(t.startAt,uu(t),o)||t.endAt&&!function(u,l,g){const E=sc(u,l,g);return u.inclusive?E>=0:E>0}(t.endAt,uu(t),o)));var t,o}function Nu(i){return(e,t)=>{let o=!1;for(const u of uu(i)){const l=bf(u,e,t);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function bf(i,e,t){const o=i.field.isKeyField()?ht.comparator(e.key,t.key):function(u,l,g){const E=l.data.field(u),M=g.data.field(u);return null!==E&&null!==M?Ke(E,M):P()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return P()}}class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(t,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return y(this.inner)}size(){return this.innerSize}}const id=new v(ht.comparator);function ss(){return id}const sd=new v(ht.comparator);function Sa(...i){let e=sd;for(const t of i)e=e.insert(t.key,t);return e}function od(i){let e=sd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function pa(){return Ou()}function Cf(){return Ou()}function Ou(){return new qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Sg=new v(ht.comparator),Ag=new A(ht.comparator);function En(...i){let e=Ag;for(const t of i)e=e.add(t);return e}const xg=new A(Kt);function ad(){return xg}function Sf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ui(e)?"-0":e}}function nh(i){return{integerValue:""+i}}function el(i,e){return function $c(i){return"number"==typeof i&&Number.isInteger(i)&&!Ui(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?nh(e):Sf(i,e)}class tl{constructor(){this._=void 0}}function rh(i,e,t){return i instanceof ku?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(t,e):i instanceof cu?lu(i,e):i instanceof du?ih(i,e):function(o,u){const l=Af(o,u),g=Rg(l)+Rg(o._t);return nn(l)&&nn(o._t)?nh(g):Sf(o.serializer,g)}(i,e)}function Mg(i,e,t){return i instanceof cu?lu(i,e):i instanceof du?ih(i,e):t}function Af(i,e){return i instanceof cc?nn(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ku extends tl{}class cu extends tl{constructor(e){super(),this.elements=e}}function lu(i,e){const t=nl(e);for(const o of i.elements)t.some(u=>he(u,o))||t.push(o);return{arrayValue:{values:t}}}class du extends tl{constructor(e){super(),this.elements=e}}function ih(i,e){let t=nl(e);for(const o of i.elements)t=t.filter(u=>!he(u,o));return{arrayValue:{values:t}}}class cc extends tl{constructor(e,t){super(),this.serializer=e,this._t=t}}function Rg(i){return $n(i.integerValue||i.doubleValue)}function nl(i){return yi(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Mf{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class il{}function sl(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new hc(i.key,Or.none()):new hu(i.key,i.data,Or.none());{const t=i.data,o=Vi.empty();let u=new A(mr.comparator);for(let l of e.fields)if(!u.has(l)){let g=t.field(l);null===g&&l.length>1&&(l=l.popLast(),g=t.field(l)),null===g?o.delete(l):o.set(l,g),u=u.add(l)}return new To(i.key,o,new ce(u.toArray()),Or.none())}}function ud(i,e,t){i instanceof hu?function(o,u,l){const g=o.value.clone(),E=oh(o.fieldTransforms,u,l.transformResults);g.setAll(E),u.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(i,e,t):i instanceof To?function(o,u,l){if(!lc(o.precondition,u))return void u.convertToUnknownDocument(l.version);const g=oh(o.fieldTransforms,u,l.transformResults),E=u.data;E.setAll(Rf(o)),E.setAll(g),u.convertToFoundDocument(l.version,E).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dc(i,e,t,o){return i instanceof hu?function(u,l,g,E){if(!lc(u.precondition,l))return g;const M=u.value.clone(),O=Pf(u.fieldTransforms,E,l);return M.setAll(O),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null}(i,e,t,o):i instanceof To?function(u,l,g,E){if(!lc(u.precondition,l))return g;const M=Pf(u.fieldTransforms,E,l),O=l.data;return O.setAll(Rf(u)),O.setAll(M),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(B=>B.field))}(i,e,t,o):(g=t,lc(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):g);var l,g}function sh(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Af(o.transform,u||null);null!=l&&(null===t&&(t=Vi.empty()),t.set(o.field,l))}return t||null}function cd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Wn(t,o,(u,l)=>function xf(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof cu&&o instanceof cu||t instanceof du&&o instanceof du?Wn(t.elements,o.elements,he):t instanceof cc&&o instanceof cc?he(t._t,o._t):t instanceof ku&&o instanceof ku);var t,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class hu extends il{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class To extends il{constructor(e,t,o,u,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rf(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function oh(i,e,t){const o=new Map;b(i.length===t.length);for(let u=0;u<t.length;u++){const l=i[u],g=l.transform,E=e.data.field(l.field);o.set(l.field,Mg(g,E,t[u]))}return o}function Pf(i,e,t){const o=new Map;for(const u of i){const l=u.transform,g=t.data.field(u.field);o.set(u.field,rh(l,g,e))}return o}class hc extends il{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ah extends il{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ld{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&ud(l,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=dc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=dc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Cf();return this.mutations.forEach(u=>{const l=e.get(u.key),g=l.overlayedDocument;let E=this.applyToLocalView(g,l.mutatedFields);E=t.has(u.key)?null:E;const M=sl(g,E);null!==M&&o.set(u.key,M),g.isValidDocument()||g.convertToNoDocument(Ft.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&Wn(this.mutations,e.mutations,(t,o)=>cd(t,o))&&Wn(this.baseMutations,e.baseMutations,(t,o)=>cd(t,o))}}class dd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){b(e.mutations.length===o.length);let u=Sg;const l=e.mutations;for(let g=0;g<l.length;g++)u=u.insert(l[g].key,o[g].version);return new dd(e,t,o,u)}}class fc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ng{constructor(e){this.count=e}}var bi,Bn;function Nf(i){if(void 0===i)return Qn("GRPC error has no .code"),W.UNKNOWN;switch(i){case bi.OK:return W.OK;case bi.CANCELLED:return W.CANCELLED;case bi.UNKNOWN:return W.UNKNOWN;case bi.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case bi.INTERNAL:return W.INTERNAL;case bi.UNAVAILABLE:return W.UNAVAILABLE;case bi.UNAUTHENTICATED:return W.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case bi.NOT_FOUND:return W.NOT_FOUND;case bi.ALREADY_EXISTS:return W.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return W.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case bi.ABORTED:return W.ABORTED;case bi.OUT_OF_RANGE:return W.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return W.UNIMPLEMENTED;case bi.DATA_LOSS:return W.DATA_LOSS;default:return P()}}(Bn=bi||(bi={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";class _{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return d}static getOrCreateInstance(){return null===d&&(d=new _),d}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let d=null;class f{constructor(e,t,o,u,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,D.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new f(Ft.min(),u,ad(),ss(),En())}}class D{constructor(e,t,o,u,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new D(o,t,En(),En(),En())}}class F{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class z{constructor(e,t){this.targetId=e,this.Et=t}}class De{constructor(e,t,o=et.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Xe{constructor(){this.At=0,this.Rt=Dn(),this.vt=et.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=En(),t=En(),o=En();return this.Rt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:P()}}),new D(this.vt,this.bt,e,t,o)}xt(){this.Pt=!1,this.Rt=Dn()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class At{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=ss(),this.qt=zt(),this.Ut=new A(Kt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const o=this.jt(t);switch(e.state){case 0:this.Wt(t)&&o.Dt(e.resumeToken);break;case 1:o.$t(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.$t(),o.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(o.Mt(),o.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:P()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.Wt(u)&&t(u)})}Jt(e){var t;const o=e.targetId,u=e.Et.count,l=this.Yt(o);if(l){const g=l.target;if(td(g))if(0===u){const E=new ht(g.path);this.Qt(o,E,xr.newNoDocument(E,Ft.min()))}else b(1===u);else{const E=this.Zt(o);E!==u&&(this.Ht(o),this.Ut=this.Ut.add(o),null===(t=_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:E,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((l,g)=>{const E=this.Yt(g);if(E){if(l.current&&td(E.target)){const M=new ht(E.target.path);null!==this.Lt.get(M)||this.te(g,M)||this.Qt(g,M,xr.newNoDocument(M,e))}l.St&&(t.set(g,l.Ct()),l.xt())}});let o=En();this.qt.forEach((l,g)=>{let E=!0;g.forEachWhile(M=>{const O=this.Yt(M);return!O||2===O.purpose||(E=!1,!1)}),E&&(o=o.add(l))}),this.Lt.forEach((l,g)=>g.setReadTime(e));const u=new f(e,t,this.Ut,this.Lt,o);return this.Lt=ss(),this.qt=zt(),this.Ut=new A(Kt),u}Gt(e,t){if(!this.Wt(e))return;const o=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.Wt(e))return;const u=this.jt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Xe,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new A(Kt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Xe),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function zt(){return new v(ht.comparator)}function Dn(){return new v(ht.comparator)}const kr={asc:"ASCENDING",desc:"DESCENDING"},Bi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bo={and:"AND",or:"OR"};class ol{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Of(i,e){return Lu(i,e.toTimestamp())}function ei(i){return b(!!i),Ft.fromTimestamp(function(e){const t=On(e);return new Un(t.seconds,t.nanos)}(i))}function al(i,e){return(t=i,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ul(i){const e=cn.fromString(i);return b(hh(e)),e}function Fu(i,e){return al(i.databaseId,e.path)}function Co(i,e){const t=ul(e);if(t.get(1)!==i.databaseId.projectId)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ht(ga(t))}function cl(i,e){return al(i.databaseId,e)}function Aa(i){return new cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ga(i){return b(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ll(i,e,t){return{name:Fu(i,e),fields:t.value.mapValue.fields}}function dh(i,e){return{documents:[cl(i,e.path)]}}function pd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=cl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(M){if(0!==M.length)return gd(vr.create(M,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const l=function(M){if(0!==M.length)return M.map(O=>{return{field:Uu((B=O).field),direction:Py(B.dir)};var B})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const g=(O=e.limit,i.useProto3Json||Ta(O)?O:{value:O});var O,E,M;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(M=e.endAt).inclusive,values:M.position}),t}function Ry(i){let e=function ch(i){const e=ul(i);return 4===e.length?cn.emptyPath():ga(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){b(1===o);const B=t.from[0];B.allDescendants?u=B.collectionId:e=e.child(B.collectionId)}let l=[];t.where&&(l=function(B){const J=Lf(B);return J instanceof vr&&Hc(J)?J.getFilters():[J]}(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(B=>{return new oc(pc((J=B).field),function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let E=null;t.limit&&(E=function(B){let J;return J="object"==typeof B?B.value:B,Ta(J)?null:J}(t.limit));let M=null;var B;t.startAt&&(M=new Wa((B=t.startAt).values||[],!!B.before));let O=null;return t.endAt&&(O=function(B){return new Wa(B.values||[],!B.before)}(t.endAt)),function Ti(i,e,t,o,u,l,g,E){return new Vs(i,e,t,o,u,l,g,E)}(e,u,g,l,E,"F",M,O)}function Lf(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pc(e.unaryFilter.field);return kn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=pc(e.unaryFilter.field);return kn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=pc(e.unaryFilter.field);return kn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=pc(e.unaryFilter.field);return kn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(i):void 0!==i.fieldFilter?kn.create(pc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return vr.create(e.compositeFilter.filters.map(t=>Lf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(i):P();var e}function Py(i){return kr[i]}function Ny(i){return Bi[i]}function Oy(i){return bo[i]}function Uu(i){return{fieldPath:i.canonicalString()}}function pc(i){return mr.fromServerFormat(i.fieldPath)}function gd(i){return i instanceof kn?function(e){if("=="===e.op){if(ou(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NAN"}};if(Jr(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ou(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NAN"}};if(Jr(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(e.field),op:Ny(e.op),value:e.value}}}(i):i instanceof vr?function(e){const t=e.getFilters().map(o=>gd(o));return 1===t.length?t[0]:{compositeFilter:{op:Oy(e.op),filters:t}}}(i):P()}function ky(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Vu{constructor(e,t,o,u,l=Ft.min(),g=Ft.min(),E=et.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=E}withSequenceNumber(e){return new Vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vi{constructor(e){this.se=e}}function fh(i){const e=Ry({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?uc(e,e.limit,"L"):e}class yc{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he($n(e.integerValue));else if("doubleValue"in e){const o=$n(e.doubleValue);isNaN(o)?this.ae(t,13):(this.ae(t,15),Ui(o)?t.he(0):t.he(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ae(t,20),"string"==typeof o?t.le(o):(t.le(`${o.seconds||""}`),t.he(o.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Xr(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ae(t,45),t.he(o.latitude||0),t.he(o.longitude||0)}else"mapValue"in e?rs(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):P()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const o=e.fields||{};this.ae(t,55);for(const u of Object.keys(o))this.fe(u,t),this.ue(o[u],t)}ge(e,t){const o=e.values||[];this.ae(t,50);for(const u of o)this.ue(u,t)}_e(e,t){this.ae(t,37),ht.fromName(e).path.forEach(o=>{this.ae(t,60),this.ye(o,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}yc.pe=new yc;class Uy{constructor(){this.He=new qf}addToCollectionParentIndex(e,t){return this.He.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(mi.min())}updateCollectionGroup(e,t,o){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class qf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new A(cn.comparator),l=!u.has(o);return this.index[t]=u.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new A(cn.comparator)).toArray()}}new Uint8Array(0);class So{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class Ic{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ic(0)}static bn(){return new Ic(-1)}}class wd{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ae.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yg{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&dc(o.mutation,u,ce.empty(),Un.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,En()).next(()=>o))}getLocalViewOfDocuments(e,t,o=En()){const u=pa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(l=>{let g=Sa();return l.forEach((E,M)=>{g=g.insert(E,M.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,En()))}populateOverlays(e,t,o){const u=[];return o.forEach(l=>{t.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((g,E)=>{t.set(g,E)})})}computeViews(e,t,o,u){let l=ss();const g=Ou(),E=Ou();return t.forEach((M,O)=>{const B=o.get(O.key);u.has(O.key)&&(void 0===B||B.mutation instanceof To)?l=l.insert(O.key,O):void 0!==B?(g.set(O.key,B.mutation.getFieldMask()),dc(B.mutation,O,B.mutation.getFieldMask(),Un.now())):g.set(O.key,ce.empty())}),this.recalculateAndSaveOverlays(e,l).next(M=>(M.forEach((O,B)=>g.set(O,B)),t.forEach((O,B)=>{var J;return E.set(O,new yu(B,null!==(J=g.get(O))&&void 0!==J?J:null))}),E))}recalculateAndSaveOverlays(e,t){const o=Ou();let u=new v((g,E)=>g-E),l=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const E of g)E.keys().forEach(M=>{const O=t.get(M);if(null===O)return;let B=o.get(M)||ce.empty();B=E.applyToLocalView(O,B),o.set(M,B);const J=(u.get(E.batchId)||En()).add(M);u=u.insert(E.batchId,J)})}).next(()=>{const g=[],E=u.getReverseIterator();for(;E.hasNext();){const M=E.getNext(),O=M.key,B=M.value,J=Cf();B.forEach(we=>{if(!l.has(we)){const Be=sl(t.get(we),o.get(we));null!==Be&&J.set(we,Be),l=l.add(we)}}),g.push(this.documentOverlayCache.saveOverlays(e,O,J))}return Ae.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return ht.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Qc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(l=>{const g=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-l.size):Ae.resolve(pa());let E=-1,M=l;return g.next(O=>Ae.forEach(O,(B,J)=>(E<J.largestBatchId&&(E=J.largestBatchId),l.get(B)?Ae.resolve():this.remoteDocumentCache.getEntry(e,B).next(we=>{M=M.insert(B,we)}))).next(()=>this.populateOverlays(e,O,l)).next(()=>this.computeViews(e,M,O,En())).next(B=>({batchId:E,changes:od(B)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(o=>{let u=Sa();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let l=Sa();return this.indexManager.getCollectionParents(e,u).next(g=>Ae.forEach(g,E=>{const M=(O=t,B=E.child(u),new Vs(B,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,B;return this.getDocumentsMatchingCollectionQuery(e,M,o).next(O=>{O.forEach((B,J)=>{l=l.insert(B,J)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(l=>{u.forEach((E,M)=>{const O=M.getKey();null===l.get(O)&&(l=l.insert(O,xr.newInvalidDocument(O)))});let g=Sa();return l.forEach((E,M)=>{const O=u.get(E);void 0!==O&&dc(O.mutation,M,ce.empty(),Un.now()),Pu(t,M)&&(g=g.insert(E,M))}),g})}}class jy{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ei(o.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(o=t).name,query:fh(o.bundledQuery),readTime:ei(o.readTime)}),Ae.resolve();var o}}class Y_{constructor(){this.overlays=new v(ht.comparator),this.ts=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const o=pa();return Ae.forEach(t,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,l)=>{this.re(e,t,l)}),Ae.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ts.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ts.delete(o)),Ae.resolve()}getOverlaysForCollection(e,t,o){const u=pa(),l=t.length+1,g=new ht(t.child("")),E=this.overlays.getIteratorFrom(g);for(;E.hasNext();){const M=E.getNext().value,O=M.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===l&&M.largestBatchId>o&&u.set(M.getKey(),M)}return Ae.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let l=new v((O,B)=>O-B);const g=this.overlays.getIterator();for(;g.hasNext();){const O=g.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>o){let B=l.get(O.largestBatchId);null===B&&(B=pa(),l=l.insert(O.largestBatchId,B)),B.set(O.getKey(),O)}}const E=pa(),M=l.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((O,B)=>E.set(O,B)),!(E.size()>=u)););return Ae.resolve(E)}re(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.ts.get(u.largestBatchId).delete(o.key);this.ts.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new fc(t,o));let l=this.ts.get(t);void 0===l&&(l=En(),this.ts.set(t,l)),this.ts.set(t,l.add(o.key))}}class Qg{constructor(){this.es=new A(ji.ns),this.ss=new A(ji.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const o=new ji(e,t);this.es=this.es.add(o),this.ss=this.ss.add(o)}os(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.us(new ji(e,t))}cs(e,t){e.forEach(o=>this.removeReference(o,t))}hs(e){const t=new ht(new cn([])),o=new ji(t,e),u=new ji(t,e+1),l=[];return this.ss.forEachInRange([o,u],g=>{this.us(g),l.push(g.key)}),l}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new ht(new cn([])),o=new ji(t,e),u=new ji(t,e+1);let l=En();return this.ss.forEachInRange([o,u],g=>{l=l.add(g.key)}),l}containsKey(e){const t=new ji(e,0),o=this.es.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ji{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return ht.comparator(e.key,t.key)||Kt(e.ds,t.ds)}static rs(e,t){return Kt(e.ds,t.ds)||ht.comparator(e.key,t.key)}}class Q_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new A(ji.ns)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const l=this.ws;this.ws++;const g=new ld(l,t,o,u);this.mutationQueue.push(g);for(const E of u)this._s=this._s.add(new ji(E.key,l)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ae.resolve(g)}lookupMutationBatch(e,t){return Ae.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ys(t+1),l=u<0?0:u;return Ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ji(t,0),u=new ji(t,Number.POSITIVE_INFINITY),l=[];return this._s.forEachInRange([o,u],g=>{const E=this.gs(g.ds);l.push(E)}),Ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new A(Kt);return t.forEach(u=>{const l=new ji(u,0),g=new ji(u,Number.POSITIVE_INFINITY);this._s.forEachInRange([l,g],E=>{o=o.add(E.ds)})}),Ae.resolve(this.ps(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let l=o;ht.isDocumentKey(l)||(l=l.child(""));const g=new ji(new ht(l),0);let E=new A(Kt);return this._s.forEachWhile(M=>{const O=M.key.path;return!!o.isPrefixOf(O)&&(O.length===u&&(E=E.add(M.ds)),!0)},g),Ae.resolve(this.ps(E))}ps(e){const t=[];return e.forEach(o=>{const u=this.gs(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){b(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let o=this._s;return Ae.forEach(t.mutations,u=>{const l=new ji(u.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this._s=o})}En(e){}containsKey(e,t){const o=new ji(t,0),u=this._s.firstAfterOrEqual(o);return Ae.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Ae.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xg{constructor(e){this.Ts=e,this.docs=new v(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),l=u?u.size:0,g=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ae.resolve(o?o.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let o=ss();return t.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():xr.newInvalidDocument(u))}),Ae.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let l=ss();const g=t.path,E=new ht(g.child("")),M=this.docs.getIteratorFrom(E);for(;M.hasNext();){const{key:O,value:{document:B}}=M.getNext();if(!g.isPrefixOf(O.path))break;O.path.length>g.length+1||ao(ri(B),o)<=0||(u.has(B.key)||Pu(t,B))&&(l=l.insert(B.key,B.mutableCopy()))}return Ae.resolve(l)}getAllFromCollectionGroup(e,t,o,u){P()}Es(e,t){return Ae.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Jg(this)}getSize(e){return Ae.resolve(this.size)}}class Jg extends wd{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Jn.addEntry(e,u)):this.Jn.removeEntry(o)}),Ae.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class zy{constructor(e){this.persistence=e,this.As=new qa(t=>au(t),Au),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Qg,this.targetCount=0,this.bs=Ic.vn()}forEachTarget(e,t){return this.As.forEach((o,u)=>t(u)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Rs&&(this.Rs=t),Ae.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Sn(t),Ae.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,o){let u=0;const l=[];return this.As.forEach((g,E)=>{E.sequenceNumber<=t&&null===o.get(E.targetId)&&(this.As.delete(g),l.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),Ae.waitFor(l).next(()=>u)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const o=this.As.get(t)||null;return Ae.resolve(o)}addMatchingKeys(e,t,o){return this.vs.os(t,o),Ae.resolve()}removeMatchingKeys(e,t,o){this.vs.cs(t,o);const u=this.persistence.referenceDelegate,l=[];return u&&t.forEach(g=>{l.push(u.markPotentiallyOrphaned(e,g))}),Ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const o=this.vs.fs(t);return Ae.resolve(o)}containsKey(e,t){return Ae.resolve(this.vs.containsKey(t))}}class ep{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new yr(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new zy(this),this.indexManager=new Uy,this.remoteDocumentCache=new Xg(o=>this.referenceDelegate.Cs(o)),this.serializer=new vi(t),this.xs=new jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ps[e.toKey()];return o||(o=new Q_(t,this.referenceDelegate),this.Ps[e.toKey()]=o),o}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,o){ze("MemoryPersistence","Starting transaction:",e);const u=new Hy(this.Vs.next());return this.referenceDelegate.Ns(),o(u).next(l=>this.referenceDelegate.ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Os(e,t){return Ae.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,t)))}}class Hy extends Ns{constructor(e){super(),this.currentSequenceNumber=e}}class vh{constructor(e){this.persistence=e,this.$s=new Qg,this.Ms=null}static Fs(e){return new vh(e)}get Bs(){if(this.Ms)return this.Ms;throw P()}addReference(e,t,o){return this.$s.addReference(o,t),this.Bs.delete(o.toString()),Ae.resolve()}removeReference(e,t,o){return this.$s.removeReference(o,t),this.Bs.add(o.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(u=>this.Bs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(l=>this.Bs.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Bs,o=>{const u=ht.fromPath(o);return this.Ls(e,u).next(l=>{l||t.removeEntry(u,Ft.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(o=>{o?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return Ae.or([()=>Ae.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class wh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Vi=o,this.Si=u}static Di(e,t){let o=En(),u=En();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new wh(e,t.fromCache,o,u)}}class tm{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ni(e,t).next(l=>l||this.ki(e,t,u,o)).next(l=>l||this.Oi(e,t))}Ni(e,t){if(nd(t))return Ae.resolve(null);let o=$i(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=uc(t,null,"F"),o=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const g=En(...l);return this.xi.getDocuments(e,g).next(E=>this.indexManager.getMinOffset(e,o).next(M=>{const O=this.$i(t,E);return this.Mi(t,O,g,M.readTime)?this.Ni(e,uc(t,null,"F")):this.Fi(e,O,t,M)}))})))}ki(e,t,o,u){return nd(t)||u.isEqual(Ft.min())?this.Oi(e,t):this.xi.getDocuments(e,o).next(l=>{const g=this.$i(t,l);return this.Mi(t,g,o,u)?this.Oi(e,t):(Vr()<=te.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ru(t)),this.Fi(e,g,t,function $a(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ft.fromTimestamp(1e9===o?new Un(t+1,0):new Un(t,o));return new mi(u,ht.empty(),e)}(u,-1)))})}$i(e,t){let o=new A(Nu(e));return t.forEach((u,l)=>{Pu(e,l)&&(o=o.add(l))}),o}Mi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Oi(e,t){return Vr()<=te.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Ru(t)),this.xi.getDocumentsMatchingQuery(e,t,mi.min())}Fi(e,t,o,u){return this.xi.getDocumentsMatchingQuery(e,o,u).next(l=>(t.forEach(g=>{l=l.insert(g.key,g)}),l))}}class Gy{constructor(e,t,o,u){this.persistence=e,this.Bi=t,this.serializer=u,this.Li=new v(Kt),this.qi=new qa(l=>au(l),Au),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(o)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yg(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function fn(i,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,le.Z)(function*(i,e){const t=j(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,t.Gi(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const g=[],E=[];let M=En();for(const O of u){g.push(O.batchId);for(const B of O.mutations)M=M.add(B.key)}for(const O of l){E.push(O.batchId);for(const B of O.mutations)M=M.add(B.key)}return t.localDocuments.getDocuments(o,M).next(O=>({Qi:O,removedBatchIds:g,addedBatchIds:E}))})})}),Eh.apply(this,arguments)}function rp(i){const e=j(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function sm(i,e){const t=j(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Dc(i,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,le.Z)(function*(i,e,t){const o=j(i),u=o.Li.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",l,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Lo(g))throw g;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Li=o.Li.remove(e),o.qi.delete(u.target)}),ip.apply(this,arguments)}function Dh(i,e,t){const o=j(i);let u=Ft.min(),l=En();return o.persistence.runTransaction("Execute query","readonly",g=>function(E,M,O){const B=j(E),J=B.qi.get(O);return void 0!==J?Ae.resolve(B.Li.get(J)):B.Ds.getTargetData(M,O)}(o,g,$i(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Ds.getMatchingKeysForTargetId(g,E.targetId).next(M=>{l=M})}).next(()=>o.Bi.getDocumentsMatchingQuery(g,e,t?u:Ft.min(),t?l:En())).next(E=>(function op(i,e,t){let o=i.Ui.get(e)||Ft.min();t.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Ui.set(e,o)}(o,function Jc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,Wi:l})))}class lp{constructor(){this.activeTargetIds=ad()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cm{constructor(){this.Br=new lp,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,o){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new lp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lm{qr(e){}shutdown(){}}class Sd{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Th=null;function bh(){return null===Th?Th=268435456+Math.round(2147483648*Math.random()):Th++,"0x"+Th.toString(16)}const Zy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yy{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const $s="WebChannelConnection";class Qy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,o,u,l){const g=bh(),E=this.ao(e,t);ze("RestConnection",`Sending RPC '${e}' ${g}:`,E,o);const M={};return this.ho(M,u,l),this.lo(e,E,M,o).then(O=>(ze("RestConnection",`Received RPC '${e}' ${g}: `,O),O),O=>{throw Rn("RestConnection",`RPC '${e}' ${g} failed with error: `,O,"url: ",E,"request:",o),O})}fo(e,t,o,u,l,g){return this.co(e,t,o,u,l)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+or,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}ao(e,t){return`${this.ro}/v1/${t}:${Zy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,u){const l=bh();return new Promise((g,E)=>{const M=new wa;M.setWithCredentials(!0),M.listenOnce(Tu.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Io.NO_ERROR:const B=M.getResponseJson();ze($s,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(B)),g(B);break;case Io.TIMEOUT:ze($s,`RPC '${e}' ${l} timed out`),E(new re(W.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const J=M.getStatus();if(ze($s,`RPC '${e}' ${l} failed with status:`,J,"response text:",M.getResponseText()),J>0){let we=M.getResponseJson();Array.isArray(we)&&(we=we[0]);const Be=we?.error;if(Be&&Be.status&&Be.message){const lt=function(Ct){const Ht=Ct.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Ht)>=0?Ht:W.UNKNOWN}(Be.status);E(new re(lt,Be.message))}else E(new re(W.UNKNOWN,"Server responded with status "+M.getStatus()))}else E(new re(W.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{ze($s,`RPC '${e}' ${l} completed.`)}});const O=JSON.stringify(u);ze($s,`RPC '${e}' ${l} sending request:`,u),M.send(t,"POST",O,o,15)})}wo(e,t,o){const u=bh(),l=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ec(),E=ru(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Ia({})),this.ho(M.initMessageHeaders,t,o),M.encodeInitMessageHeaders=!0;const O=l.join("");ze($s,`Creating RPC '${e}' stream ${u}: ${O}`,M);const B=g.createWebChannel(O,M);let J=!1,we=!1;const Be=new Yy({Wr:Ct=>{we?ze($s,`Not sending because RPC '${e}' stream ${u} is closed:`,Ct):(J||(ze($s,`Opening RPC '${e}' stream ${u} transport.`),B.open(),J=!0),ze($s,`RPC '${e}' stream ${u} sending:`,Ct),B.send(Ct))},Hr:()=>B.close()}),lt=(Ct,Ht,tr)=>{Ct.listen(Ht,Gr=>{try{tr(Gr)}catch(qn){setTimeout(()=>{throw qn},0)}})};return lt(B,gs.EventType.OPEN,()=>{we||ze($s,`RPC '${e}' stream ${u} transport opened.`)}),lt(B,gs.EventType.CLOSE,()=>{we||(we=!0,ze($s,`RPC '${e}' stream ${u} transport closed`),Be.so())}),lt(B,gs.EventType.ERROR,Ct=>{we||(we=!0,Rn($s,`RPC '${e}' stream ${u} transport errored:`,Ct),Be.so(new re(W.UNAVAILABLE,"The operation could not be completed")))}),lt(B,gs.EventType.MESSAGE,Ct=>{var Ht;if(!we){const tr=Ct.data[0];b(!!tr);const qn=tr.error||(null===(Ht=tr[0])||void 0===Ht?void 0:Ht.error);if(qn){ze($s,`RPC '${e}' stream ${u} received error:`,qn);const us=qn.status;let ai=function(xo){const wu=bi[xo];if(void 0!==wu)return Nf(wu)}(us),Br=qn.message;void 0===ai&&(ai=W.INTERNAL,Br="Unknown error status: "+us+" with message "+qn.message),we=!0,Be.so(new re(ai,Br)),B.close()}else ze($s,`RPC '${e}' stream ${u} received:`,tr),Be.io(tr)}}),lt(E,sa.STAT_EVENT,Ct=>{Ct.stat===oa.PROXY?ze($s,`RPC '${e}' stream ${u} detected buffering proxy`):Ct.stat===oa.NOPROXY&&ze($s,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Be.no()},0),Be}}function Ad(){return typeof document<"u"?document:null}function xd(i){return new ol(i,!0)}class Ch{constructor(e,t,o=1e3,u=1.5,l=6e4){this.Ws=e,this.timerId=t,this._o=o,this.mo=u,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,t-o);u>0&&ze("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class dp{constructor(e,t,o,u,l,g,E,M){this.Ws=e,this.bo=o,this.Po=u,this.connection=l,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=E,this.listener=M,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Ch(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,le.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,le.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var o=this;return(0,le.Z)(function*(){o.Bo(),o.Lo(),o.Co.cancel(),o.Vo++,4!==e?o.Co.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Qn(t.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),o.Co.Eo()):t&&t.code===W.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===t&&this.Ko(o,u)},o=>{e(()=>{const u=new re(W.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Go(u)})})}Ko(e,t){const o=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{o(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(u=>{o(()=>this.Go(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ko(){var e=this;this.state=5,this.Co.Ao((0,le.Z)(function*(){e.state=0,e.start()}))}Go(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hp extends dp{constructor(e,t,o,u,l,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.serializer=l}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function kg(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:P(),u=e.targetChange.targetIds||[],l=function(M,O){return M.useProto3Json?(b(void 0===O||"string"==typeof O),et.fromBase64String(O||"")):(b(void 0===O||O instanceof Uint8Array),et.fromUint8Array(O||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,E=g&&function(M){const O=void 0===M.code?W.UNKNOWN:Nf(M.code);return new re(O,M.message||"")}(g);t=new De(o,u,l,E||null)}else if("documentChange"in e){const o=e.documentChange,u=Co(i,o.document.name),l=ei(o.document.updateTime),g=o.document.createTime?ei(o.document.createTime):Ft.min(),E=new Vi({mapValue:{fields:o.document.fields}}),M=xr.newFoundDocument(u,l,g,E);t=new F(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,u=Co(i,o.document),l=o.readTime?ei(o.readTime):Ft.min(),g=xr.newNoDocument(u,l);t=new F([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=Co(i,o.document);t=new F([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return P();{const o=e.filter,l=new Ng(o.count||0);t=new z(o.targetId,l)}}var M;return t}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Ft.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?ei(l.readTime):Ft.min()}(e);return this.listener.zo(t,o)}jo(e){const t={};t.database=Aa(this.serializer),t.addTarget=function(u,l){let g;const E=l.target;return g=td(E)?{documents:dh(u,E)}:{query:pd(u,E)},g.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?g.resumeToken=fd(u,l.resumeToken):l.snapshotVersion.compareTo(Ft.min())>0&&(g.readTime=Lu(u,l.snapshotVersion.toTimestamp())),g}(this.serializer,e);const o=function K_(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Aa(this.serializer),t.removeTarget=e,this.Fo(t)}}class X_ extends dp{constructor(e,t,o,u,l,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.serializer=l,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function q_(i,e){return i&&i.length>0?(b(void 0!==e),i.map(t=>function(o,u){let l=ei(o.updateTime?o.updateTime:u);return l.isEqual(Ft.min())&&(l=ei(u)),new Mf(l,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ei(e.commitTime);return this.listener.Zo(o,t)}return b(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Aa(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function lh(i,e){let t;if(e instanceof hu)t={update:ll(i,e.key,e.value)};else if(e instanceof hc)t={delete:Fu(i,e.key)};else if(e instanceof To)t={update:ll(i,e.key,e.data),updateMask:ky(e.fieldMask)};else{if(!(e instanceof ah))return P();t={verify:Fu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const g=l.transform;if(g instanceof ku)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof du)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof cc)return{fieldPath:l.field.canonicalString(),increment:g._t};throw P()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Of(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:P()),t;var u}(this.serializer,o))};this.Fo(t)}}class fp extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=u,this.eu=!1}nu(){if(this.eu)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.co(e,t,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(W.UNKNOWN,u.toString())})}fo(e,t,o,u){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.connection.fo(e,t,o,l,g,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new re(W.UNKNOWN,l.toString())})}terminate(){this.eu=!0}}class El{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Qn(t),this.ru=!1):ze("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class fm{constructor(e,t,o,u,l){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=l,this._u.qr(E=>{o.enqueueAndForget((0,le.Z)(function*(){var M;Za(g)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,le.Z)(function*(O){const B=j(O);B.du.add(4),yield Dl(B),B.mu.set("Unknown"),B.du.delete(4),yield Md(B)}),function(O){return M.apply(this,arguments)})(g))}))}),this.mu=new El(o,u)}}function Md(i){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,le.Z)(function*(i){if(Za(i))for(const e of i.wu)yield e(!0)}),Sh.apply(this,arguments)}function Dl(i){return pp.apply(this,arguments)}function pp(){return pp=(0,le.Z)(function*(i){for(const e of i.wu)yield e(!1)}),pp.apply(this,arguments)}function bc(i,e){const t=j(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),bl(t)?Pd(t):Cl(t).No()&&Rd(t,e))}function Ka(i,e){const t=j(i),o=Cl(t);t.fu.delete(e),o.No()&&Tl(t,e),0===t.fu.size&&(o.No()?o.$o():Za(t)&&t.mu.set("Unknown"))}function Rd(i,e){i.gu.Ot(e.targetId),Cl(i).jo(e)}function Tl(i,e){i.gu.Ot(e),Cl(i).Wo(e)}function Pd(i){i.gu=new At({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),Cl(i).start(),i.mu.ou()}function bl(i){return Za(i)&&!Cl(i).xo()&&i.fu.size>0}function Za(i){return 0===j(i).du.size}function Ah(i){i.gu=void 0}function gp(i){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,le.Z)(function*(i){i.fu.forEach((e,t)=>{Rd(i,e)})}),Nd.apply(this,arguments)}function pm(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,le.Z)(function*(i,e){Ah(i),bl(i)?(i.mu.au(e),Pd(i)):i.mu.set("Unknown")}),Od.apply(this,arguments)}function Jy(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,le.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof De&&2===e.state&&e.cause)try{yield(o=(0,le.Z)(function*(u,l){const g=l.cause;for(const E of l.targetIds)u.fu.has(E)&&(yield u.remoteSyncer.rejectListen(E,g),u.fu.delete(E),u.gu.removeTarget(E))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield kd(i,o)}else if(e instanceof F?i.gu.Kt(e):e instanceof z?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(Ft.min()))try{const o=yield rp(i.localStore);t.compareTo(o)>=0&&(yield function(u,l){const g=u.gu.Xt(l);return g.targetChanges.forEach((E,M)=>{if(E.resumeToken.approximateByteSize()>0){const O=u.fu.get(M);O&&u.fu.set(M,O.withResumeToken(E.resumeToken,l))}}),g.targetMismatches.forEach(E=>{const M=u.fu.get(E);if(!M)return;u.fu.set(E,M.withResumeToken(et.EMPTY_BYTE_STRING,M.snapshotVersion)),Tl(u,E);const O=new Vu(M.target,E,1,M.sequenceNumber);Rd(u,O)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){ze("RemoteStore","Failed to raise snapshot:",o),yield kd(i,o)}var o}),mp.apply(this,arguments)}function kd(i,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,le.Z)(function*(i,e,t){if(!Lo(e))throw e;i.du.add(1),yield Dl(i),i.mu.set("Offline"),t||(t=()=>rp(i.localStore)),i.asyncQueue.enqueueRetryable((0,le.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield Md(i)}))}),yp.apply(this,arguments)}function vp(i,e){return e().catch(t=>kd(i,t,e))}function Cc(i){return _p.apply(this,arguments)}function _p(){return _p=(0,le.Z)(function*(i){const e=j(i),t=Hu(e);let o=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;ev(e);)try{const u=yield sm(e.localStore,o);if(null===u){0===e.lu.length&&t.$o();break}o=u.batchId,Ho(e,u)}catch(u){yield kd(e,u)}Ip(e)&&gm(e)}),_p.apply(this,arguments)}function ev(i){return Za(i)&&i.lu.length<10}function Ho(i,e){i.lu.push(e);const t=Hu(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function Ip(i){return Za(i)&&!Hu(i).xo()&&i.lu.length>0}function gm(i){Hu(i).start()}function J_(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,le.Z)(function*(i){Hu(i).tu()}),Ld.apply(this,arguments)}function mm(i){return wp.apply(this,arguments)}function wp(){return wp=(0,le.Z)(function*(i){const e=Hu(i);for(const t of i.lu)e.Yo(t.mutations)}),wp.apply(this,arguments)}function tv(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,le.Z)(function*(i,e,t){const o=i.lu.shift(),u=dd.from(o,e,t);yield vp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Cc(i)}),Ep.apply(this,arguments)}function ym(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,le.Z)(function*(i,e){var t;e&&Hu(i).Jo&&(yield(t=(0,le.Z)(function*(o,u){if(function hd(i){switch(i){default:return P();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}(l=u.code)&&l!==W.ABORTED){const g=o.lu.shift();Hu(o).Oo(),yield vp(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Cc(o)}var l}),function(o,u){return t.apply(this,arguments)})(i,e)),Ip(i)&&gm(i)}),Dp.apply(this,arguments)}function vm(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,le.Z)(function*(i,e){const t=j(i);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const o=Za(t);t.du.add(3),yield Dl(t),o&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Md(t)}),Fd.apply(this,arguments)}function bp(){return bp=(0,le.Z)(function*(i,e){const t=j(i);e?(t.du.delete(2),yield Md(t)):e||(t.du.add(2),yield Dl(t),t.mu.set("Unknown"))}),bp.apply(this,arguments)}function Cl(i){return i.yu||(i.yu=function(e,t,o){const u=j(e);return u.nu(),new hp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:gp.bind(null,i),Zr:pm.bind(null,i),zo:Jy.bind(null,i)}),i.wu.push(function(){var e=(0,le.Z)(function*(t){t?(i.yu.Oo(),bl(i)?Pd(i):i.mu.set("Unknown")):(yield i.yu.stop(),Ah(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function Hu(i){return i.pu||(i.pu=function(e,t,o){const u=j(e);return u.nu(),new X_(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:J_.bind(null,i),Zr:ym.bind(null,i),Xo:mm.bind(null,i),Zo:tv.bind(null,i)}),i.wu.push(function(){var e=(0,le.Z)(function*(t){t?(i.pu.Oo(),yield Cc(i)):(yield i.pu.stop(),i.lu.length>0&&(ze("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu}class Cp{constructor(e,t,o,u,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,l){const g=Date.now()+o,E=new Cp(e,t,g,u,l);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ho(i,e){if(Qn("AsyncQueue",`${e}: ${i}`),Lo(i))return new re(W.UNAVAILABLE,`${e}: ${i}`);throw i}class Gu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||ht.comparator(t.key,o.key):(t,o)=>ht.comparator(t.key,o.key),this.keyedMap=Sa(),this.sortedSet=new v(this.comparator)}static emptySet(e){return new Gu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Gu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class _m{constructor(){this.Iu=new v(ht.comparator)}track(e){const t=e.doc.key,o=this.Iu.get(t);o?0!==e.type&&3===o.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==o.type?this.Iu=this.Iu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Iu=this.Iu.remove(t):1===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):P():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Sl{constructor(e,t,o,u,l,g,E,M,O){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=g,this.syncStateChanged=E,this.excludesMetadataChanges=M,this.hasCachedResults=O}static fromInitialDocuments(e,t,o,u,l){const g=[];return t.forEach(E=>{g.push({type:0,doc:E})}),new Sl(e,t,Gu.emptySet(t),g,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Im{constructor(){this.Eu=void 0,this.listeners=[]}}class nv{constructor(){this.queries=new qa(e=>Xc(e),Mu),this.onlineState="Unknown",this.Au=new Set}}function Ap(){return Ap=(0,le.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1,l=t.queries.get(o);if(l||(u=!0,l=new Im),u)try{l.Eu=yield t.onListen(o)}catch(g){const E=ho(g,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(E)}t.queries.set(o,l),l.listeners.push(e),e.Ru(t.onlineState),l.Eu&&e.vu(l.Eu)&&Vd(t)}),Ap.apply(this,arguments)}function xp(){return xp=(0,le.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1;const l=t.queries.get(o);if(l){const g=l.listeners.indexOf(e);g>=0&&(l.listeners.splice(g,1),u=0===l.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),xp.apply(this,arguments)}function rv(i,e){const t=j(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const E of g.listeners)E.vu(u)&&(o=!0);g.Eu=u}}o&&Vd(t)}function xh(i,e,t){const o=j(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(t);o.queries.delete(e)}function Vd(i){i.Au.forEach(e=>{e.next()})}class Al{constructor(e,t,o){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Sl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class Rp{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class Np{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=En(),this.mutatedKeys=En(),this.Ku=Nu(e),this.Gu=new Gu(this.Ku)}get Qu(){return this.Lu}zu(e,t){const o=t?t.ju:new _m,u=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,g=u,E=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,O="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((B,J)=>{const we=u.get(B),Be=Pu(this.query,J)?J:null,lt=!!we&&this.mutatedKeys.has(we.key),Ct=!!Be&&(Be.hasLocalMutations||this.mutatedKeys.has(Be.key)&&Be.hasCommittedMutations);let Ht=!1;we&&Be?we.data.isEqual(Be.data)?lt!==Ct&&(o.track({type:3,doc:Be}),Ht=!0):this.Wu(we,Be)||(o.track({type:2,doc:Be}),Ht=!0,(M&&this.Ku(Be,M)>0||O&&this.Ku(Be,O)<0)&&(E=!0)):!we&&Be?(o.track({type:0,doc:Be}),Ht=!0):we&&!Be&&(o.track({type:1,doc:we}),Ht=!0,(M||O)&&(E=!0)),Ht&&(Be?(g=g.add(Be),l=Ct?l.add(B):l.delete(B)):(g=g.delete(B),l=l.delete(B)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const B="F"===this.query.limitType?g.last():g.first();g=g.delete(B.key),l=l.delete(B.key),o.track({type:1,doc:B})}return{Gu:g,ju:o,Mi:E,mutatedKeys:l}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.ju.Tu();l.sort((O,B)=>function(J,we){const Be=lt=>{switch(lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return Be(J)-Be(we)}(O.type,B.type)||this.Ku(O.doc,B.doc)),this.Hu(o);const g=t?this.Ju():[],E=0===this.Uu.size&&this.current?1:0,M=E!==this.qu;return this.qu=E,0!==l.length||M?{snapshot:new Sl(this.query,e.Gu,u,l,e.mutatedKeys,0===E,M,!1,!!o&&o.resumeToken.approximateByteSize()>0),Yu:g}:{Yu:g}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new _m,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=En(),this.Gu.forEach(o=>{this.Zu(o.key)&&(this.Uu=this.Uu.add(o.key))});const t=[];return e.forEach(o=>{this.Uu.has(o)||t.push(new Pp(o))}),this.Uu.forEach(o=>{e.has(o)||t.push(new Rp(o))}),t}Xu(e){this.Lu=e.Wi,this.Uu=En();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Sl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Op{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class vu{constructor(e){this.key=e,this.ec=!1}}class Rh{constructor(e,t,o,u,l,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new qa(E=>Xc(E),Mu),this.ic=new Map,this.rc=new Set,this.oc=new v(ht.comparator),this.uc=new Map,this.cc=new Qg,this.ac={},this.hc=new Map,this.lc=Ic.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Ph(i,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,le.Z)(function*(i,e){const t=function qu(i){const e=j(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Em.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sv.bind(null,e),e.nc.zo=rv.bind(null,e.eventManager),e.nc.wc=xh.bind(null,e.eventManager),e}(i);let o,u;const l=t.sc.get(e);if(l)o=l.targetId,t.sharedClientState.addLocalQueryTarget(o),u=l.view.tc();else{const g=yield function wl(i,e){const t=j(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Ds.getTargetData(o,e).next(l=>l?(u=l,Ae.resolve(u)):t.Ds.allocateTargetId(o).next(g=>(u=new Vu(e,g,0,o.currentSequenceNumber),t.Ds.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Li.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Li=t.Li.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}(t.localStore,$i(e));t.isPrimaryClient&&bc(t.remoteStore,g);const E=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield function kp(i,e,t,o,u){return Nh.apply(this,arguments)}(t,e,o,"current"===E,g.resumeToken)}return u}),Sc.apply(this,arguments)}function Nh(){return Nh=(0,le.Z)(function*(i,e,t,o,u){i.dc=(J,we,Be)=>{return(lt=(0,le.Z)(function*(Ct,Ht,tr,Gr){let qn=Ht.view.zu(tr);qn.Mi&&(qn=yield Dh(Ct.localStore,Ht.query,!1).then(({documents:Br})=>Ht.view.zu(Br,qn)));const us=Gr&&Gr.targetChanges.get(Ht.targetId),ai=Ht.view.applyChanges(qn,Ct.isPrimaryClient,us);return Bp(Ct,Ht.targetId,ai.Yu),ai.snapshot}),function(Ct,Ht,tr,Gr){return lt.apply(this,arguments)})(i,J,we,Be);var lt};const l=yield Dh(i.localStore,e,!0),g=new Np(e,l.Wi),E=g.zu(l.documents),M=D.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),O=g.applyChanges(E,i.isPrimaryClient,M);Bp(i,t,O.Yu);const B=new Op(e,t,g);return i.sc.set(e,B),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),O.snapshot}),Nh.apply(this,arguments)}function wm(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,le.Z)(function*(i,e){const t=j(i),o=t.sc.get(e),u=t.ic.get(o.targetId);if(u.length>1)return t.ic.set(o.targetId,u.filter(l=>!Mu(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Dc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ka(t.remoteStore,o.targetId),xl(t,o.targetId)}).catch(Os))):(xl(t,o.targetId),yield Dc(t.localStore,o.targetId,!0))}),Lp.apply(this,arguments)}function Ac(){return Ac=(0,le.Z)(function*(i,e,t){const o=function Ku(i){const e=j(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=av.bind(null,e),e}(i);try{const u=yield function(l,g){const E=j(l),M=Un.now(),O=g.reduce((we,Be)=>we.add(Be.key),En());let B,J;return E.persistence.runTransaction("Locally write mutations","readwrite",we=>{let Be=ss(),lt=En();return E.Ki.getEntries(we,O).next(Ct=>{Be=Ct,Be.forEach((Ht,tr)=>{tr.isValidDocument()||(lt=lt.add(Ht))})}).next(()=>E.localDocuments.getOverlayedDocuments(we,Be)).next(Ct=>{B=Ct;const Ht=[];for(const tr of g){const Gr=sh(tr,B.get(tr.key).overlayedDocument);null!=Gr&&Ht.push(new To(tr.key,Gr,Kl(Gr.value.mapValue),Or.exists(!0)))}return E.mutationQueue.addMutationBatch(we,M,Ht,g)}).next(Ct=>{J=Ct;const Ht=Ct.applyToLocalDocumentSet(B,lt);return E.documentOverlayCache.saveOverlays(we,Ct.batchId,Ht)})}).then(()=>({batchId:J.batchId,changes:od(B)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,g,E){let M=l.ac[l.currentUser.toKey()];M||(M=new v(Kt)),M=M.insert(g,E),l.ac[l.currentUser.toKey()]=M}(o,u.batchId,t),yield _u(o,u.changes),yield Cc(o.remoteStore)}catch(u){const l=ho(u,"Failed to persist write");t.reject(l)}}),Ac.apply(this,arguments)}function Em(i,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,le.Z)(function*(i,e){const t=j(i);try{const o=yield function Wy(i,e){const t=j(i),o=e.snapshotVersion;let u=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const g=t.Ki.newChangeBuffer({trackRemovals:!0});u=t.Li;const E=[];e.targetChanges.forEach((B,J)=>{const we=u.get(J);if(!we)return;E.push(t.Ds.removeMatchingKeys(l,B.removedDocuments,J).next(()=>t.Ds.addMatchingKeys(l,B.addedDocuments,J)));let Be=we.withSequenceNumber(l.currentSequenceNumber);var lt,Ct,Ht;e.targetMismatches.has(J)?Be=Be.withResumeToken(et.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):B.resumeToken.approximateByteSize()>0&&(Be=Be.withResumeToken(B.resumeToken,o)),u=u.insert(J,Be),Ct=Be,Ht=B,(0===(lt=we).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=3e8||Ht.addedDocuments.size+Ht.modifiedDocuments.size+Ht.removedDocuments.size>0)&&E.push(t.Ds.updateTargetData(l,Be))});let M=ss(),O=En();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(l,B))}),E.push(function im(i,e,t){let o=En(),u=En();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let g=ss();return t.forEach((E,M)=>{const O=l.get(E);M.isFoundDocument()!==O.isFoundDocument()&&(u=u.add(E)),M.isNoDocument()&&M.version.isEqual(Ft.min())?(e.removeEntry(E,M.readTime),g=g.insert(E,M)):!O.isValidDocument()||M.version.compareTo(O.version)>0||0===M.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(M),g=g.insert(E,M)):ze("LocalStore","Ignoring outdated watch update for ",E,". Current version:",O.version," Watch version:",M.version)}),{zi:g,ji:u}})}(l,g,e.documentUpdates).next(B=>{M=B.zi,O=B.ji})),!o.isEqual(Ft.min())){const B=t.Ds.getLastRemoteSnapshotVersion(l).next(J=>t.Ds.setTargetsMetadata(l,l.currentSequenceNumber,o));E.push(B)}return Ae.waitFor(E).next(()=>g.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,M,O)).next(()=>M)}).then(l=>(t.Li=u,l))}(t.localStore,e);e.targetChanges.forEach((u,l)=>{const g=t.uc.get(l);g&&(b(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?b(g.ec):u.removedDocuments.size>0&&(b(g.ec),g.ec=!1))}),yield _u(t,o,e)}catch(o){yield Os(o)}}),Dm.apply(this,arguments)}function Tm(i,e,t){const o=j(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.sc.forEach((l,g)=>{const E=g.view.Ru(e);E.snapshot&&u.push(E.snapshot)}),function(l,g){const E=j(l);E.onlineState=g;let M=!1;E.queries.forEach((O,B)=>{for(const J of B.listeners)J.Ru(g)&&(M=!0)}),M&&Vd(E)}(o.eventManager,e),u.length&&o.nc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function sv(i,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,le.Z)(function*(i,e,t){const o=j(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.uc.get(e),l=u&&u.key;if(l){let g=new v(ht.comparator);g=g.insert(l,xr.newNoDocument(l,Ft.min()));const E=En().add(l),M=new f(Ft.min(),new Map,new A(Kt),g,E);yield Em(o,M),o.oc=o.oc.remove(l),o.uc.delete(e),jp(o)}else yield Dc(o.localStore,e,!1).then(()=>xl(o,e,t)).catch(Os)}),Fp.apply(this,arguments)}function ov(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,le.Z)(function*(i,e){const t=j(i),o=e.batch.batchId;try{const u=yield function rm(i,e){const t=j(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=t.Ki.newChangeBuffer({trackRemovals:!0});return function(g,E,M,O){const B=M.batch,J=B.keys();let we=Ae.resolve();return J.forEach(Be=>{we=we.next(()=>O.getEntry(E,Be)).next(lt=>{const Ct=M.docVersions.get(Be);b(null!==Ct),lt.version.compareTo(Ct)<0&&(B.applyToRemoteDocument(lt,M),lt.isValidDocument()&&(lt.setReadTime(M.commitVersion),O.addEntry(lt)))})}),we.next(()=>g.mutationQueue.removeMutationBatch(E,B))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let E=En();for(let M=0;M<g.mutationResults.length;++M)g.mutationResults[M].transformResults.length>0&&(E=E.add(g.batch.mutations[M].key));return E}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);Bd(t,o,null),$p(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield _u(t,u)}catch(u){yield Os(u)}}),Up.apply(this,arguments)}function av(i,e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,le.Z)(function*(i,e,t){const o=j(i);try{const u=yield function(l,g){const E=j(l);return E.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let O;return E.mutationQueue.lookupMutationBatch(M,g).next(B=>(b(null!==B),O=B.keys(),E.mutationQueue.removeMutationBatch(M,B))).next(()=>E.mutationQueue.performConsistencyCheck(M)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(M,O,g)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,O)).next(()=>E.localDocuments.getDocuments(M,O))})}(o.localStore,e);Bd(o,e,t),$p(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield _u(o,u)}catch(u){yield Os(u)}}),Vp.apply(this,arguments)}function $p(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Bd(i,e,t){const o=j(i);let u=o.ac[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(t?l.reject(t):l.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function xl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc.wc(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(o=>{i.cc.containsKey(o)||Cm(i,o)})}function Cm(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Ka(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),jp(i))}function Bp(i,e,t){for(const o of t)o instanceof Rp?(i.cc.addReference(o.key,e),uv(i,o)):o instanceof Pp?(ze("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Cm(i,o.key)):P()}function uv(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(ze("SyncEngine","New document in limbo: "+t),i.rc.add(o),jp(i))}function jp(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new ht(cn.fromString(e)),o=i.lc.next();i.uc.set(o,new vu(t)),i.oc=i.oc.insert(t,o),bc(i.remoteStore,new Vu($i(zo(t.path)),o,2,yr.ct))}}function _u(i,e,t){return zp.apply(this,arguments)}function zp(){return zp=(0,le.Z)(function*(i,e,t){const o=j(i),u=[],l=[],g=[];var E;o.sc.isEmpty()||(o.sc.forEach((E,M)=>{g.push(o.dc(M,e,t).then(O=>{if((O||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,O?.fromCache?"not-current":"current"),O){u.push(O);const B=wh.Di(M.targetId,O);l.push(B)}}))}),yield Promise.all(g),o.nc.zo(u),yield(E=(0,le.Z)(function*(M,O){const B=j(M);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>Ae.forEach(O,we=>Ae.forEach(we.Vi,Be=>B.persistence.referenceDelegate.addReference(J,we.targetId,Be)).next(()=>Ae.forEach(we.Si,Be=>B.persistence.referenceDelegate.removeReference(J,we.targetId,Be)))))}catch(J){if(!Lo(J))throw J;ze("LocalStore","Failed to update sequence numbers: "+J)}for(const J of O){const we=J.targetId;if(!J.fromCache){const Be=B.Li.get(we),Ct=Be.withLastLimboFreeSnapshotVersion(Be.snapshotVersion);B.Li=B.Li.insert(we,Ct)}}}),function(M,O){return E.apply(this,arguments)})(o.localStore,l))}),zp.apply(this,arguments)}function Sm(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,le.Z)(function*(i,e){const t=j(i);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const o=yield fn(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(g=>{g.forEach(E=>{E.reject(new re(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield _u(t,o.Qi)}var u}),Oh.apply(this,arguments)}function cv(i,e){const t=j(i),o=t.uc.get(e);if(o&&o.ec)return En().add(o.key);{let u=En();const l=t.ic.get(e);if(!l)return u;for(const g of l){const E=t.sc.get(g);u=u.unionWith(E.view.Qu)}return u}}class Zu{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,le.Z)(function*(){t.serializer=xd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function nm(i,e,t,o){return new Gy(i,e,t,o)}(this.persistence,new tm,e.initialUser,this.serializer)}createPersistence(e){return new ep(vh.Fs,this.serializer)}createSharedClientState(e){return new cm}terminate(){var e=this;return(0,le.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pa{initialize(e,t){var o=this;return(0,le.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Tm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Sm.bind(null,o.syncEngine),yield function Tp(i,e){return bp.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nv}createDatastore(e){const t=xd(e.databaseInfo.databaseId),o=new Qy(e.databaseInfo);return new fp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,l=E=>Tm(this.syncEngine,E,0),g=Sd.D()?new Sd:new lm,new fm(t,o,u,l,g);var t,o,u,l,g}createSyncEngine(e,t){return function(o,u,l,g,E,M,O){const B=new Rh(o,u,l,g,E,M);return O&&(B.fc=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,le.Z)(function*(t){const o=j(t);ze("RemoteStore","RemoteStore shutting down."),o.du.add(5),yield Dl(o),o._u.shutdown(),o.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rm{constructor(e,t,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=sr.UNAUTHENTICATED,this.clientId=pi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,le.Z)(function*(E){ze("FirestoreClient","Received user=",E.uid),yield l.authCredentialListener(E),l.user=E});return function(E){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(ze("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=ho(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function zd(i,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,le.Z)(function*(l){o.isEqual(l)||(yield fn(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Fh.apply(this,arguments)}function Uh(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,le.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield function Kp(i){return $h.apply(this,arguments)}(i);ze("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>vm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>vm(e.remoteStore,l)),i._onlineComponents=e}),Vh.apply(this,arguments)}function $h(){return $h=(0,le.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zd(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Pm(i){return"FirebaseError"===i.name?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(t))throw t;Rn("Error using user provided cache. Falling back to memory cache: "+t),yield zd(i,new Zu)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield zd(i,new Zu);return i._offlineComponents}),$h.apply(this,arguments)}function Bh(i){return jh.apply(this,arguments)}function jh(){return jh=(0,le.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield Uh(i,i._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield Uh(i,new Pa))),i._onlineComponents}),jh.apply(this,arguments)}function Yu(i){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,le.Z)(function*(i){const e=yield Bh(i),t=e.eventManager;return t.onListen=Ph.bind(null,e.syncEngine),t.onUnlisten=wm.bind(null,e.syncEngine),t}),Yp.apply(this,arguments)}const tg=new Map;function Wh(i,e,t){if(!t)throw new re(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ng(i){if(!ht.isDocumentKey(i))throw new re(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Fm(i){if(ht.isDocumentKey(i))throw new re(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":P()}function jn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qh(i);throw new re(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class Zh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new re(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Lm(i,e,t,o){if(!0===e&&!0===o)throw new re(W.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ol{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new An;switch(t.type){case"firstParty":return new Nn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new re(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tg.get(e);t&&(ze("ComponentProvider","Removing Datastore"),tg.delete(e),t.terminate())}(this),Promise.resolve()}}class oi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class os{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Na extends os{constructor(e,t,o){super(e,t,zo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new ht(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Vm(i,e,...t){if(i=(0,ne.m9)(i),Wh("collection","path",e),i instanceof Ol){const o=cn.fromString(e,...t);return Fm(o),new Na(i,null,o)}{if(!(i instanceof oi||i instanceof Na))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(cn.fromString(e,...t));return Fm(o),new Na(i.firestore,null,o)}}function rg(i,e,...t){if(i=(0,ne.m9)(i),1===arguments.length&&(e=pi.A()),Wh("doc","path",e),i instanceof Ol){const o=cn.fromString(e,...t);return ng(o),new oi(i,null,new ht(o))}{if(!(i instanceof oi||i instanceof Na))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(cn.fromString(e,...t));return ng(o),new oi(i.firestore,i instanceof Na?i.converter:null,new ht(o))}}class fv{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Ch(this,"async_queue_retry"),this.qc=()=>{const t=Ad();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Ad();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Ad();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new ct;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,le.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Lo(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(o=>{throw this.Mc=o,this.Fc=!1,Qn("INTERNAL UNHANDLED ERROR: ",function(l){let g=l.message||"";return l.stack&&(g=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),g}(o)),o}).then(o=>(this.Fc=!1,o))));return this.Nc=t,t}enqueueAfterDelay(e,t,o){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const u=Cp.createAndSchedule(this,e,t,o,l=>this.Qc(l));return this.$c.push(u),u}Uc(){this.Mc&&P()}verifyOperationInProgress(){}zc(){var e=this;return(0,le.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function sg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Mr extends Ol{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new fv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pv(this),this._firestoreClient.terminate()}}function ag(i,e){const t="object"==typeof i?i:(0,Je.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Je.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ne.P0)("firestore");l&&function Um(i,e,t,o={}){var u;const l=(i=jn(i,Ol))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Rn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,E;if("string"==typeof o.mockUserToken)g=o.mockUserToken,E=sr.MOCK_USER;else{g=(0,ne.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const M=o.mockUserToken.sub||o.mockUserToken.user_id;if(!M)throw new re(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sr(M)}i._authCredentials=new Pn(new In(g,E))}}(u,...l)}return u}function zi(i){return i._firestoreClient||pv(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function pv(i){var e,t,o;const u=i._freezeSettings(),l=(E=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new su(i._databaseId,E,i._persistenceKey,(O=u).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var E,O;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(et.fromBase64String(e))}catch(t){throw new re(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ul{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $m{constructor(e){this._methodName=e}}class Yh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const h0=/^__.*__$/;class Bm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new To(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}function Oa(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Xh{constructor(e,t,o,u,l,g){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Jc(),this.fieldTransforms=l||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Xh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.ea(e),u}na(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.Jc(),u}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Gd(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Oa(this.Yc)&&h0.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class vv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||xd(e)}ua(e,t,o,u=!1){return new Xh({Yc:e,methodName:t,oa:o,path:mr.emptyPath(),ta:!1,ra:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fo(i){const e=i._freezeSettings(),t=xd(i._databaseId);return new vv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Go(i,e,t,o,u,l={}){const g=i.ua(l.merge||l.mergeFields?2:0,e,t,u);tf("Data must be an object, but it was:",g,o);const E=dg(o,g);let M,O;if(l.merge)M=new ce(g.fieldMask),O=g.fieldTransforms;else if(l.mergeFields){const B=[];for(const J of l.mergeFields){const we=$l(e,J,t);if(!g.contains(we))throw new re(W.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);hg(B,we)||B.push(we)}M=new ce(B),O=g.fieldTransforms.filter(J=>M.covers(J.field))}else M=null,O=g.fieldTransforms;return new Bm(new Vi(E),M,O)}function kc(i,e){if(zm(i=(0,ne.m9)(i)))return tf("Unsupported field value:",e,i),dg(i,e);if(i instanceof $m)return function(t,o){if(!Oa(o.Yc))throw o.ia(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ia(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,o){const u=[];let l=0;for(const g of t){let E=kc(g,o.sa(l));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),l++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ne.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return el(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Un.fromDate(t);return{timestampValue:Lu(o.serializer,u)}}if(t instanceof Un){const u=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lu(o.serializer,u)}}if(t instanceof Yh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:fd(o.serializer,t._byteString)};if(t instanceof oi){const u=o.databaseId,l=t.firestore._databaseId;if(!l.isEqual(u))throw o.ia(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:al(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ia(`Unsupported field value: ${qh(t)}`)}(i,e)}function dg(i,e){const t={};return y(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(i,(o,u)=>{const l=kc(u,e.Xc(o));null!=l&&(t[o]=l)}),{mapValue:{fields:t}}}function zm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Un||i instanceof Yh||i instanceof Oc||i instanceof oi||i instanceof $m)}function tf(i,e,t){if(!zm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=qh(t);throw e.ia("an object"===o?i+" a custom object":i+" "+o)}var o}function $l(i,e,t){if((e=(0,ne.m9)(e))instanceof Ul)return e._internalPath;if("string"==typeof e)return rf(i,e);throw Gd("Field path arguments must be of type string or ",i,!1,void 0,t)}const nf=new RegExp("[~\\*/\\[\\]]");function rf(i,e,t){if(e.search(nf)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ul(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gd(i,e,t,o,u){const l=o&&!o.isEmpty(),g=void 0!==u;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let M="";return(l||g)&&(M+=" (found",l&&(M+=` in field ${o}`),g&&(M+=` in document ${u}`),M+=")"),new re(W.INVALID_ARGUMENT,E+i+M)}function hg(i,e){return i.some(t=>t.isEqual(e))}class Wd{constructor(e,t,o,u,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sf extends Wd{data(){return super.data()}}function Bl(i,e){return"string"==typeof e?rf(i,e):e instanceof Ul?e._internalPath:e._delegate._internalPath}class af{}class pg extends af{}function Hm(i,e,...t){let o=[];e instanceof af&&o.push(e),o=o.concat(t),function(u){const l=u.filter(E=>E instanceof Lc).length,g=u.filter(E=>E instanceof jl).length;if(l>1||l>0&&g>0)throw new re(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class jl extends pg{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new jl(e,t,o)}_apply(e){const t=this._parse(e);return Zm(e._query,t),new os(e.firestore,e.converter,rd(e._query,t))}_parse(e){const t=fo(e.firestore);return function(u,l,g,E,M,O,B){let J;if(M.isKeyField()){if("array-contains"===O||"array-contains-any"===O)throw new re(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if("in"===O||"not-in"===O){Km(B,O);const we=[];for(const Be of B)we.push(qm(E,u,Be));J={arrayValue:{values:we}}}else J=qm(E,u,B)}else"in"!==O&&"not-in"!==O&&"array-contains-any"!==O||Km(B,O),J=function Vl(i,e,t,o=!1){return kc(t,i.ua(o?4:3,e))}(g,"where",B,"in"===O||"not-in"===O);return kn.create(M,O,J)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gm(i,e,t){const o=e,u=Bl("where",i);return jl._create(u,o,t)}class Lc extends af{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let l=o;const g=u.getFlattenedFilters();for(const E of g)Zm(l,E),l=rd(l,E)}(e._query,t),new os(e.firestore,e.converter,rd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gg extends pg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gg(e,t)}_apply(e){const t=function(o,u,l){if(null!==o.startAt)throw new re(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new re(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new oc(u,l);return function(E,M){if(null===Zc(E)){const O=Yc(E);null!==O&&Ym(0,O,M.field)}}(o,g),g}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(o,u){const l=o.explicitOrderBy.concat([u]);return new Vs(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ev(i,e="asc"){const t=e,o=Bl("orderBy",i);return gg._create(o,t)}function qm(i,e,t){if("string"==typeof(t=(0,ne.m9)(t))){if(""===t)throw new re(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(e)&&-1!==t.indexOf("/"))throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(cn.fromString(t));if(!ht.isDocumentKey(o))throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return on(i,new ht(o))}if(t instanceof oi)return on(i,t._key);throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(t)}.`)}function Km(i,e){if(!Array.isArray(i)||0===i.length)throw new re(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zm(i,e){if(e.isInequality()){const o=Yc(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new re(W.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Zc(i);null!==l&&Ym(0,u,l)}const t=function(o,u){for(const l of o)for(const g of l.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(W.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ym(i,e,t){if(!t.isEqual(e))throw new re(W.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Qm{convertValue(e,t="none"){switch(G(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw P()}}convertObject(e,t){const o={};return Bo(e.fields,(u,l)=>{o[u]=this.convertValue(l,t)}),o}convertGeoPoint(e){return new Yh($n(e.latitude),$n(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Di(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const t=On(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=cn.fromString(e);b(hh(o));const u=new S(o.get(1),o.get(3)),l=new ht(o.popFirst(5));return u.isEqual(t)||Qn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fc extends Wd{constructor(e,t,o,u,l,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Bl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Ya extends Fc{data(e={}){return super.data(e)}}class zl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Qu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Ya(this._firestore,this._userDataWriter,o.key,o,new Qu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Ya(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const E=new Ya(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let M=-1,O=-1;return 0!==g.type&&(M=l.indexOf(g.doc.key),l=l.delete(g.doc.key)),1!==g.type&&(l=l.add(g.doc),O=l.indexOf(g.doc.key)),{type:Av(g.type),doc:E,oldIndex:M,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Av(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Qa extends Qm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}function Hl(i,e){const t=jn(i.firestore,Mr),o=rg(i),u=function df(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return function Xu(i,e){return function(t,o){const u=new ct;return t.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function iv(i,e,t){return Ac.apply(this,arguments)}(yield function Nl(i){return Bh(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(zi(i),e)}(t,[Go(fo(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Or.exists(!1))]).then(()=>o)}!function(i,e=!0){or=Je.Jn,(0,Je.Xd)(new We.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const l=t.getProvider("app").getImmediate(),g=new Mr(new wn(t.getProvider("auth-internal")),new io(t.getProvider("app-check-internal")),function(E,M){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new re(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S(E.options.projectId,M)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Je.KN)(Ua,"3.10.0",i),(0,Je.KN)(Ua,"3.10.0","esm2017")}();var Bv=H(9751),_g=H(4004),iy={includeMetadataChanges:!1};function gf(i,e){return void 0===e&&(e=iy),new Bv.y(function(t){var o=function Rv(i,...e){var t,o,u;i=(0,ne.m9)(i);let l={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||sg(e[g])||(l=e[g],g++);const E={includeMetadataChanges:l.includeMetadataChanges};if(sg(e[g])){const J=e[g];e[g]=null===(t=J.next)||void 0===t?void 0:t.bind(J),e[g+1]=null===(o=J.error)||void 0===o?void 0:o.bind(J),e[g+2]=null===(u=J.complete)||void 0===u?void 0:u.bind(J)}let M,O,B;if(i instanceof oi)O=jn(i.firestore,Mr),B=zo(i._key.path),M={next:J=>{e[g]&&e[g](function Hr(i,e,t){const o=t.docs.get(e._key),u=new Qa(i);return new Fc(i,u,e._key,o,new Qu(t.hasPendingWrites,t.fromCache),e.converter)}(O,i,J))},error:e[g+1],complete:e[g+2]};else{const J=jn(i,os);O=jn(J.firestore,Mr),B=J._query;const we=new Qa(O);M={next:Be=>{e[g]&&e[g](new zl(O,we,J,Be))},error:e[g+1],complete:e[g+2]},function fg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new re(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(J,we,Be,lt){const Ct=new jd(lt),Ht=new Al(we,Ct,Be);return J.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Sp(i,e){return Ap.apply(this,arguments)}(yield Yu(J),Ht)})),()=>{Ct.yc(),J.asyncQueue.enqueueAndForget((0,le.Z)(function*(){return function Ud(i,e){return xp.apply(this,arguments)}(yield Yu(J),Ht)}))}}(zi(O),B,E,M)}(i,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:o}})}function jv(i,e){return void 0===e&&(e={}),function sy(i){return gf(i,{includeMetadataChanges:!0})}(i).pipe((0,_g.U)(function(t){return Ig(t,e)}))}function Ig(i,e){void 0===e&&(e={});var t=i.data();return!i.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=i.id),t}function qv(i,e){return void 0===e&&(e={}),function Gv(i){return gf(i,{includeMetadataChanges:!0}).pipe((0,_g.U)(function(e){return e.docs}))}(i).pipe((0,_g.U)(function(t){return t.map(function(o){return Ig(o,e)})}))}class _f{constructor(e){return e}}const cy="firestore",wg=new Z.OlP("angularfire2.firestore-instances");function Zv(i){return(e,t)=>{const o=e.runOutsideAngular(()=>i(t));return new _f(o)}}const Yv={provide:class Kv{constructor(){return(0,R.vb)(cy)}},deps:[[new Z.FiY,wg]]},Zd={provide:_f,useFactory:function ly(i,e){const t=(0,R.JM)(cy,i,e);return t&&new _f(t)},deps:[[new Z.FiY,wg],oe.Ot]};let Qv=(()=>{class i{constructor(){(0,ye.KN)("angularfire",R.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Z.oAB({type:i}),i.\u0275inj=Z.cJS({providers:[Zd,Yv]}),i})();function dy(i,...e){return{ngModule:Qv,providers:[{provide:wg,useFactory:Zv(i),multi:!0,deps:[Z.R0b,Z.zs3,R.HU,oe.z6,[new Z.FiY,Q.dh],[new Z.FiY,ae.nm],...e]}]}}const e_=(0,R.u3)(qv,!0),t_=(0,R.u3)(jv,!0),i_=(0,R.u3)(Hl,!0),s_=(0,R.u3)(Vm,!0),a_=(0,R.u3)(rg,!0),Eg=(0,R.u3)(ag,!0),yy=(0,R.u3)(Ev,!0),f_=(0,R.u3)(Hm,!0),I_=(0,R.u3)(Gm,!0)},9883:(Gt,Ze,H)=>{H.d(Ze,{q4:()=>Su,HU:()=>mt,vb:()=>L,JM:()=>A,u3:()=>su});var R=H(8256),Z=H(259),Q=H(5861),oe=H(9681),ye=H(2090),ae=H(4859),le=H(1877),Je=H(8766);const We="@firebase/installations",te="0.6.4",ne=1e4,xe=`w:${te}`,Ye="FIS_v2",ee="https://firebaseinstallations.googleapis.com/v1",ot=36e5,Bt=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(S){return S instanceof ye.ZR&&S.code.includes("request-failed")}function rt({projectId:S}){return`${ee}/projects/${S}/installations`}function it(S){return{token:S.token,requestStatus:2,expiresIn:It(S.expiresIn),creationTime:Date.now()}}function st(S,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,Q.Z)(function*(S,x){const G=(yield x.json()).error;return Bt.create("request-failed",{requestName:S,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function Me({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function _e(S){return He.apply(this,arguments)}function He(){return(He=(0,Q.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function It(S){return Number(S.replace("s","000"))}function pe(){return(pe=(0,Q.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:k}){const G=rt(S),he=Me(S),Ce=x.getImmediate({optional:!0});if(Ce){const $t=yield Ce.getHeartbeatsHeader();$t&&he.append("x-firebase-client",$t)}const Mt={method:"POST",headers:he,body:JSON.stringify({fid:k,authVersion:Ye,appId:S.appId,sdkVersion:xe})},St=yield _e(()=>fetch(G,Mt));if(St.ok){const $t=yield St.json();return{fid:$t.fid||k,registrationStatus:2,refreshToken:$t.refreshToken,authToken:it($t.authToken)}}throw yield st("Create Installation",St)})).apply(this,arguments)}function me(S){return new Promise(x=>{setTimeout(x,S)})}const Ge=/^[cdef][\w-]{21}$/,tt="";function Ve(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function Dt(S){return function Pe(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Ge.test(k)?k:tt}catch{return tt}}function Ot(S){return`${S.appName}!${S.appId}`}const pn=new Map;function xt(S,x){const k=Ot(S);Jt(k,x),function Rr(S,x){const k=function gt(){return!sn&&"BroadcastChannel"in self&&(sn=new BroadcastChannel("[Firebase] FID Change"),sn.onmessage=S=>{Jt(S.data.key,S.data.fid)}),sn}();k&&k.postMessage({key:S,fid:x}),function an(){0===pn.size&&sn&&(sn.close(),sn=null)}()}(k,x)}function Jt(S,x){const k=pn.get(S);if(k)for(const G of k)G(x)}let sn=null;const br="firebase-installations-database",jr=1,vn="firebase-installations-store";let ar=null;function kt(){return ar||(ar=(0,Je.X3)(br,jr,{upgrade:(S,x)=>{0===x&&S.createObjectStore(vn)}})),ar}function bn(S,x){return ur.apply(this,arguments)}function ur(){return(ur=(0,Q.Z)(function*(S,x){const k=Ot(S),he=(yield kt()).transaction(vn,"readwrite"),Ce=he.objectStore(vn),Ke=yield Ce.get(k);return yield Ce.put(x,k),yield he.done,(!Ke||Ke.fid!==x.fid)&&xt(S,x.fid),x})).apply(this,arguments)}function Xn(S){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,Q.Z)(function*(S){const x=Ot(S),G=(yield kt()).transaction(vn,"readwrite");yield G.objectStore(vn).delete(x),yield G.done})).apply(this,arguments)}function Er(S,x){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Q.Z)(function*(S,x){const k=Ot(S),he=(yield kt()).transaction(vn,"readwrite"),Ce=he.objectStore(vn),Ke=yield Ce.get(k),Mt=x(Ke);return void 0===Mt?yield Ce.delete(k):yield Ce.put(Mt,k),yield he.done,Mt&&(!Ke||Ke.fid!==Mt.fid)&&xt(S,Mt.fid),Mt})).apply(this,arguments)}function Fn(S){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,Q.Z)(function*(S){let x;const k=yield Er(S.appConfig,G=>{const he=function gn(S){return Zn(S||{fid:Ve(),registrationStatus:0})}(G),Ce=function bt(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Bt.create("app-offline"))};const k={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},G=function $e(S,x){return Jn.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:G}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:nr(S)}:{installationEntry:x}}(S,he);return x=Ce.registrationPromise,Ce.installationEntry});return k.fid===tt?{installationEntry:yield x}:{installationEntry:k,registrationPromise:x}}),Wr.apply(this,arguments)}function Jn(){return Jn=(0,Q.Z)(function*(S,x){try{const k=yield function at(S,x){return pe.apply(this,arguments)}(S,x);return bn(S.appConfig,k)}catch(k){throw ft(k)&&409===k.customData.serverCode?yield Xn(S.appConfig):yield bn(S.appConfig,{fid:x.fid,registrationStatus:0}),k}}),Jn.apply(this,arguments)}function nr(S){return _n.apply(this,arguments)}function _n(){return(_n=(0,Q.Z)(function*(S){let x=yield Kn(S.appConfig);for(;1===x.registrationStatus;)yield me(100),x=yield Kn(S.appConfig);if(0===x.registrationStatus){const{installationEntry:k,registrationPromise:G}=yield Fn(S);return G||k}return x})).apply(this,arguments)}function Kn(S){return Er(S,x=>{if(!x)throw Bt.create("installation-not-found");return Zn(x)})}function Zn(S){return function mn(S){return 1===S.registrationStatus&&S.registrationTime+ne<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Ci(){return(Ci=(0,Q.Z)(function*({appConfig:S,heartbeatServiceProvider:x},k){const G=function Cn(S,{fid:x}){return`${rt(S)}/${x}/authTokens:generate`}(S,k),he=function Re(S,{refreshToken:x}){const k=Me(S);return k.append("Authorization",function Ne(S){return`${Ye} ${S}`}(x)),k}(S,k),Ce=x.getImmediate({optional:!0});if(Ce){const $t=yield Ce.getHeartbeatsHeader();$t&&he.append("x-firebase-client",$t)}const Mt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:xe,appId:S.appId}})},St=yield _e(()=>fetch(G,Mt));if(St.ok)return it(yield St.json());throw yield st("Generate Auth Token",St)})).apply(this,arguments)}function Lr(S){return cr.apply(this,arguments)}function cr(){return cr=(0,Q.Z)(function*(S,x=!1){let k;const G=yield Er(S.appConfig,Ce=>{if(!rn(Ce))throw Bt.create("not-registered");const Ke=Ce.authToken;if(!x&&function Sn(S){return 2===S.requestStatus&&!function X(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+ot}(S)}(Ke))return Ce;if(1===Ke.requestStatus)return k=function pt(S,x){return Se.apply(this,arguments)}(S,x),Ce;{if(!navigator.onLine)throw Bt.create("app-offline");const Mt=function q(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}(Ce);return k=function Yt(S,x){return Wt.apply(this,arguments)}(S,Mt),Mt}});return k?yield k:G.authToken}),cr.apply(this,arguments)}function Se(){return(Se=(0,Q.Z)(function*(S,x){let k=yield vt(S.appConfig);for(;1===k.authToken.requestStatus;)yield me(100),k=yield vt(S.appConfig);const G=k.authToken;return 0===G.requestStatus?Lr(S,x):G})).apply(this,arguments)}function vt(S){return Er(S,x=>{if(!rn(x))throw Bt.create("not-registered");return function se(S){return 1===S.requestStatus&&S.requestTime+ne<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Wt(){return Wt=(0,Q.Z)(function*(S,x){try{const k=yield function Mn(S,x){return Ci.apply(this,arguments)}(S,x),G=Object.assign(Object.assign({},x),{authToken:k});return yield bn(S.appConfig,G),k}catch(k){if(!ft(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const G=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield bn(S.appConfig,G)}else yield Xn(S.appConfig);throw k}}),Wt.apply(this,arguments)}function rn(S){return void 0!==S&&2===S.registrationStatus}function Ee(){return(Ee=(0,Q.Z)(function*(S){const x=S,{installationEntry:k,registrationPromise:G}=yield Fn(x);return G?G.catch(console.error):Lr(x).catch(console.error),k.fid})).apply(this,arguments)}function de(){return de=(0,Q.Z)(function*(S,x=!1){const k=S;return yield function ie(S){return K.apply(this,arguments)}(k),(yield Lr(k,x)).token}),de.apply(this,arguments)}function K(){return(K=(0,Q.Z)(function*(S){const{registrationPromise:x}=yield Fn(S);x&&(yield x)})).apply(this,arguments)}function cs(S){return Bt.create("missing-app-config-values",{valueName:S})}const vs="installations",_i=S=>{const x=S.getProvider("app").getImmediate(),k=function ci(S){if(!S||!S.options)throw cs("App Configuration");if(!S.name)throw cs("App Name");const x=["projectId","apiKey","appId"];for(const k of x)if(!S.options[k])throw cs(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:k,heartbeatServiceProvider:(0,oe.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Wi=S=>{const x=S.getProvider("app").getImmediate(),k=(0,oe.qX)(x,vs).getImmediate();return{getId:()=>function Ue(S){return Ee.apply(this,arguments)}(k),getToken:he=>function _t(S){return de.apply(this,arguments)}(k,he)}};(function Bs(){(0,oe.Xd)(new ae.wA(vs,_i,"PUBLIC")),(0,oe.Xd)(new ae.wA("installations-internal",Wi,"PRIVATE"))})(),(0,oe.KN)(We,te),(0,oe.KN)(We,te,"esm2017");const Ai="@firebase/remote-config",Tr=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zr{constructor(x,k,G,he){this.client=x,this.storage=k,this.storageCache=G,this.logger=he}isCachedDataFresh(x,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-k,he=G<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${he}.`),he}fetch(x){var k=this;return(0,Q.Z)(function*(){const[G,he]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(he&&k.isCachedDataFresh(x.cacheMaxAgeMillis,G))return he;x.eTag=he&&he.eTag;const Ce=yield k.client.fetch(x),Ke=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&Ke.push(k.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(Ke),Ce})()}}function Mi(S=navigator){return S.languages&&S.languages[0]||S.language}class jt{constructor(x,k,G,he,Ce,Ke){this.firebaseInstallations=x,this.sdkVersion=k,this.namespace=G,this.projectId=he,this.apiKey=Ce,this.appId=Ke}fetch(x){var k=this;return(0,Q.Z)(function*(){const[G,he]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},St={sdk_version:k.sdkVersion,app_instance_id:G,app_instance_id_token:he,app_id:k.appId,language_code:Mi()},$t={method:"POST",headers:Mt,body:JSON.stringify(St)},on=fetch(Ke,$t),nn=new Promise((rs,lo)=>{x.signal.addEventListener(()=>{const rc=new Error("The operation was aborted.");rc.name="AbortError",lo(rc)})});let yi;try{yield Promise.race([on,nn]),yi=yield on}catch(rs){let lo="fetch-client-network";throw"AbortError"===rs?.name&&(lo="fetch-timeout"),Tr.create(lo,{originalErrorMessage:rs?.message})}let Jr=yi.status;const ou=yi.headers.get("ETag")||void 0;let Ga,jo;if(200===yi.status){let rs;try{rs=yield yi.json()}catch(lo){throw Tr.create("fetch-client-parse",{originalErrorMessage:lo?.message})}Ga=rs.entries,jo=rs.state}if("INSTANCE_STATE_UNSPECIFIED"===jo?Jr=500:"NO_CHANGE"===jo?Jr=304:("NO_TEMPLATE"===jo||"EMPTY_CONFIG"===jo)&&(Ga={}),304!==Jr&&200!==Jr)throw Tr.create("fetch-status",{httpStatus:Jr});return{status:Jr,eTag:ou,config:Ga}})()}}class Pr{constructor(x,k){this.client=x,this.storage=k}fetch(x){var k=this;return(0,Q.Z)(function*(){const G=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(x,G)})()}attemptFetch(x,{throttleEndTimeMillis:k,backoffCount:G}){var he=this;return(0,Q.Z)(function*(){yield function ws(S,x){return new Promise((k,G)=>{const he=Math.max(x-Date.now(),0),Ce=setTimeout(k,he);S.addEventListener(()=>{clearTimeout(Ce),G(Tr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,k);try{const Ce=yield he.client.fetch(x);return yield he.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function zs(S){if(!(S instanceof ye.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ce))throw Ce;const Ke={throttleEndTimeMillis:Date.now()+(0,ye.$s)(G),backoffCount:G+1};return yield he.storage.setThrottleMetadata(Ke),he.attemptFetch(x,Ke)}})()}}class Es{constructor(x,k,G,he,Ce){this.app=x,this._client=k,this._storageCache=G,this._storage=he,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ki(S,x){const k=S.target.error||void 0;return Tr.create(x,{originalErrorMessage:k&&k?.message})}const hr="app_namespace_store";class Po{constructor(x,k,G,he=function Hn(){return new Promise((S,x)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=G=>{x(Ki(G,"storage-open"))},k.onsuccess=G=>{S(G.target.result)},k.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(hr,{keyPath:"compositeKey"})}}catch(k){x(Tr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=x,this.appName=k,this.namespace=G,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var k=this;return(0,Q.Z)(function*(){const G=yield k.openDbPromise;return new Promise((he,Ce)=>{const Mt=G.transaction([hr],"readonly").objectStore(hr),St=k.createCompositeKey(x);try{const $t=Mt.get(St);$t.onerror=on=>{Ce(Ki(on,"storage-get"))},$t.onsuccess=on=>{const nn=on.target.result;he(nn?nn.value:void 0)}}catch($t){Ce(Tr.create("storage-get",{originalErrorMessage:$t?.message}))}})})()}set(x,k){var G=this;return(0,Q.Z)(function*(){const he=yield G.openDbPromise;return new Promise((Ce,Ke)=>{const St=he.transaction([hr],"readwrite").objectStore(hr),$t=G.createCompositeKey(x);try{const on=St.put({compositeKey:$t,value:k});on.onerror=nn=>{Ke(Ki(nn,"storage-set"))},on.onsuccess=()=>{Ce()}}catch(on){Ke(Tr.create("storage-set",{originalErrorMessage:on?.message}))}})})()}delete(x){var k=this;return(0,Q.Z)(function*(){const G=yield k.openDbPromise;return new Promise((he,Ce)=>{const Mt=G.transaction([hr],"readwrite").objectStore(hr),St=k.createCompositeKey(x);try{const $t=Mt.delete(St);$t.onerror=on=>{Ce(Ki(on,"storage-delete"))},$t.onsuccess=()=>{he()}}catch($t){Ce(Tr.create("storage-delete",{originalErrorMessage:$t?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Hs{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,Q.Z)(function*(){const k=x.storage.getLastFetchStatus(),G=x.storage.getLastSuccessfulFetchTimestampMillis(),he=x.storage.getActiveConfig(),Ce=yield k;Ce&&(x.lastFetchStatus=Ce);const Ke=yield G;Ke&&(x.lastSuccessfulFetchTimestampMillis=Ke);const Mt=yield he;Mt&&(x.activeConfig=Mt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Ts(){return fr.apply(this,arguments)}function fr(){return(fr=(0,Q.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function Zi(){(0,oe.Xd)(new ae.wA("remote-config",function S(x,{instanceIdentifier:k}){const G=x.getProvider("app").getImmediate(),he=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tr.create("registration-window");if(!(0,ye.hl)())throw Tr.create("indexed-db-unavailable");const{projectId:Ce,apiKey:Ke,appId:Mt}=G.options;if(!Ce)throw Tr.create("registration-project-id");if(!Ke)throw Tr.create("registration-api-key");if(!Mt)throw Tr.create("registration-app-id");const St=new Po(Mt,G.name,k=k||"firebase"),$t=new Hs(St),on=new le.Yd(Ai);on.logLevel=le.in.ERROR;const nn=new jt(he,oe.Jn,k,Ce,Ke,Mt),yi=new Pr(nn,St),Jr=new zr(yi,St,$t,on),ou=new Es(G,Jr,$t,St,on);return function Te(S){const x=(0,ye.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ou),ou},"PUBLIC").setMultipleInstances(!0)),(0,oe.KN)(Ai,"0.4.4"),(0,oe.KN)(Ai,"0.4.4","esm2017")}();const Ja="/firebase-messaging-sw.js",di="/firebase-cloud-messaging-push-scope",pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ii="https://fcmregistrations.googleapis.com/v1",hi="google.c.a.c_id",rr="google.c.a.c_l",Fr="google.c.a.ts",Ln="google.c.a.e";var Pi=(()=>{return(S=Pi||(Pi={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Pi;var S})();function Ur(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Du(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(k),he=new Uint8Array(G.length);for(let Ce=0;Ce<G.length;++Ce)he[Ce]=G.charCodeAt(Ce);return he}const Ws="fcm_token_details_db",Ko=5,Zo="fcm_token_object_Store";function Yo(){return Yo=(0,Q.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Ws))return null;let x=null;return(yield(0,Je.X3)(Ws,Ko,{upgrade:(G=(0,Q.Z)(function*(he,Ce,Ke,Mt){var St;if(Ce<2||!he.objectStoreNames.contains(Zo))return;const $t=Mt.objectStore(Zo),on=yield $t.index("fcmSenderId").get(S);if(yield $t.clear(),on)if(2===Ce){const nn=on;if(!nn.auth||!nn.p256dh||!nn.endpoint)return;x={token:nn.fcmToken,createTime:null!==(St=nn.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:nn.auth,p256dh:nn.p256dh,endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:"string"==typeof nn.vapidKey?nn.vapidKey:Ur(nn.vapidKey)}}}else if(3===Ce){const nn=on;x={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:Ur(nn.auth),p256dh:Ur(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:Ur(nn.vapidKey)}}}else if(4===Ce){const nn=on;x={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:Ur(nn.auth),p256dh:Ur(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:Ur(nn.vapidKey)}}}}),function(Ce,Ke,Mt,St){return G.apply(this,arguments)})})).close(),yield(0,Je.Lj)(Ws),yield(0,Je.Lj)("fcm_vapid_details_db"),yield(0,Je.Lj)("undefined"),function qs(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var G}),Yo.apply(this,arguments)}const Cr="firebase-messaging-database",tu=1,ls="firebase-messaging-store";let Qo=null;function Yi(){return Qo||(Qo=(0,Je.X3)(Cr,tu,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ls)}})),Qo}function mo(S){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,Q.Z)(function*(S){const x=ti(S),G=yield(yield Yi()).transaction(ls).objectStore(ls).get(x);if(G)return G;{const he=yield function eu(S){return Yo.apply(this,arguments)}(S.appConfig.senderId);if(he)return yield ma(S,he),he}}),Ks.apply(this,arguments)}function ma(S,x){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,Q.Z)(function*(S,x){const k=ti(S),he=(yield Yi()).transaction(ls,"readwrite");return yield he.objectStore(ls).put(x,k),yield he.done,x})).apply(this,arguments)}function Ni(){return(Ni=(0,Q.Z)(function*(S){const x=ti(S),G=(yield Yi()).transaction(ls,"readwrite");yield G.objectStore(ls).delete(x),yield G.done})).apply(this,arguments)}function ti({appConfig:S}){return S.appId}const gr=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ea(S,x){return yo.apply(this,arguments)}function yo(){return(yo=(0,Q.Z)(function*(S,x){const k=yield Kr(S),G=ta(x),he={method:"POST",headers:k,body:JSON.stringify(G)};let Ce;try{Ce=yield(yield fetch(bs(S.appConfig),he)).json()}catch(Ke){throw gr.create("token-subscribe-failed",{errorInfo:Ke?.toString()})}if(Ce.error)throw gr.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw gr.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Zs(){return(Zs=(0,Q.Z)(function*(S,x){const k=yield Kr(S),G=ta(x.subscriptionOptions),he={method:"PATCH",headers:k,body:JSON.stringify(G)};let Ce;try{Ce=yield(yield fetch(`${bs(S.appConfig)}/${x.token}`,he)).json()}catch(Ke){throw gr.create("token-update-failed",{errorInfo:Ke?.toString()})}if(Ce.error)throw gr.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw gr.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function vo(S,x){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,Q.Z)(function*(S,x){const G={method:"DELETE",headers:yield Kr(S)};try{const Ce=yield(yield fetch(`${bs(S.appConfig)}/${x}`,G)).json();if(Ce.error)throw gr.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(he){throw gr.create("token-unsubscribe-failed",{errorInfo:he?.toString()})}})).apply(this,arguments)}function bs({projectId:S}){return`${Ii}/projects/${S}/registrations`}function Kr(S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,Q.Z)(function*({appConfig:S,installations:x}){const k=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ta({p256dh:S,auth:x,endpoint:k,vapidKey:G}){const he={web:{endpoint:k,auth:x,p256dh:S}};return G!==pr&&(he.web.applicationPubKey=G),he}const ir=6048e5;function fs(){return fs=(0,Q.Z)(function*(S){const x=yield function Js(S,x){return _o.apply(this,arguments)}(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:Ur(x.getKey("auth")),p256dh:Ur(x.getKey("p256dh"))},G=yield mo(S.firebaseDependencies);if(G){if(function Xi(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}(G.subscriptionOptions,k))return Date.now()>=G.createTime+ir?function Cs(S,x){return Oi.apply(this,arguments)}(S,{token:G.token,createTime:Date.now(),subscriptionOptions:k}):G.token;try{yield vo(S.firebaseDependencies,G.token)}catch(he){console.warn(he)}return wi(S.firebaseDependencies,k)}return wi(S.firebaseDependencies,k)}),fs.apply(this,arguments)}function Qs(){return Qs=(0,Q.Z)(function*(S){const x=yield mo(S.firebaseDependencies);x&&(yield vo(S.firebaseDependencies,x.token),yield function Jo(S){return Ni.apply(this,arguments)}(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),Qs.apply(this,arguments)}function Oi(){return Oi=(0,Q.Z)(function*(S,x){try{const k=yield function hs(S,x){return Zs.apply(this,arguments)}(S.firebaseDependencies,x),G=Object.assign(Object.assign({},x),{token:k,createTime:Date.now()});return yield ma(S.firebaseDependencies,G),k}catch(k){throw yield function qt(S){return Qs.apply(this,arguments)}(S),k}}),Oi.apply(this,arguments)}function wi(S,x){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,Q.Z)(function*(S,x){const G={token:yield ea(S,x),createTime:Date.now(),subscriptionOptions:x};return yield ma(S,G),G.token})).apply(this,arguments)}function _o(){return(_o=(0,Q.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Du(x)})})).apply(this,arguments)}function Ji(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Zr(S,x){if(!x.notification)return;S.notification={};const k=x.notification.title;k&&(S.notification.title=k);const G=x.notification.body;G&&(S.notification.body=G);const he=x.notification.image;he&&(S.notification.image=he);const Ce=x.notification.icon;Ce&&(S.notification.icon=Ce)}(x,S),function Tt(S,x){x.data&&(S.data=x.data)}(x,S),function nu(S,x){var k,G,he,Ce,Ke;if(!(x.fcmOptions||null!==(k=x.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const Mt=null!==(he=null===(G=x.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==he?he:null===(Ce=x.notification)||void 0===Ce?void 0:Ce.click_action;Mt&&(S.fcmOptions.link=Mt);const St=null===(Ke=x.fcmOptions)||void 0===Ke?void 0:Ke.analytics_label;St&&(S.fcmOptions.analyticsLabel=St)}(x,S),x}function Ss(S,x){const k=[];for(let G=0;G<S.length;G++)k.push(S.charAt(G)),G<x.length&&k.push(x.charAt(G));return k.join("")}function va(S){return gr.create("missing-app-config-values",{valueName:S})}Ss("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ss("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _a{constructor(x,k,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function ya(S){if(!S||!S.options)throw va("App Configuration Object");if(!S.name)throw va("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const G of x)if(!k[G])throw va(G);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:he,installations:k,analyticsProvider:G}}_delete(){return Promise.resolve()}}function No(S){return ra.apply(this,arguments)}function ra(){return(ra=(0,Q.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ja,{scope:di}),S.swRegistration.update().catch(()=>{})}catch(x){throw gr.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function hn(){return(hn=(0,Q.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield No(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function ps(){return(ps=(0,Q.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=pr)})).apply(this,arguments)}function Yr(){return Yr=(0,Q.Z)(function*(S,x){if(!navigator)throw gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gr.create("permission-blocked");return yield function to(S,x){return ps.apply(this,arguments)}(S,x?.vapidKey),yield function Qe(S,x){return hn.apply(this,arguments)}(S,x?.serviceWorkerRegistration),function na(S){return fs.apply(this,arguments)}(S)}),Yr.apply(this,arguments)}function ni(){return(ni=(0,Q.Z)(function*(S,x,k){const G=function ia(S){switch(S){case Pi.NOTIFICATION_CLICKED:return"notification_open";case Pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:k[hi],message_name:k[rr],message_time:k[Fr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Oo(){return Oo=(0,Q.Z)(function*(S,x){const k=x.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===Pi.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ji(k)):S.onMessageHandler.next(Ji(k)));const G=k.data;(function eo(S){return"object"==typeof S&&!!S&&hi in S})(G)&&"1"===G[Ln]&&(yield function es(S,x,k){return ni.apply(this,arguments)}(S,k.messageType,G))}),Oo.apply(this,arguments)}const As="@firebase/messaging",Nr=S=>{const x=new _a(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function no(S,x){return Oo.apply(this,arguments)}(x,k)),x},ts=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:G=>function Ir(S,x){return Yr.apply(this,arguments)}(x,G)}};function ns(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Q.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function La(){(0,oe.Xd)(new ae.wA("messaging",Nr,"PUBLIC")),(0,oe.Xd)(new ae.wA("messaging-internal",ts,"PRIVATE")),(0,oe.KN)(As,"0.12.4"),(0,oe.KN)(As,"0.12.4","esm2017")}();const oa="analytics",Ia="firebase_id",gs="origin",wa=6e4,Ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sr="https://www.googletagmanager.com/gtag/js",or=new le.Yd("@firebase/analytics"),Vr=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ko(S){if(!S.startsWith(sr)){const x=Vr.create("invalid-gtag-resource",{gtagURL:S});return or.warn(x.message),""}return S}function ze(S){return Promise.all(S.map(x=>x.catch(k=>k)))}function b(){return(b=(0,Q.Z)(function*(S,x,k,G,he,Ce){const Ke=G[he];try{if(Ke)yield x[Ke];else{const St=(yield ze(k)).find($t=>$t.measurementId===he);St&&(yield x[St.appId])}}catch(Mt){or.error(Mt)}S("config",he,Ce)})).apply(this,arguments)}function j(){return(j=(0,Q.Z)(function*(S,x,k,G,he){try{let Ce=[];if(he&&he.send_to){let Ke=he.send_to;Array.isArray(Ke)||(Ke=[Ke]);const Mt=yield ze(k);for(const St of Ke){const $t=Mt.find(nn=>nn.measurementId===St),on=$t&&x[$t.appId];if(!on){Ce=[];break}Ce.push(on)}}0===Ce.length&&(Ce=Object.values(x)),yield Promise.all(Ce),S("event",G,he||{})}catch(Ce){or.error(Ce)}})).apply(this,arguments)}const In=30,wn=new class Pn{constructor(x={},k=1e3){this.throttleMetadata=x,this.intervalMillis=k}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,k){this.throttleMetadata[x]=k}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function er(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Sr(){return(Sr=(0,Q.Z)(function*(S){var x;const{appId:k,apiKey:G}=S,he={method:"GET",headers:er(G)},Ce=Ua.replace("{app-id}",k),Ke=yield fetch(Ce,he);if(200!==Ke.status&&304!==Ke.status){let Mt="";try{const St=yield Ke.json();null!==(x=St.error)&&void 0!==x&&x.message&&(Mt=St.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:Mt})}return Ke.json()})).apply(this,arguments)}function fi(){return(fi=(0,Q.Z)(function*(S,x=wn,k){const{appId:G,apiKey:he,measurementId:Ce}=S.options;if(!G)throw Vr.create("no-app-id");if(!he){if(Ce)return{measurementId:Ce,appId:G};throw Vr.create("no-api-key")}const Ke=x.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mt=new aa;return setTimeout((0,Q.Z)(function*(){Mt.abort()}),void 0!==k?k:wa),so({appId:G,apiKey:he,measurementId:Ce},Ke,Mt,x)})).apply(this,arguments)}function so(S,x,k){return pi.apply(this,arguments)}function pi(){return pi=(0,Q.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:k},G,he=wn){var Ce;const{appId:Ke,measurementId:Mt}=S;try{yield function Kt(S,x){return new Promise((k,G)=>{const he=Math.max(x-Date.now(),0),Ce=setTimeout(k,he);S.addEventListener(()=>{clearTimeout(Ce),G(Vr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(G,x)}catch(St){if(Mt)return or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:Ke,measurementId:Mt};throw St}try{const St=yield function Nn(S){return Sr.apply(this,arguments)}(S);return he.deleteThrottleMetadata(Ke),St}catch(St){const $t=St;if(!function Wn(S){if(!(S instanceof ye.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}($t)){if(he.deleteThrottleMetadata(Ke),Mt)return or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:Ke,measurementId:Mt};throw St}const on=503===Number(null===(Ce=$t?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ye.$s)(k,he.intervalMillis,In):(0,ye.$s)(k,he.intervalMillis),nn={throttleEndTimeMillis:Date.now()+on,backoffCount:k+1};return he.setThrottleMetadata(Ke,nn),or.debug(`Calling attemptFetch again in ${on} millis`),so(S,nn,G,he)}}),pi.apply(this,arguments)}class aa{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Un,Ea;function gi(){return(gi=(0,Q.Z)(function*(S,x,k,G,he){if(he&&he.global)S("event",k,G);else{const Ce=yield x;S("event",k,Object.assign(Object.assign({},G),{send_to:Ce}))}})).apply(this,arguments)}function ri(){return(ri=(0,Q.Z)(function*(){if(!(0,ye.hl)())return or.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(S){return or.warn(Vr.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function ao(){return ao=(0,Q.Z)(function*(S,x,k,G,he,Ce,Ke){var Mt;const St=function io(S){return fi.apply(this,arguments)}(S);St.then(Jr=>{k[Jr.measurementId]=Jr.appId,S.options.measurementId&&Jr.measurementId!==S.options.measurementId&&or.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Jr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jr=>or.error(Jr)),x.push(St);const $t=function $a(){return ri.apply(this,arguments)}().then(Jr=>{if(Jr)return G.getId()}),[on,nn]=yield Promise.all([St,$t]);(function ct(S){const x=window.document.getElementsByTagName("script");for(const k of Object.values(x))if(k.src&&k.src.includes(sr)&&k.src.includes(S))return k;return null})(Ce)||function Rn(S,x){const k=function Qn(S,x){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(S,x)),k}("firebase-js-sdk-policy",{createScriptURL:ko}),G=document.createElement("script"),he=`${sr}?l=${S}&id=${x}`;G.src=k?k?.createScriptURL(he):he,G.async=!0,document.head.appendChild(G)}(Ce,on.measurementId),Ea&&(he("consent","default",Ea),function Da(S){Ea=S}(void 0)),he("js",new Date);const yi=null!==(Mt=Ke?.config)&&void 0!==Mt?Mt:{};return yi[gs]="firebase",yi.update=!0,null!=nn&&(yi[Ia]=nn),he("config",on.measurementId,yi),Un&&(he("set",Un),function wo(S){Un=S}(void 0)),on.measurementId}),ao.apply(this,arguments)}class ua{constructor(x){this.app=x}_delete(){return delete Ns[this.app.options.appId],Promise.resolve()}}let Ns={},Os=[];const ca={};let ki,Li,Ae="dataLayer",$r="gtag",ks=!1;function Fi(S,x,k){!function la(){const S=[];if((0,ye.ru)()&&S.push("This is a browser extension environment."),(0,ye.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((G,he)=>`(${he+1}) ${G}`).join(" "),k=Vr.create("invalid-analytics-context",{errorInfo:x});or.warn(k.message)}}();const G=S.options.appId;if(!G)throw Vr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Vr.create("no-api-key");or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ns[G])throw Vr.create("already-exists",{id:G});if(!ks){!function T(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(Ae);const{wrappedGtag:Ce,gtagCore:Ke}=function re(S,x,k,G,he){let Ce=function(...Ke){window[G].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ce=window[he]),window[he]=function W(S,x,k,G){function Ce(){return Ce=(0,Q.Z)(function*(Ke,Mt,St){try{"event"===Ke?yield function V(S,x,k,G,he){return j.apply(this,arguments)}(S,x,k,Mt,St):"config"===Ke?yield function P(S,x,k,G,he,Ce){return b.apply(this,arguments)}(S,x,k,G,Mt,St):"consent"===Ke?S("consent","update",St):S("set",Mt)}catch($t){or.error($t)}}),Ce.apply(this,arguments)}return function he(Ke,Mt,St){return Ce.apply(this,arguments)}}(Ce,S,x,k),{gtagCore:Ce,wrappedGtag:window[he]}}(Ns,Os,ca,Ae,$r);Li=Ce,ki=Ke,ks=!0}return Ns[G]=function mi(S,x,k,G,he,Ce,Ke){return ao.apply(this,arguments)}(S,Os,ca,x,ki,Ae,k),new ua(S)}function Fo(){return uo.apply(this,arguments)}function uo(){return(uo=(0,Q.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const si="@firebase/analytics";!function ja(){(0,oe.Xd)(new ae.wA(oa,(x,{options:k})=>Fi(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,oe.Xd)(new ae.wA("analytics-internal",function S(x){try{const k=x.getProvider(oa).getImmediate();return{logEvent:(G,he,Ce)=>function Ls(S,x,k,G){S=(0,ye.m9)(S),function Ft(S,x,k,G,he){return gi.apply(this,arguments)}(Li,Ns[S.app.options.appId],x,k,G).catch(he=>or.error(he))}(k,G,he,Ce)}}catch(k){throw Vr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,oe.KN)(si,"0.9.5"),(0,oe.KN)(si,"0.9.5","esm2017")}();var za=H(727);class Uo extends za.w0{constructor(x,k){super()}schedule(x,k=0){return this}}const Vo={setInterval(S,x,...k){const{delegate:G}=Vo;return G?.setInterval?G.setInterval(S,x,...k):setInterval(S,x,...k)},clearInterval(S){const{delegate:x}=Vo;return(x?.clearInterval||clearInterval)(S)},delegate:void 0};var Bc=H(8737);class Vn extends Uo{constructor(x,k){super(x,k),this.scheduler=x,this.work=k,this.pending=!1}schedule(x,k=0){var G;if(this.closed)return this;this.state=x;const he=this.id,Ce=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(Ce,he,k)),this.pending=!0,this.delay=k,this.id=null!==(G=this.id)&&void 0!==G?G:this.requestAsyncId(Ce,this.id,k),this}requestAsyncId(x,k,G=0){return Vo.setInterval(x.flush.bind(x,this),G)}recycleAsyncId(x,k,G=0){if(null!=G&&this.delay===G&&!1===this.pending)return k;null!=k&&Vo.clearInterval(k)}execute(x,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const G=this._execute(x,k);if(G)return G;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,k){let he,G=!1;try{this.work(x)}catch(Ce){G=!0,he=Ce||new Error("Scheduled action threw falsy error")}if(G)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:x,scheduler:k}=this,{actions:G}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Bc.P)(G,this),null!=x&&(this.id=this.recycleAsyncId(k,x,null)),this.delay=null,super.unsubscribe()}}}const Ha={now:()=>(Ha.delegate||Date).now(),delegate:void 0};class iu{constructor(x,k=iu.now){this.schedulerActionCtor=x,this.now=k}schedule(x,k=0,G){return new this.schedulerActionCtor(this,x).schedule(G,k)}}iu.now=Ha.now;class bu extends iu{constructor(x,k=iu.now){super(x,k),this.actions=[],this._active=!1}flush(x){const{actions:k}=this;if(this._active)return void k.push(x);let G;this._active=!0;do{if(G=x.execute(x.state,x.delay))break}while(x=k.shift());if(this._active=!1,G){for(;x=k.shift();)x.unsubscribe();throw G}}}const nc=new class tc extends bu{}(class Wl extends Vn{constructor(x,k){super(x,k),this.scheduler=x,this.work=k}schedule(x,k=0){return k>0?super.schedule(x,k):(this.delay=k,this.state=x,this.scheduler.flush(this),this)}execute(x,k){return k>0||this.closed?super.execute(x,k):this._execute(x,k)}requestAsyncId(x,k,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(x,k,G):(x.flush(this),0)}}),da=new bu(Vn);var $o=H(9751),Ar=H(8505),ba=H(9468),ha=H(5363);const Su=new R.GfV("7.5.0"),Qr="__angularfire_symbol__analyticsIsSupportedValue",co="__angularfire_symbol__analyticsIsSupported",Ca="__angularfire_symbol__remoteConfigIsSupportedValue",wr="__angularfire_symbol__remoteConfigIsSupported",Fs="__angularfire_symbol__messagingIsSupportedValue",Bo="__angularfire_symbol__messagingIsSupported";function A(S,x,k){if(x){if(1===x.length)return x[0];const Ce=x.filter(Ke=>Ke.app===k);if(1===Ce.length)return Ce[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[co]||(globalThis[co]=Fo().then(S=>globalThis[Qr]=S).catch(()=>globalThis[Qr]=!1)),globalThis[Bo]||(globalThis[Bo]=ns().then(S=>globalThis[Fs]=S).catch(()=>globalThis[Fs]=!1)),globalThis[wr]||(globalThis[wr]=Ts().then(S=>globalThis[Ca]=S).catch(()=>globalThis[Ca]=!1));const L=(S,x)=>{const k=x?[x]:(0,Z.C6)(),G=[];return k.forEach(he=>{he.container.getProvider(S).instances.forEach(Ke=>{G.includes(Ke)||G.push(Ke)})}),G};function $(){}class ce{constructor(x,k=nc){this.zone=x,this.delegate=k}now(){return this.delegate.now()}schedule(x,k,G){const he=this.zone;return this.delegate.schedule(function(Ke){he.runGuarded(()=>{x.apply(this,[Ke])})},k,G)}}class ke{constructor(x){this.zone=x,this.task=null}call(x,k){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),k.pipe((0,Ar.b)({next:G,complete:G,error:G})).subscribe(x).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mt=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ce(Zone.current)),this.insideAngular=k.run(()=>new ce(Zone.current,da)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(R.LFG(R.R0b))},S.\u0275prov=R.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function et(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function On(S){return et().ngZone.run(()=>S())}function ms(S){return et(),function Di(S){return function(k){return(k=k.lift(new ke(S.ngZone))).pipe((0,ba.R)(S.outsideAngular),(0,ha.Q)(S.insideAngular))}}(et())(S)}const Us=(S,x)=>function(){const G=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),On(()=>S.apply(void 0,G))},su=(S,x)=>function(){let k;const G=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof G[Ce]&&(x&&(k||(k=On(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)))),G[Ce]=Us(G[Ce],k));const he=function yn(S){return et().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,G));if(!x){if(he instanceof $o.y){const Ce=et();return he.pipe((0,ba.R)(Ce.outsideAngular),(0,ha.Q)(Ce.insideAngular))}return On(()=>he)}return he instanceof $o.y?he.pipe(ms):he instanceof Promise?On(()=>new Promise((Ce,Ke)=>he.then(Mt=>On(()=>Ce(Mt)),Mt=>On(()=>Ke(Mt))))):"function"==typeof he&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),he.apply(this,arguments)}:On(()=>he)}},2090:(Gt,Ze,H)=>{H.d(Ze,{$s:()=>Yt,BH:()=>st,L:()=>We,LL:()=>xt,P0:()=>ft,Pz:()=>it,Sg:()=>yt,US:()=>ae,ZR:()=>pn,aH:()=>rt,b$:()=>Ne,eu:()=>Ve,hl:()=>tt,m9:()=>Sn,ne:()=>gn,q4:()=>Bt,ru:()=>It,tV:()=>te,uI:()=>Re,vZ:()=>ur,w1:()=>pe,xO:()=>Er,xb:()=>kt,z$:()=>Me,zI:()=>Dt});const oe=function(X){const q=[];let se=0;for(let Ue=0;Ue<X.length;Ue++){let Ee=X.charCodeAt(Ue);Ee<128?q[se++]=Ee:Ee<2048?(q[se++]=Ee>>6|192,q[se++]=63&Ee|128):55296==(64512&Ee)&&Ue+1<X.length&&56320==(64512&X.charCodeAt(Ue+1))?(Ee=65536+((1023&Ee)<<10)+(1023&X.charCodeAt(++Ue)),q[se++]=Ee>>18|240,q[se++]=Ee>>12&63|128,q[se++]=Ee>>6&63|128,q[se++]=63&Ee|128):(q[se++]=Ee>>12|224,q[se++]=Ee>>6&63|128,q[se++]=63&Ee|128)}return q},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,q){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let Ee=0;Ee<X.length;Ee+=3){const _t=X[Ee],de=Ee+1<X.length,ie=de?X[Ee+1]:0,K=Ee+2<X.length,ve=K?X[Ee+2]:0;let Lt=(15&ie)<<2|ve>>6,Xt=63&ve;K||(Xt=64,de||(Lt=64)),Ue.push(se[_t>>2],se[(3&_t)<<4|ie>>4],se[Lt],se[Xt])}return Ue.join("")},encodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(X):this.encodeByteArray(oe(X),q)},decodeString(X,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(X):function(X){const q=[];let se=0,Ue=0;for(;se<X.length;){const Ee=X[se++];if(Ee<128)q[Ue++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const _t=X[se++];q[Ue++]=String.fromCharCode((31&Ee)<<6|63&_t)}else if(Ee>239&&Ee<365){const K=((7&Ee)<<18|(63&X[se++])<<12|(63&X[se++])<<6|63&X[se++])-65536;q[Ue++]=String.fromCharCode(55296+(K>>10)),q[Ue++]=String.fromCharCode(56320+(1023&K))}else{const _t=X[se++],de=X[se++];q[Ue++]=String.fromCharCode((15&Ee)<<12|(63&_t)<<6|63&de)}}return q.join("")}(this.decodeStringToByteArray(X,q))},decodeStringToByteArray(X,q){this.init_();const se=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let Ee=0;Ee<X.length;){const _t=se[X.charAt(Ee++)],ie=Ee<X.length?se[X.charAt(Ee)]:0;++Ee;const ve=Ee<X.length?se[X.charAt(Ee)]:64;++Ee;const qe=Ee<X.length?se[X.charAt(Ee)]:64;if(++Ee,null==_t||null==ie||null==ve||null==qe)throw new le;Ue.push(_t<<2|ie>>4),64!==ve&&(Ue.push(ie<<4&240|ve>>2),64!==qe&&Ue.push(ve<<6&192|qe))}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}};class le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(X){return function(X){const q=oe(X);return ae.encodeByteArray(q,!0)}(X).replace(/\./g,"")},te=function(X){try{return ae.decodeString(X,!0)}catch(q){console.error("base64Decode failed: ",q)}return null},Et=()=>{try{return function ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=X&&te(X[1]);return q&&JSON.parse(q)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Bt=X=>{var q,se;return null===(se=null===(q=Et())||void 0===q?void 0:q.emulatorHosts)||void 0===se?void 0:se[X]},ft=X=>{const q=Bt(X);if(!q)return;const se=q.lastIndexOf(":");if(se<=0||se+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const Ue=parseInt(q.substring(se+1),10);return"["===q[0]?[q.substring(1,se-1),Ue]:[q.substring(0,se),Ue]},rt=()=>{var X;return null===(X=Et())||void 0===X?void 0:X.config},it=X=>{var q;return null===(q=Et())||void 0===q?void 0:q[`_${X}`]};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,se)=>{this.resolve=q,this.reject=se})}wrapCallback(q){return(se,Ue)=>{se?this.reject(se):this.resolve(Ue),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(se):q(se,Ue))}}}function yt(X,q){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=q||"demo-project",Ee=X.iat||0,_t=X.sub||X.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},X);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(de)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function It(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pe(){const X=Me();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((X,q)=>{try{let se=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(Ue);Ee.onsuccess=()=>{Ee.result.close(),se||self.indexedDB.deleteDatabase(Ue),X(!0)},Ee.onupgradeneeded=()=>{se=!1},Ee.onerror=()=>{var _t;q((null===(_t=Ee.error)||void 0===_t?void 0:_t.message)||"")}}catch(se){q(se)}})}function Dt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(q,se,Ue){super(se),this.code=q,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(q,se,Ue){this.service=q,this.serviceName=se,this.errors=Ue}create(q,...se){const Ue=se[0]||{},Ee=`${this.service}/${q}`,_t=this.errors[q],de=_t?function Zt(X,q){return X.replace(Nt,(se,Ue)=>{const Ee=q[Ue];return null!=Ee?String(Ee):`<${Ue}?>`})}(_t,Ue):"Error";return new pn(Ee,`${this.serviceName}: ${de} (${Ee}).`,Ue)}}const Nt=/\{\$([^}]+)}/g;function kt(X){for(const q in X)if(Object.prototype.hasOwnProperty.call(X,q))return!1;return!0}function ur(X,q){if(X===q)return!0;const se=Object.keys(X),Ue=Object.keys(q);for(const Ee of se){if(!Ue.includes(Ee))return!1;const _t=X[Ee],de=q[Ee];if(Xn(_t)&&Xn(de)){if(!ur(_t,de))return!1}else if(_t!==de)return!1}for(const Ee of Ue)if(!se.includes(Ee))return!1;return!0}function Xn(X){return null!==X&&"object"==typeof X}function Er(X){const q=[];for(const[se,Ue]of Object.entries(X))Array.isArray(Ue)?Ue.forEach(Ee=>{q.push(encodeURIComponent(se)+"="+encodeURIComponent(Ee))}):q.push(encodeURIComponent(se)+"="+encodeURIComponent(Ue));return q.length?"&"+q.join("&"):""}function gn(X,q){const se=new bt(X,q);return se.subscribe.bind(se)}class bt{constructor(q,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{q(this)}).catch(Ue=>{this.error(Ue)})}next(q){this.forEachObserver(se=>{se.next(q)})}error(q){this.forEachObserver(se=>{se.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,se,Ue){let Ee;if(void 0===q&&void 0===se&&void 0===Ue)throw new Error("Missing Observer.");Ee=function Jn(X,q){if("object"!=typeof X||null===X)return!1;for(const se of q)if(se in X&&"function"==typeof X[se])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:se,complete:Ue},void 0===Ee.next&&(Ee.next=nr),void 0===Ee.error&&(Ee.error=nr),void 0===Ee.complete&&(Ee.complete=nr);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),_t}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,q)}sendOne(q,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{se(this.observers[q])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}const cr=1e3,pt=2,Se=144e5,vt=.5;function Yt(X,q=cr,se=pt){const Ue=q*Math.pow(se,X),Ee=Math.round(vt*Ue*(Math.random()-.5)*2);return Math.min(Se,Ue+Ee)}function Sn(X){return X&&X._delegate?X._delegate:X}},3044:(Gt,Ze,H)=>{var R=H(1481),Z=H(824),Q=H(8256);const oe=[{path:"",loadChildren:()=>Promise.all([H.e(433),H.e(592),H.e(550)]).then(H.bind(H,8550)).then(ee=>ee.HomeModule)},{path:"catalog",loadChildren:()=>Promise.all([H.e(433),H.e(592),H.e(118)]).then(H.bind(H,1118)).then(ee=>ee.CatalogueModule)},{path:"cart",loadChildren:()=>H.e(592).then(H.bind(H,5442)).then(ee=>ee.CartModule)},{path:"delivery",loadChildren:()=>Promise.all([H.e(433),H.e(592),H.e(890)]).then(H.bind(H,2890)).then(ee=>ee.DeliveryModule)}];let ye=(()=>{class ee{}return ee.\u0275fac=function(Le){return new(Le||ee)},ee.\u0275mod=Q.oAB({type:ee}),ee.\u0275inj=Q.cJS({imports:[Z.Bz.forRoot(oe),Z.Bz]}),ee})(),ae=(()=>{class ee{constructor(){}ngOnInit(){}}return ee.\u0275fac=function(Le){return new(Le||ee)},ee.\u0275cmp=Q.Xpm({type:ee,selectors:[["app-header"]],decls:31,vars:0,consts:[[1,"navbar"],[1,"navbar__logo"],["routerLink",""],["src","../../../assets/icons/Logo.svg","alt","Logo Dibeeren"],[1,"navbar__small-menu"],["routerLink","cart",1,"navbar__small-menu__cart","btn-menu"],["src","../../../assets/icons/Vector.svg","alt",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["src","../../../assets/icons/hambergermenu.svg","alt",""],[1,"navbar__links"],["routerLink","catalog/products"],["routerLink","cart",1,"navbar__links__cart"],["routerLink","cart"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"navbar__movil"]],template:function(Le,Ut){1&Le&&(Q.TgZ(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),Q._UZ(4,"img",3),Q.qZA()(),Q.TgZ(5,"div",4)(6,"button",5),Q._UZ(7,"img",6),Q.qZA(),Q.TgZ(8,"button",7)(9,"span"),Q._UZ(10,"img",8),Q.qZA()()(),Q.TgZ(11,"ul",9)(12,"li")(13,"a",2),Q._uU(14,"Inicio"),Q.qZA()(),Q.TgZ(15,"li")(16,"a",10),Q._uU(17,"C\xe1talogo"),Q.qZA()(),Q.TgZ(18,"li",11),Q._UZ(19,"img",6),Q.TgZ(20,"a",12),Q._uU(21,"Carrito"),Q.qZA()()(),Q.TgZ(22,"div",13)(23,"div",14)(24,"ul",15)(25,"li")(26,"a",2),Q._uU(27,"Inicio"),Q.qZA()(),Q.TgZ(28,"li")(29,"a",10),Q._uU(30,"C\xe1talogo"),Q.qZA()()()()()()())},dependencies:[Z.rH],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}button[_ngcontent-%COMP%]{border:none;background:none}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}header[_ngcontent-%COMP%]{width:min(100% - 2rem,1200px);margin-inline:auto}.navbar-toggler[_ngcontent-%COMP%]{background-color:#a5b5c8;padding:.5rem;border:none;border-radius:0}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.navbar__small-menu[_ngcontent-%COMP%]{display:flex;gap:1rem}.navbar__links[_ngcontent-%COMP%]{display:none}.navbar__movil[_ngcontent-%COMP%]{padding:1rem 0;display:flex;flex-direction:column;gap:1rem}.btn-menu[_ngcontent-%COMP%]{padding:.5rem}@media screen and (min-width: 786px){.navbar__small-menu[_ngcontent-%COMP%]{display:none}.navbar__links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4rem}.navbar__links__cart[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}}']}),ee})(),le=(()=>{class ee{}return ee.\u0275fac=function(Le){return new(Le||ee)},ee.\u0275cmp=Q.Xpm({type:ee,selectors:[["app-footer"]],decls:55,vars:0,consts:[[1,"footer"],[1,"footer__wrapper"],[1,"footer-col","footer__dibeeren"],[1,"footer__dibeeren__social-media"],[1,"footer__dibeeren__social-media__header"],[1,"footer__dibeeren__social-media__links"],["href",""],["src","../../../assets/icons/facebook.svg","alt","facebook"],["src","../../../assets/icons/instagram.svg","alt","instagram"],[1,"footer-col","footer__links"],[1,"col"],[1,"footer__links__header"],[1,"footer__links__body"],[1,"footer-col","footer__contact"],[1,"footer__contact__header"],[1,"footer__contact__wrapper"],["src","../../../assets/icons/callreceived.svg","alt","phone icon"],[1,"footer-col","footer__social-media"],[1,"footer__social-media__wrapper"]],template:function(Le,Ut){1&Le&&(Q.TgZ(0,"footer",0)(1,"section",1)(2,"article",2)(3,"h3"),Q._uU(4,"Dibeeren"),Q.qZA(),Q.TgZ(5,"p"),Q._uU(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid dicta ipsam dolorum? Ex sed, eos accusantium facere repellendus molestiae! Adipisci!"),Q.qZA(),Q.TgZ(7,"section",3)(8,"p",4),Q._uU(9,"Redes sociales"),Q.qZA(),Q.TgZ(10,"ul",5)(11,"li")(12,"a",6),Q._UZ(13,"img",7),Q.qZA()(),Q.TgZ(14,"li")(15,"a",6),Q._UZ(16,"img",8),Q.qZA()()()()(),Q.TgZ(17,"article",9)(18,"section",10)(19,"p",11),Q._uU(20,"Links"),Q.qZA(),Q.TgZ(21,"ul",12)(22,"li"),Q._uU(23,"Link 1"),Q.qZA(),Q.TgZ(24,"li"),Q._uU(25,"Link 2"),Q.qZA(),Q.TgZ(26,"li"),Q._uU(27,"Link 3"),Q.qZA()()(),Q.TgZ(28,"section",10)(29,"p",11),Q._uU(30,"Links"),Q.qZA(),Q.TgZ(31,"ul",12)(32,"li"),Q._uU(33,"Link 1"),Q.qZA(),Q.TgZ(34,"li"),Q._uU(35,"Link 2"),Q.qZA(),Q.TgZ(36,"li"),Q._uU(37,"Link 3"),Q.qZA()()()(),Q.TgZ(38,"article",13)(39,"p",14),Q._uU(40,"Contact"),Q.qZA(),Q.TgZ(41,"section",15),Q._UZ(42,"img",16),Q.TgZ(43,"a",6),Q._uU(44,"Phone"),Q.qZA()()(),Q.TgZ(45,"article",17)(46,"p"),Q._uU(47,"Redes sociales"),Q.qZA(),Q.TgZ(48,"ul",18)(49,"li")(50,"a",6),Q._UZ(51,"img",7),Q.qZA()(),Q.TgZ(52,"li")(53,"a",6),Q._UZ(54,"img",8),Q.qZA()()()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}button[_ngcontent-%COMP%]{border:none;background:none}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.footer[_ngcontent-%COMP%]{background-color:#a5b5c8;color:#f2f2f2;padding:1rem 0}.footer__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex-wrap:wrap;width:min(100% - 2rem,1200px);margin-inline:auto}.footer__dibeeren__social-media[_ngcontent-%COMP%]{display:none}.footer__links[_ngcontent-%COMP%]{display:flex}.footer__links__header[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.footer__links__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.footer__contact__header[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1rem}.footer__contact__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.footer__contact__wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#f2f2f2}.footer__social-media__wrapper[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:2rem}.col[_ngcontent-%COMP%]{width:50%}@media screen and (min-width: 786px){.footer-col[_ngcontent-%COMP%]{width:calc(50% - 16px)}.footer-col[_ngcontent-%COMP%]:nth-last-child(2){order:3}.footer__wrapper[_ngcontent-%COMP%]{flex-direction:row;gap:2rem}}@media screen and (min-width: 1024px){.footer-col[_ngcontent-%COMP%]:nth-last-child(1){display:none}.footer__wrapper[_ngcontent-%COMP%]{flex-wrap:nowrap}.footer__dibeeren__social-media[_ngcontent-%COMP%]{display:block;margin-top:2rem}.footer__dibeeren__social-media__links[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:2rem}}']}),ee})(),Je=(()=>{class ee{constructor(){this.title="dibeeren"}}return ee.\u0275fac=function(Le){return new(Le||ee)},ee.\u0275cmp=Q.Xpm({type:ee,selectors:[["app-root"]],decls:5,vars:0,template:function(Le,Ut){1&Le&&(Q.TgZ(0,"main"),Q._UZ(1,"app-header")(2,"router-outlet"),Q.TgZ(3,"footer"),Q._UZ(4,"app-footer"),Q.qZA()())},dependencies:[Z.lC,ae,le],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin-top:auto}"]}),ee})();var We=H(3692);const te_firebase={projectId:"dibeeren-9d539",appId:"1:1056747642933:web:553547bc66c07cc147117c",storageBucket:"dibeeren-9d539.appspot.com",locationId:"us-central",apiKey:"AIzaSyDhSv4UVQHTIptqz32NQG5nPr9c8QhqFPE",authDomain:"dibeeren-9d539.firebaseapp.com",messagingSenderId:"1056747642933"};var ne=H(4226),xe=H(7169);let Ye=(()=>{class ee{}return ee.\u0275fac=function(Le){return new(Le||ee)},ee.\u0275mod=Q.oAB({type:ee,bootstrap:[Je]}),ee.\u0275inj=Q.cJS({imports:[R.b2,ye,(0,We.hX)(()=>(0,We.ZF)(te_firebase)),(0,ne.AR)(()=>(0,ne.v0)()),(0,xe.Cm)(()=>(0,xe.ad)())]}),ee})();R.q6().bootstrapModule(Ye).catch(ee=>console.error(ee))},1135:(Gt,Ze,H)=>{H.d(Ze,{X:()=>Z});var R=H(7579);class Z extends R.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ye=super._subscribe(oe);return!ye.closed&&oe.next(this._value),ye}getValue(){const{hasError:oe,thrownError:ye,_value:ae}=this;if(oe)throw ye;return this._throwIfClosed(),ae}next(oe){super.next(this._value=oe)}}},9751:(Gt,Ze,H)=>{H.d(Ze,{y:()=>Je});var R=H(2961),Z=H(727),Q=H(8822),oe=H(9635),ye=H(2416),ae=H(576),le=H(2806);let Je=(()=>{class xe{constructor(ee){ee&&(this._subscribe=ee)}lift(ee){const ot=new xe;return ot.source=this,ot.operator=ee,ot}subscribe(ee,ot,Le){const Ut=function ne(xe){return xe&&xe instanceof R.Lv||function te(xe){return xe&&(0,ae.m)(xe.next)&&(0,ae.m)(xe.error)&&(0,ae.m)(xe.complete)}(xe)&&(0,Z.Nn)(xe)}(ee)?ee:new R.Hp(ee,ot,Le);return(0,le.x)(()=>{const{operator:Et,source:Bt}=this;Ut.add(Et?Et.call(Ut,Bt):Bt?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(ee){try{return this._subscribe(ee)}catch(ot){ee.error(ot)}}forEach(ee,ot){return new(ot=We(ot))((Le,Ut)=>{const Et=new R.Hp({next:Bt=>{try{ee(Bt)}catch(ft){Ut(ft),Et.unsubscribe()}},error:Ut,complete:Le});this.subscribe(Et)})}_subscribe(ee){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(ee)}[Q.L](){return this}pipe(...ee){return(0,oe.U)(ee)(this)}toPromise(ee){return new(ee=We(ee))((ot,Le)=>{let Ut;this.subscribe(Et=>Ut=Et,Et=>Le(Et),()=>ot(Ut))})}}return xe.create=Ye=>new xe(Ye),xe})();function We(xe){var Ye;return null!==(Ye=xe??ye.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(Gt,Ze,H)=>{H.d(Ze,{x:()=>le});var R=H(9751),Z=H(727);const oe=(0,H(3888).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=H(8737),ae=H(2806);let le=(()=>{class We extends R.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const xe=new Je(this,this);return xe.operator=ne,xe}_throwIfClosed(){if(this.closed)throw new oe}next(ne){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(ne)}})}error(ne){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:xe}=this;for(;xe.length;)xe.shift().error(ne)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:xe,isStopped:Ye,observers:ee}=this;return xe||Ye?Z.Lc:(this.currentObservers=null,ee.push(ne),new Z.w0(()=>{this.currentObservers=null,(0,ye.P)(ee,ne)}))}_checkFinalizedStatuses(ne){const{hasError:xe,thrownError:Ye,isStopped:ee}=this;xe?ne.error(Ye):ee&&ne.complete()}asObservable(){const ne=new R.y;return ne.source=this,ne}}return We.create=(te,ne)=>new Je(te,ne),We})();class Je extends le{constructor(te,ne){super(),this.destination=te,this.source=ne}next(te){var ne,xe;null===(xe=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===xe||xe.call(ne,te)}error(te){var ne,xe;null===(xe=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===xe||xe.call(ne,te)}complete(){var te,ne;null===(ne=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ne||ne.call(te)}_subscribe(te){var ne,xe;return null!==(xe=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(te))&&void 0!==xe?xe:Z.Lc}}},2961:(Gt,Ze,H)=>{H.d(Ze,{Hp:()=>Le,Lv:()=>xe});var R=H(576),Z=H(727),Q=H(2416),oe=H(7849);function ye(){}const ae=We("C",void 0,void 0);function We(rt,it,st){return{kind:rt,value:it,error:st}}var te=H(3410),ne=H(2806);class xe extends Z.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,Z.Nn)(it)&&it.add(this)):this.destination=ft}static create(it,st,yt){return new Le(it,st,yt)}next(it){this.isStopped?Bt(function Je(rt){return We("N",rt,void 0)}(it),this):this._next(it)}error(it){this.isStopped?Bt(function le(rt){return We("E",void 0,rt)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?Bt(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function ee(rt,it){return Ye.call(rt,it)}class ot{constructor(it){this.partialObserver=it}next(it){const{partialObserver:st}=this;if(st.next)try{st.next(it)}catch(yt){Ut(yt)}}error(it){const{partialObserver:st}=this;if(st.error)try{st.error(it)}catch(yt){Ut(yt)}else Ut(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(st){Ut(st)}}}class Le extends xe{constructor(it,st,yt){let Me;if(super(),(0,R.m)(it)||!it)Me={next:it??void 0,error:st??void 0,complete:yt??void 0};else{let Re;this&&Q.v.useDeprecatedNextContext?(Re=Object.create(it),Re.unsubscribe=()=>this.unsubscribe(),Me={next:it.next&&ee(it.next,Re),error:it.error&&ee(it.error,Re),complete:it.complete&&ee(it.complete,Re)}):Me=it}this.destination=new ot(Me)}}function Ut(rt){Q.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(rt):(0,oe.h)(rt)}function Bt(rt,it){const{onStoppedNotification:st}=Q.v;st&&te.z.setTimeout(()=>st(rt,it))}const ft={closed:!0,next:ye,error:function Et(rt){throw rt},complete:ye}},727:(Gt,Ze,H)=>{H.d(Ze,{Lc:()=>ae,w0:()=>ye,Nn:()=>le});var R=H(576);const Q=(0,H(3888).d)(We=>function(ne){We(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((xe,Ye)=>`${Ye+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var oe=H(8737);class ye{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const ee of ne)ee.remove(this);else ne.remove(this);const{initialTeardown:xe}=this;if((0,R.m)(xe))try{xe()}catch(ee){te=ee instanceof Q?ee.errors:[ee]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const ee of Ye)try{Je(ee)}catch(ot){te=te??[],ot instanceof Q?te=[...te,...ot.errors]:te.push(ot)}}if(te)throw new Q(te)}}add(te){var ne;if(te&&te!==this)if(this.closed)Je(te);else{if(te instanceof ye){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(te)}}_hasParent(te){const{_parentage:ne}=this;return ne===te||Array.isArray(ne)&&ne.includes(te)}_addParent(te){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(te),ne):ne?[ne,te]:te}_removeParent(te){const{_parentage:ne}=this;ne===te?this._parentage=null:Array.isArray(ne)&&(0,oe.P)(ne,te)}remove(te){const{_finalizers:ne}=this;ne&&(0,oe.P)(ne,te),te instanceof ye&&te._removeParent(this)}}ye.EMPTY=(()=>{const We=new ye;return We.closed=!0,We})();const ae=ye.EMPTY;function le(We){return We instanceof ye||We&&"closed"in We&&(0,R.m)(We.remove)&&(0,R.m)(We.add)&&(0,R.m)(We.unsubscribe)}function Je(We){(0,R.m)(We)?We():We.unsubscribe()}},2416:(Gt,Ze,H)=>{H.d(Ze,{v:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Gt,Ze,H)=>{H.d(Ze,{E:()=>Z});const Z=new(H(9751).y)(ye=>ye.complete())},8996:(Gt,Ze,H)=>{H.d(Ze,{D:()=>it});var R=H(8421),Z=H(5363),Q=H(9468),ae=H(9751),Je=H(2202),We=H(576),te=H(9672);function xe(st,yt){if(!st)throw new Error("Iterable cannot be null");return new ae.y(Me=>{(0,te.f)(Me,yt,()=>{const Re=st[Symbol.asyncIterator]();(0,te.f)(Me,yt,()=>{Re.next().then(_e=>{_e.done?Me.complete():Me.next(_e.value)})},0,!0)})})}var Ye=H(3670),ee=H(8239),ot=H(1144),Le=H(6495),Ut=H(2206),Et=H(4532),Bt=H(3260);function it(st,yt){return yt?function rt(st,yt){if(null!=st){if((0,Ye.c)(st))return function oe(st,yt){return(0,R.Xf)(st).pipe((0,Q.R)(yt),(0,Z.Q)(yt))}(st,yt);if((0,ot.z)(st))return function le(st,yt){return new ae.y(Me=>{let Re=0;return yt.schedule(function(){Re===st.length?Me.complete():(Me.next(st[Re++]),Me.closed||this.schedule())})})}(st,yt);if((0,ee.t)(st))return function ye(st,yt){return(0,R.Xf)(st).pipe((0,Q.R)(yt),(0,Z.Q)(yt))}(st,yt);if((0,Ut.D)(st))return xe(st,yt);if((0,Le.T)(st))return function ne(st,yt){return new ae.y(Me=>{let Re;return(0,te.f)(Me,yt,()=>{Re=st[Je.h](),(0,te.f)(Me,yt,()=>{let _e,He;try{({value:_e,done:He}=Re.next())}catch(It){return void Me.error(It)}He?Me.complete():Me.next(_e)},0,!0)}),()=>(0,We.m)(Re?.return)&&Re.return()})}(st,yt);if((0,Bt.L)(st))return function ft(st,yt){return xe((0,Bt.Q)(st),yt)}(st,yt)}throw(0,Et.z)(st)}(st,yt):(0,R.Xf)(st)}},8421:(Gt,Ze,H)=>{H.d(Ze,{Xf:()=>Ye});var R=H(655),Z=H(1144),Q=H(8239),oe=H(9751),ye=H(3670),ae=H(2206),le=H(4532),Je=H(6495),We=H(3260),te=H(576),ne=H(7849),xe=H(8822);function Ye(rt){if(rt instanceof oe.y)return rt;if(null!=rt){if((0,ye.c)(rt))return function ee(rt){return new oe.y(it=>{const st=rt[xe.L]();if((0,te.m)(st.subscribe))return st.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,Z.z)(rt))return function ot(rt){return new oe.y(it=>{for(let st=0;st<rt.length&&!it.closed;st++)it.next(rt[st]);it.complete()})}(rt);if((0,Q.t)(rt))return function Le(rt){return new oe.y(it=>{rt.then(st=>{it.closed||(it.next(st),it.complete())},st=>it.error(st)).then(null,ne.h)})}(rt);if((0,ae.D)(rt))return Et(rt);if((0,Je.T)(rt))return function Ut(rt){return new oe.y(it=>{for(const st of rt)if(it.next(st),it.closed)return;it.complete()})}(rt);if((0,We.L)(rt))return function Bt(rt){return Et((0,We.Q)(rt))}(rt)}throw(0,le.z)(rt)}function Et(rt){return new oe.y(it=>{(function ft(rt,it){var st,yt,Me,Re;return(0,R.mG)(this,void 0,void 0,function*(){try{for(st=(0,R.KL)(rt);!(yt=yield st.next()).done;)if(it.next(yt.value),it.closed)return}catch(_e){Me={error:_e}}finally{try{yt&&!yt.done&&(Re=st.return)&&(yield Re.call(st))}finally{if(Me)throw Me.error}}it.complete()})})(rt,it).catch(st=>it.error(st))})}},5403:(Gt,Ze,H)=>{H.d(Ze,{x:()=>Z});var R=H(2961);function Z(oe,ye,ae,le,Je){return new Q(oe,ye,ae,le,Je)}class Q extends R.Lv{constructor(ye,ae,le,Je,We,te){super(ye),this.onFinalize=We,this.shouldUnsubscribe=te,this._next=ae?function(ne){try{ae(ne)}catch(xe){ye.error(xe)}}:super._next,this._error=Je?function(ne){try{Je(ne)}catch(xe){ye.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(ne){ye.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(Gt,Ze,H)=>{H.d(Ze,{U:()=>Q});var R=H(4482),Z=H(5403);function Q(oe,ye){return(0,R.e)((ae,le)=>{let Je=0;ae.subscribe((0,Z.x)(le,We=>{le.next(oe.call(ye,We,Je++))}))})}},8189:(Gt,Ze,H)=>{H.d(Ze,{J:()=>Q});var R=H(5577),Z=H(4671);function Q(oe=1/0){return(0,R.z)(Z.y,oe)}},5577:(Gt,Ze,H)=>{H.d(Ze,{z:()=>Je});var R=H(4004),Z=H(8421),Q=H(4482),oe=H(9672),ye=H(5403),le=H(576);function Je(We,te,ne=1/0){return(0,le.m)(te)?Je((xe,Ye)=>(0,R.U)((ee,ot)=>te(xe,ee,Ye,ot))((0,Z.Xf)(We(xe,Ye))),ne):("number"==typeof te&&(ne=te),(0,Q.e)((xe,Ye)=>function ae(We,te,ne,xe,Ye,ee,ot,Le){const Ut=[];let Et=0,Bt=0,ft=!1;const rt=()=>{ft&&!Ut.length&&!Et&&te.complete()},it=yt=>Et<xe?st(yt):Ut.push(yt),st=yt=>{ee&&te.next(yt),Et++;let Me=!1;(0,Z.Xf)(ne(yt,Bt++)).subscribe((0,ye.x)(te,Re=>{Ye?.(Re),ee?it(Re):te.next(Re)},()=>{Me=!0},void 0,()=>{if(Me)try{for(Et--;Ut.length&&Et<xe;){const Re=Ut.shift();ot?(0,oe.f)(te,ot,()=>st(Re)):st(Re)}rt()}catch(Re){te.error(Re)}}))};return We.subscribe((0,ye.x)(te,it,()=>{ft=!0,rt()})),()=>{Le?.()}}(xe,Ye,We,ne)))}},5363:(Gt,Ze,H)=>{H.d(Ze,{Q:()=>oe});var R=H(9672),Z=H(4482),Q=H(5403);function oe(ye,ae=0){return(0,Z.e)((le,Je)=>{le.subscribe((0,Q.x)(Je,We=>(0,R.f)(Je,ye,()=>Je.next(We),ae),()=>(0,R.f)(Je,ye,()=>Je.complete(),ae),We=>(0,R.f)(Je,ye,()=>Je.error(We),ae)))})}},9468:(Gt,Ze,H)=>{H.d(Ze,{R:()=>Z});var R=H(4482);function Z(Q,oe=0){return(0,R.e)((ye,ae)=>{ae.add(Q.schedule(()=>ye.subscribe(ae),oe))})}},8505:(Gt,Ze,H)=>{H.d(Ze,{b:()=>ye});var R=H(576),Z=H(4482),Q=H(5403),oe=H(4671);function ye(ae,le,Je){const We=(0,R.m)(ae)||le||Je?{next:ae,error:le,complete:Je}:ae;return We?(0,Z.e)((te,ne)=>{var xe;null===(xe=We.subscribe)||void 0===xe||xe.call(We);let Ye=!0;te.subscribe((0,Q.x)(ne,ee=>{var ot;null===(ot=We.next)||void 0===ot||ot.call(We,ee),ne.next(ee)},()=>{var ee;Ye=!1,null===(ee=We.complete)||void 0===ee||ee.call(We),ne.complete()},ee=>{var ot;Ye=!1,null===(ot=We.error)||void 0===ot||ot.call(We,ee),ne.error(ee)},()=>{var ee,ot;Ye&&(null===(ee=We.unsubscribe)||void 0===ee||ee.call(We)),null===(ot=We.finalize)||void 0===ot||ot.call(We)}))}):oe.y}},3410:(Gt,Ze,H)=>{H.d(Ze,{z:()=>R});const R={setTimeout(Z,Q,...oe){const{delegate:ye}=R;return ye?.setTimeout?ye.setTimeout(Z,Q,...oe):setTimeout(Z,Q,...oe)},clearTimeout(Z){const{delegate:Q}=R;return(Q?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(Gt,Ze,H)=>{H.d(Ze,{h:()=>Z});const Z=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,Ze,H)=>{H.d(Ze,{L:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,Ze,H)=>{H.d(Ze,{K:()=>Z});const Z=(0,H(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Gt,Ze,H)=>{H.d(Ze,{_6:()=>ae,jO:()=>oe,yG:()=>ye});var R=H(576);function Q(le){return le[le.length-1]}function oe(le){return(0,R.m)(Q(le))?le.pop():void 0}function ye(le){return function Z(le){return le&&(0,R.m)(le.schedule)}(Q(le))?le.pop():void 0}function ae(le,Je){return"number"==typeof Q(le)?le.pop():Je}},4742:(Gt,Ze,H)=>{H.d(Ze,{D:()=>ye});const{isArray:R}=Array,{getPrototypeOf:Z,prototype:Q,keys:oe}=Object;function ye(le){if(1===le.length){const Je=le[0];if(R(Je))return{args:Je,keys:null};if(function ae(le){return le&&"object"==typeof le&&Z(le)===Q}(Je)){const We=oe(Je);return{args:We.map(te=>Je[te]),keys:We}}}return{args:le,keys:null}}},8737:(Gt,Ze,H)=>{function R(Z,Q){if(Z){const oe=Z.indexOf(Q);0<=oe&&Z.splice(oe,1)}}H.d(Ze,{P:()=>R})},3888:(Gt,Ze,H)=>{function R(Z){const oe=Z(ye=>{Error.call(ye),ye.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}H.d(Ze,{d:()=>R})},1810:(Gt,Ze,H)=>{function R(Z,Q){return Z.reduce((oe,ye,ae)=>(oe[ye]=Q[ae],oe),{})}H.d(Ze,{n:()=>R})},2806:(Gt,Ze,H)=>{H.d(Ze,{O:()=>oe,x:()=>Q});var R=H(2416);let Z=null;function Q(ye){if(R.v.useDeprecatedSynchronousErrorHandling){const ae=!Z;if(ae&&(Z={errorThrown:!1,error:null}),ye(),ae){const{errorThrown:le,error:Je}=Z;if(Z=null,le)throw Je}}else ye()}function oe(ye){R.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=ye)}},9672:(Gt,Ze,H)=>{function R(Z,Q,oe,ye=0,ae=!1){const le=Q.schedule(function(){oe(),ae?Z.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(Z.add(le),!ae)return le}H.d(Ze,{f:()=>R})},4671:(Gt,Ze,H)=>{function R(Z){return Z}H.d(Ze,{y:()=>R})},1144:(Gt,Ze,H)=>{H.d(Ze,{z:()=>R});const R=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(Gt,Ze,H)=>{H.d(Ze,{D:()=>Z});var R=H(576);function Z(Q){return Symbol.asyncIterator&&(0,R.m)(Q?.[Symbol.asyncIterator])}},576:(Gt,Ze,H)=>{function R(Z){return"function"==typeof Z}H.d(Ze,{m:()=>R})},3670:(Gt,Ze,H)=>{H.d(Ze,{c:()=>Q});var R=H(8822),Z=H(576);function Q(oe){return(0,Z.m)(oe[R.L])}},6495:(Gt,Ze,H)=>{H.d(Ze,{T:()=>Q});var R=H(2202),Z=H(576);function Q(oe){return(0,Z.m)(oe?.[R.h])}},8239:(Gt,Ze,H)=>{H.d(Ze,{t:()=>Z});var R=H(576);function Z(Q){return(0,R.m)(Q?.then)}},3260:(Gt,Ze,H)=>{H.d(Ze,{L:()=>oe,Q:()=>Q});var R=H(655),Z=H(576);function Q(ye){return(0,R.FC)(this,arguments,function*(){const le=ye.getReader();try{for(;;){const{value:Je,done:We}=yield(0,R.qq)(le.read());if(We)return yield(0,R.qq)(void 0);yield yield(0,R.qq)(Je)}}finally{le.releaseLock()}})}function oe(ye){return(0,Z.m)(ye?.getReader)}},4482:(Gt,Ze,H)=>{H.d(Ze,{A:()=>Z,e:()=>Q});var R=H(576);function Z(oe){return(0,R.m)(oe?.lift)}function Q(oe){return ye=>{if(Z(ye))return ye.lift(function(ae){try{return oe(ae,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,Ze,H)=>{H.d(Ze,{Z:()=>oe});var R=H(4004);const{isArray:Z}=Array;function oe(ye){return(0,R.U)(ae=>function Q(ye,ae){return Z(ae)?ye(...ae):ye(ae)}(ye,ae))}},9635:(Gt,Ze,H)=>{H.d(Ze,{U:()=>Q,z:()=>Z});var R=H(4671);function Z(...oe){return Q(oe)}function Q(oe){return 0===oe.length?R.y:1===oe.length?oe[0]:function(ae){return oe.reduce((le,Je)=>Je(le),ae)}}},7849:(Gt,Ze,H)=>{H.d(Ze,{h:()=>Q});var R=H(2416),Z=H(3410);function Q(oe){Z.z.setTimeout(()=>{const{onUnhandledError:ye}=R.v;if(!ye)throw oe;ye(oe)})}},4532:(Gt,Ze,H)=>{function R(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ze,{z:()=>R})},655:(Gt,Ze,H)=>{function oe(pe,me){var Pe={};for(var Ge in pe)Object.prototype.hasOwnProperty.call(pe,Ge)&&me.indexOf(Ge)<0&&(Pe[Ge]=pe[Ge]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Ge=Object.getOwnPropertySymbols(pe);tt<Ge.length;tt++)me.indexOf(Ge[tt])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ge[tt])&&(Pe[Ge[tt]]=pe[Ge[tt]])}return Pe}function xe(pe,me,Pe,Ge){return new(Pe||(Pe=Promise))(function(Ve,Dt){function Ot(Zt){try{xt(Ge.next(Zt))}catch(Nt){Dt(Nt)}}function pn(Zt){try{xt(Ge.throw(Zt))}catch(Nt){Dt(Nt)}}function xt(Zt){Zt.done?Ve(Zt.value):function tt(Ve){return Ve instanceof Pe?Ve:new Pe(function(Dt){Dt(Ve)})}(Zt.value).then(Ot,pn)}xt((Ge=Ge.apply(pe,me||[])).next())})}function rt(pe){return this instanceof rt?(this.v=pe,this):new rt(pe)}function it(pe,me,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ge=Pe.apply(pe,me||[]),Ve=[];return tt={},Dt("next"),Dt("throw"),Dt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Dt(Jt){Ge[Jt]&&(tt[Jt]=function(Rr){return new Promise(function(sn,gt){Ve.push([Jt,Rr,sn,gt])>1||Ot(Jt,Rr)})})}function Ot(Jt,Rr){try{!function pn(Jt){Jt.value instanceof rt?Promise.resolve(Jt.value.v).then(xt,Zt):Nt(Ve[0][2],Jt)}(Ge[Jt](Rr))}catch(sn){Nt(Ve[0][3],sn)}}function xt(Jt){Ot("next",Jt)}function Zt(Jt){Ot("throw",Jt)}function Nt(Jt,Rr){Jt(Rr),Ve.shift(),Ve.length&&Ot(Ve[0][0],Ve[0][1])}}function yt(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=pe[Symbol.asyncIterator];return me?me.call(pe):(pe=function Le(pe){var me="function"==typeof Symbol&&Symbol.iterator,Pe=me&&pe[me],Ge=0;if(Pe)return Pe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ge>=pe.length&&(pe=void 0),{value:pe&&pe[Ge++],done:!pe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Pe={},Ge("next"),Ge("throw"),Ge("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Ge(Ve){Pe[Ve]=pe[Ve]&&function(Dt){return new Promise(function(Ot,pn){!function tt(Ve,Dt,Ot,pn){Promise.resolve(pn).then(function(xt){Ve({value:xt,done:Ot})},Dt)}(Ot,pn,(Dt=pe[Ve](Dt)).done,Dt.value)})}}}H.d(Ze,{FC:()=>it,KL:()=>yt,_T:()=>oe,mG:()=>xe,qq:()=>rt})},6895:(Gt,Ze,H)=>{H.d(Ze,{Do:()=>Bt,EM:()=>Yi,HT:()=>oe,JF:()=>Jo,JJ:()=>rr,K0:()=>ae,Mx:()=>Is,O5:()=>Ie,Ov:()=>hr,PC:()=>jt,S$:()=>Le,V_:()=>We,Ye:()=>ft,b0:()=>Et,bD:()=>Ko,ez:()=>Ws,mk:()=>dr,q:()=>Q,sg:()=>ue,uU:()=>Gs,w_:()=>ye});var R=H(8256);let Z=null;function Q(){return Z}function oe(T){Z||(Z=T)}class ye{}const ae=new R.OlP("DocumentToken");let le=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=R.Yz7({token:T,factory:function(){return function Je(){return(0,R.LFG)(te)}()},providedIn:"platform"}),T})();const We=new R.OlP("Location Initialized");let te=(()=>{class T extends le{constructor(b){super(),this._doc=b,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(b){const V=Q().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",b,!1),()=>V.removeEventListener("popstate",b)}onHashChange(b){const V=Q().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",b,!1),()=>V.removeEventListener("hashchange",b)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(b){this._location.pathname=b}pushState(b,V,j){ne()?this._history.pushState(b,V,j):this._location.hash=j}replaceState(b,V,j){ne()?this._history.replaceState(b,V,j):this._location.hash=j}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return T.\u0275fac=function(b){return new(b||T)(R.LFG(ae))},T.\u0275prov=R.Yz7({token:T,factory:function(){return function xe(){return new te((0,R.LFG)(ae))}()},providedIn:"platform"}),T})();function ne(){return!!window.history.pushState}function Ye(T,P){if(0==T.length)return P;if(0==P.length)return T;let b=0;return T.endsWith("/")&&b++,P.startsWith("/")&&b++,2==b?T+P.substring(1):1==b?T+P:T+"/"+P}function ee(T){const P=T.match(/#|\?|$/),b=P&&P.index||T.length;return T.slice(0,b-("/"===T[b-1]?1:0))+T.slice(b)}function ot(T){return T&&"?"!==T[0]?"?"+T:T}let Le=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=R.Yz7({token:T,factory:function(){return(0,R.f3M)(Et)},providedIn:"root"}),T})();const Ut=new R.OlP("appBaseHref");let Et=(()=>{class T extends Le{constructor(b,V){super(),this._platformLocation=b,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,R.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return Ye(this._baseHref,b)}path(b=!1){const V=this._platformLocation.pathname+ot(this._platformLocation.search),j=this._platformLocation.hash;return j&&b?`${V}${j}`:V}pushState(b,V,j,W){const re=this.prepareExternalUrl(j+ot(W));this._platformLocation.pushState(b,V,re)}replaceState(b,V,j,W){const re=this.prepareExternalUrl(j+ot(W));this._platformLocation.replaceState(b,V,re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}}return T.\u0275fac=function(b){return new(b||T)(R.LFG(le),R.LFG(Ut,8))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Bt=(()=>{class T extends Le{constructor(b,V){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(b){const V=Ye(this._baseHref,b);return V.length>0?"#"+V:V}pushState(b,V,j,W){let re=this.prepareExternalUrl(j+ot(W));0==re.length&&(re=this._platformLocation.pathname),this._platformLocation.pushState(b,V,re)}replaceState(b,V,j,W){let re=this.prepareExternalUrl(j+ot(W));0==re.length&&(re=this._platformLocation.pathname),this._platformLocation.replaceState(b,V,re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}}return T.\u0275fac=function(b){return new(b||T)(R.LFG(le),R.LFG(Ut,8))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac}),T})(),ft=(()=>{class T{constructor(b){this._subject=new R.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=b;const V=this._locationStrategy.getBaseHref();this._basePath=function yt(T){if(new RegExp("^(https?:)?//").test(T)){const[,b]=T.split(/\/\/[^\/]+/);return b}return T}(ee(st(V))),this._locationStrategy.onPopState(j=>{this._subject.emit({url:this.path(!0),pop:!0,state:j.state,type:j.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(b=!1){return this.normalize(this._locationStrategy.path(b))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(b,V=""){return this.path()==this.normalize(b+ot(V))}normalize(b){return T.stripTrailingSlash(function it(T,P){if(!T||!P.startsWith(T))return P;const b=P.substring(T.length);return""===b||["/",";","?","#"].includes(b[0])?b:P}(this._basePath,st(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._locationStrategy.prepareExternalUrl(b)}go(b,V="",j=null){this._locationStrategy.pushState(j,"",b,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ot(V)),j)}replaceState(b,V="",j=null){this._locationStrategy.replaceState(j,"",b,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ot(V)),j)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(b=0){this._locationStrategy.historyGo?.(b)}onUrlChange(b){return this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(b);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(b="",V){this._urlChangeListeners.forEach(j=>j(b,V))}subscribe(b,V,j){return this._subject.subscribe({next:b,error:V,complete:j})}}return T.normalizeQueryParams=ot,T.joinWithSlash=Ye,T.stripTrailingSlash=ee,T.\u0275fac=function(b){return new(b||T)(R.LFG(Le))},T.\u0275prov=R.Yz7({token:T,factory:function(){return function rt(){return new ft((0,R.LFG)(Le))}()},providedIn:"root"}),T})();function st(T){return T.replace(/\/index.html$/,"")}var Re=(()=>((Re=Re||{})[Re.Decimal=0]="Decimal",Re[Re.Percent=1]="Percent",Re[Re.Currency=2]="Currency",Re[Re.Scientific=3]="Scientific",Re))(),He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),It=(()=>((It=It||{})[It.Narrow=0]="Narrow",It[It.Abbreviated=1]="Abbreviated",It[It.Wide=2]="Wide",It[It.Short=3]="Short",It))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function pn(T,P){return bn((0,R.cg1)(T)[R.wAp.DateFormat],P)}function xt(T,P){return bn((0,R.cg1)(T)[R.wAp.TimeFormat],P)}function Zt(T,P){return bn((0,R.cg1)(T)[R.wAp.DateTimeFormat],P)}function Nt(T,P){const b=(0,R.cg1)(T),V=b[R.wAp.NumberSymbols][P];if(typeof V>"u"){if(P===at.CurrencyDecimal)return b[R.wAp.NumberSymbols][at.Decimal];if(P===at.CurrencyGroup)return b[R.wAp.NumberSymbols][at.Group]}return V}function jr(T){if(!T[R.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[R.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(T,P){for(let b=P;b>-1;b--)if(typeof T[b]<"u")return T[b];throw new Error("Locale data API: locale data undefined")}function ur(T){const[P,b]=T.split(":");return{hours:+P,minutes:+b}}const Dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fn={},Wr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=(()=>((gn=gn||{})[gn.Short=0]="Short",gn[gn.ShortGMT=1]="ShortGMT",gn[gn.Long=2]="Long",gn[gn.Extended=3]="Extended",gn))(),bt=(()=>((bt=bt||{})[bt.FullYear=0]="FullYear",bt[bt.Month=1]="Month",bt[bt.Date=2]="Date",bt[bt.Hours=3]="Hours",bt[bt.Minutes=4]="Minutes",bt[bt.Seconds=5]="Seconds",bt[bt.FractionalSeconds=6]="FractionalSeconds",bt[bt.Day=7]="Day",bt))(),$e=(()=>(($e=$e||{})[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e))();function Jn(T,P,b,V){let j=function Ee(T){if(de(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[j,W=1,re=1]=T.split("-").map(ct=>+ct);return nr(j,W-1,re)}const b=parseFloat(T);if(!isNaN(T-b))return new Date(b);let V;if(V=T.match(Dr))return function _t(T){const P=new Date(0);let b=0,V=0;const j=T[8]?P.setUTCFullYear:P.setFullYear,W=T[8]?P.setUTCHours:P.setHours;T[9]&&(b=Number(T[9]+T[10]),V=Number(T[9]+T[11])),j.call(P,Number(T[1]),Number(T[2])-1,Number(T[3]));const re=Number(T[4]||0)-b,ct=Number(T[5]||0)-V,In=Number(T[6]||0),An=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return W.call(P,re,ct,In,An),P}(V)}const P=new Date(T);if(!de(P))throw new Error(`Unable to convert "${T}" into a date`);return P}(T);P=_n(b,P)||P;let ct,re=[];for(;P;){if(ct=Wr.exec(P),!ct){re.push(P);break}{re=re.concat(ct.slice(1));const Pn=re.pop();if(!Pn)break;P=Pn}}let In=j.getTimezoneOffset();V&&(In=q(V,In),j=function Ue(T,P,b){const V=b?-1:1,j=T.getTimezoneOffset();return function se(T,P){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+P),T}(T,V*(q(P,j)-j))}(j,V,!0));let An="";return re.forEach(Pn=>{const wn=function X(T){if(Sn[T])return Sn[T];let P;switch(T){case"G":case"GG":case"GGG":P=Cn($e.Eras,It.Abbreviated);break;case"GGGG":P=Cn($e.Eras,It.Wide);break;case"GGGGG":P=Cn($e.Eras,It.Narrow);break;case"y":P=Mn(bt.FullYear,1,0,!1,!0);break;case"yy":P=Mn(bt.FullYear,2,0,!0,!0);break;case"yyy":P=Mn(bt.FullYear,3,0,!1,!0);break;case"yyyy":P=Mn(bt.FullYear,4,0,!1,!0);break;case"Y":P=rn(1);break;case"YY":P=rn(2,!0);break;case"YYY":P=rn(3);break;case"YYYY":P=rn(4);break;case"M":case"L":P=Mn(bt.Month,1,1);break;case"MM":case"LL":P=Mn(bt.Month,2,1);break;case"MMM":P=Cn($e.Months,It.Abbreviated);break;case"MMMM":P=Cn($e.Months,It.Wide);break;case"MMMMM":P=Cn($e.Months,It.Narrow);break;case"LLL":P=Cn($e.Months,It.Abbreviated,He.Standalone);break;case"LLLL":P=Cn($e.Months,It.Wide,He.Standalone);break;case"LLLLL":P=Cn($e.Months,It.Narrow,He.Standalone);break;case"w":P=Wt(1);break;case"ww":P=Wt(2);break;case"W":P=Wt(1,!0);break;case"d":P=Mn(bt.Date,1);break;case"dd":P=Mn(bt.Date,2);break;case"c":case"cc":P=Mn(bt.Day,1);break;case"ccc":P=Cn($e.Days,It.Abbreviated,He.Standalone);break;case"cccc":P=Cn($e.Days,It.Wide,He.Standalone);break;case"ccccc":P=Cn($e.Days,It.Narrow,He.Standalone);break;case"cccccc":P=Cn($e.Days,It.Short,He.Standalone);break;case"E":case"EE":case"EEE":P=Cn($e.Days,It.Abbreviated);break;case"EEEE":P=Cn($e.Days,It.Wide);break;case"EEEEE":P=Cn($e.Days,It.Narrow);break;case"EEEEEE":P=Cn($e.Days,It.Short);break;case"a":case"aa":case"aaa":P=Cn($e.DayPeriods,It.Abbreviated);break;case"aaaa":P=Cn($e.DayPeriods,It.Wide);break;case"aaaaa":P=Cn($e.DayPeriods,It.Narrow);break;case"b":case"bb":case"bbb":P=Cn($e.DayPeriods,It.Abbreviated,He.Standalone,!0);break;case"bbbb":P=Cn($e.DayPeriods,It.Wide,He.Standalone,!0);break;case"bbbbb":P=Cn($e.DayPeriods,It.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":P=Cn($e.DayPeriods,It.Abbreviated,He.Format,!0);break;case"BBBB":P=Cn($e.DayPeriods,It.Wide,He.Format,!0);break;case"BBBBB":P=Cn($e.DayPeriods,It.Narrow,He.Format,!0);break;case"h":P=Mn(bt.Hours,1,-12);break;case"hh":P=Mn(bt.Hours,2,-12);break;case"H":P=Mn(bt.Hours,1);break;case"HH":P=Mn(bt.Hours,2);break;case"m":P=Mn(bt.Minutes,1);break;case"mm":P=Mn(bt.Minutes,2);break;case"s":P=Mn(bt.Seconds,1);break;case"ss":P=Mn(bt.Seconds,2);break;case"S":P=Mn(bt.FractionalSeconds,1);break;case"SS":P=Mn(bt.FractionalSeconds,2);break;case"SSS":P=Mn(bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=cr(gn.Short);break;case"ZZZZZ":P=cr(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=cr(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=cr(gn.Long);break;default:return null}return Sn[T]=P,P}(Pn);An+=wn?wn(j,b,In):"''"===Pn?"'":Pn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),An}function nr(T,P,b){const V=new Date(0);return V.setFullYear(T,P,b),V.setHours(0,0,0),V}function _n(T,P){const b=function me(T){return(0,R.cg1)(T)[R.wAp.LocaleId]}(T);if(Fn[b]=Fn[b]||{},Fn[b][P])return Fn[b][P];let V="";switch(P){case"shortDate":V=pn(T,Ne.Short);break;case"mediumDate":V=pn(T,Ne.Medium);break;case"longDate":V=pn(T,Ne.Long);break;case"fullDate":V=pn(T,Ne.Full);break;case"shortTime":V=xt(T,Ne.Short);break;case"mediumTime":V=xt(T,Ne.Medium);break;case"longTime":V=xt(T,Ne.Long);break;case"fullTime":V=xt(T,Ne.Full);break;case"short":const j=_n(T,"shortTime"),W=_n(T,"shortDate");V=Kn(Zt(T,Ne.Short),[j,W]);break;case"medium":const re=_n(T,"mediumTime"),ct=_n(T,"mediumDate");V=Kn(Zt(T,Ne.Medium),[re,ct]);break;case"long":const In=_n(T,"longTime"),An=_n(T,"longDate");V=Kn(Zt(T,Ne.Long),[In,An]);break;case"full":const Pn=_n(T,"fullTime"),wn=_n(T,"fullDate");V=Kn(Zt(T,Ne.Full),[Pn,wn])}return V&&(Fn[b][P]=V),V}function Kn(T,P){return P&&(T=T.replace(/\{([^}]+)}/g,function(b,V){return null!=P&&V in P?P[V]:b})),T}function Zn(T,P,b="-",V,j){let W="";(T<0||j&&T<=0)&&(j?T=1-T:(T=-T,W=b));let re=String(T);for(;re.length<P;)re="0"+re;return V&&(re=re.slice(re.length-P)),W+re}function Mn(T,P,b=0,V=!1,j=!1){return function(W,re){let ct=function Ci(T,P){switch(T){case bt.FullYear:return P.getFullYear();case bt.Month:return P.getMonth();case bt.Date:return P.getDate();case bt.Hours:return P.getHours();case bt.Minutes:return P.getMinutes();case bt.Seconds:return P.getSeconds();case bt.FractionalSeconds:return P.getMilliseconds();case bt.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,W);if((b>0||ct>-b)&&(ct+=b),T===bt.Hours)0===ct&&-12===b&&(ct=12);else if(T===bt.FractionalSeconds)return function mn(T,P){return Zn(T,3).substring(0,P)}(ct,P);const In=Nt(re,at.MinusSign);return Zn(ct,P,In,V,j)}}function Cn(T,P,b=He.Format,V=!1){return function(j,W){return function Lr(T,P,b,V,j,W){switch(b){case $e.Months:return function tt(T,P,b){const V=(0,R.cg1)(T),W=bn([V[R.wAp.MonthsFormat],V[R.wAp.MonthsStandalone]],P);return bn(W,b)}(P,j,V)[T.getMonth()];case $e.Days:return function Ge(T,P,b){const V=(0,R.cg1)(T),W=bn([V[R.wAp.DaysFormat],V[R.wAp.DaysStandalone]],P);return bn(W,b)}(P,j,V)[T.getDay()];case $e.DayPeriods:const re=T.getHours(),ct=T.getMinutes();if(W){const An=function vn(T){const P=(0,R.cg1)(T);return jr(P),(P[R.wAp.ExtraData][2]||[]).map(V=>"string"==typeof V?ur(V):[ur(V[0]),ur(V[1])])}(P),Pn=function ar(T,P,b){const V=(0,R.cg1)(T);jr(V);const W=bn([V[R.wAp.ExtraData][0],V[R.wAp.ExtraData][1]],P)||[];return bn(W,b)||[]}(P,j,V),wn=An.findIndex(er=>{if(Array.isArray(er)){const[Nn,Sr]=er,io=re>=Nn.hours&&ct>=Nn.minutes,fi=re<Sr.hours||re===Sr.hours&&ct<Sr.minutes;if(Nn.hours<Sr.hours){if(io&&fi)return!0}else if(io||fi)return!0}else if(er.hours===re&&er.minutes===ct)return!0;return!1});if(-1!==wn)return Pn[wn]}return function Pe(T,P,b){const V=(0,R.cg1)(T),W=bn([V[R.wAp.DayPeriodsFormat],V[R.wAp.DayPeriodsStandalone]],P);return bn(W,b)}(P,j,V)[re<12?0:1];case $e.Eras:return function Ve(T,P){return bn((0,R.cg1)(T)[R.wAp.Eras],P)}(P,V)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(j,W,T,P,b,V)}}function cr(T){return function(P,b,V){const j=-1*V,W=Nt(b,at.MinusSign),re=j>0?Math.floor(j/60):Math.ceil(j/60);switch(T){case gn.Short:return(j>=0?"+":"")+Zn(re,2,W)+Zn(Math.abs(j%60),2,W);case gn.ShortGMT:return"GMT"+(j>=0?"+":"")+Zn(re,1,W);case gn.Long:return"GMT"+(j>=0?"+":"")+Zn(re,2,W)+":"+Zn(Math.abs(j%60),2,W);case gn.Extended:return 0===V?"Z":(j>=0?"+":"")+Zn(re,2,W)+":"+Zn(Math.abs(j%60),2,W);default:throw new Error(`Unknown zone width "${T}"`)}}}const pt=0,Se=4;function Yt(T){return nr(T.getFullYear(),T.getMonth(),T.getDate()+(Se-T.getDay()))}function Wt(T,P=!1){return function(b,V){let j;if(P){const W=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,re=b.getDate();j=1+Math.floor((re+W)/7)}else{const W=Yt(b),re=function vt(T){const P=nr(T,pt,1).getDay();return nr(T,0,1+(P<=Se?Se:Se+7)-P)}(W.getFullYear()),ct=W.getTime()-re.getTime();j=1+Math.round(ct/6048e5)}return Zn(j,T,Nt(V,at.MinusSign))}}function rn(T,P=!1){return function(b,V){return Zn(Yt(b).getFullYear(),T,Nt(V,at.MinusSign),P)}}const Sn={};function q(T,P){T=T.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(b)?P:b}function de(T){return T instanceof Date&&!isNaN(T.valueOf())}const ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,K=22,ve=".",Oe="0",qe=";",Lt=",",Xt="#";function lr(T){const P=parseInt(T);if(isNaN(P))throw new Error("Invalid integer literal when parsing "+T);return P}function Is(T,P){P=encodeURIComponent(P);for(const b of T.split(";")){const V=b.indexOf("="),[j,W]=-1==V?[b,""]:[b.slice(0,V),b.slice(V+1)];if(j.trim()===P)return decodeURIComponent(W)}return null}const qi=/\s+/,en=[];let dr=(()=>{class T{constructor(b,V,j,W){this._iterableDiffers=b,this._keyValueDiffers=V,this._ngEl=j,this._renderer=W,this.initialClasses=en,this.stateMap=new Map}set klass(b){this.initialClasses=null!=b?b.trim().split(qi):en}set ngClass(b){this.rawClass="string"==typeof b?b.trim().split(qi):b}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const b=this.rawClass;if(Array.isArray(b)||b instanceof Set)for(const V of b)this._updateState(V,!0);else if(null!=b)for(const V of Object.keys(b))this._updateState(V,Boolean(b[V]));this._applyStateDiff()}_updateState(b,V){const j=this.stateMap.get(b);void 0!==j?(j.enabled!==V&&(j.changed=!0,j.enabled=V),j.touched=!0):this.stateMap.set(b,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const b of this.stateMap){const V=b[0],j=b[1];j.changed?(this._toggleClass(V,j.enabled),j.changed=!1):j.touched||(j.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),j.touched=!1}}_toggleClass(b,V){(b=b.trim()).length>0&&b.split(qi).forEach(j=>{V?this._renderer.addClass(this._ngEl.nativeElement,j):this._renderer.removeClass(this._ngEl.nativeElement,j)})}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.ZZ4),R.Y36(R.aQg),R.Y36(R.SBq),R.Y36(R.Qsj))},T.\u0275dir=R.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class ge{constructor(P,b,V,j){this.$implicit=P,this.ngForOf=b,this.index=V,this.count=j}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ue=(()=>{class T{set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}constructor(b,V,j){this._viewContainer=b,this._template=V,this._differs=j,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const V=this._viewContainer;b.forEachOperation((j,W,re)=>{if(null==j.previousIndex)V.createEmbeddedView(this._template,new ge(j.item,this._ngForOf,-1,-1),null===re?void 0:re);else if(null==re)V.remove(null===W?void 0:W);else if(null!==W){const ct=V.get(W);V.move(ct,re),Te(ct,j)}});for(let j=0,W=V.length;j<W;j++){const ct=V.get(j).context;ct.index=j,ct.count=W,ct.ngForOf=this._ngForOf}b.forEachIdentityChange(j=>{Te(V.get(j.currentIndex),j)})}static ngTemplateContextGuard(b,V){return!0}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.s_b),R.Y36(R.Rgc),R.Y36(R.ZZ4))},T.\u0275dir=R.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function Te(T,P){T.context.$implicit=P.item}let Ie=(()=>{class T{constructor(b,V){this._viewContainer=b,this._context=new nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){Rt("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){Rt("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,V){return!0}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.s_b),R.Y36(R.Rgc))},T.\u0275dir=R.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class nt{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(T,P){if(P&&!P.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,R.AaK)(P)}'.`)}let jt=(()=>{class T{constructor(b,V,j){this._ngEl=b,this._differs=V,this._renderer=j,this._ngStyle=null,this._differ=null}set ngStyle(b){this._ngStyle=b,!this._differ&&b&&(this._differ=this._differs.find(b).create())}ngDoCheck(){if(this._differ){const b=this._differ.diff(this._ngStyle);b&&this._applyChanges(b)}}_setStyle(b,V){const[j,W]=b.split("."),re=-1===j.indexOf("-")?void 0:R.JOm.DashCase;null!=V?this._renderer.setStyle(this._ngEl.nativeElement,j,W?`${V}${W}`:V,re):this._renderer.removeStyle(this._ngEl.nativeElement,j,re)}_applyChanges(b){b.forEachRemovedItem(V=>this._setStyle(V.key,null)),b.forEachAddedItem(V=>this._setStyle(V.key,V.currentValue)),b.forEachChangedItem(V=>this._setStyle(V.key,V.currentValue))}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.SBq),R.Y36(R.aQg),R.Y36(R.Qsj))},T.\u0275dir=R.lG2({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),T})();function Pr(T,P){return new R.vHH(2100,!1)}class Ri{createSubscription(P,b){return P.subscribe({next:b,error:V=>{throw V}})}dispose(P){P.unsubscribe()}}class zn{createSubscription(P,b){return P.then(b,V=>{throw V})}dispose(P){}}const Es=new zn,Ki=new Ri;let hr=(()=>{class T{constructor(b){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=b}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(b){return this._obj?b!==this._obj?(this._dispose(),this.transform(b)):this._latestValue:(b&&this._subscribe(b),this._latestValue)}_subscribe(b){this._obj=b,this._strategy=this._selectStrategy(b),this._subscription=this._strategy.createSubscription(b,V=>this._updateLatestValue(b,V))}_selectStrategy(b){if((0,R.QGY)(b))return Es;if((0,R.F4k)(b))return Ki;throw Pr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(b,V){b===this._obj&&(this._latestValue=V,this._ref.markForCheck())}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.sBO,16))},T.\u0275pipe=R.Yjl({name:"async",type:T,pure:!1,standalone:!0}),T})();const Zi=new R.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),go=new R.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gs=(()=>{class T{constructor(b,V,j){this.locale=b,this.defaultTimezone=V,this.defaultOptions=j}transform(b,V,j,W){if(null==b||""===b||b!=b)return null;try{return Jn(b,V??this.defaultOptions?.dateFormat??"mediumDate",W||this.locale,j??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(re){throw Pr()}}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.soG,16),R.Y36(Zi,24),R.Y36(go,24))},T.\u0275pipe=R.Yjl({name:"date",type:T,pure:!0,standalone:!0}),T})(),rr=(()=>{class T{constructor(b){this._locale=b}transform(b,V,j){if(!function qo(T){return!(null==T||""===T||T!=T)}(b))return null;j=j||this._locale;try{return function qr(T,P,b){return function ci(T,P,b,V,j,W,re=!1){let ct="",In=!1;if(isFinite(T)){let An=function Bs(T){let V,j,W,re,ct,P=Math.abs(T)+"",b=0;for((j=P.indexOf(ve))>-1&&(P=P.replace(ve,"")),(W=P.search(/e/i))>0?(j<0&&(j=W),j+=+P.slice(W+1),P=P.substring(0,W)):j<0&&(j=P.length),W=0;P.charAt(W)===Oe;W++);if(W===(ct=P.length))V=[0],j=1;else{for(ct--;P.charAt(ct)===Oe;)ct--;for(j-=W,V=[],re=0;W<=ct;W++,re++)V[re]=Number(P.charAt(W))}return j>K&&(V=V.splice(0,K-1),b=j-1,j=1),{digits:V,exponent:b,integerLen:j}}(T);re&&(An=function Wi(T){if(0===T.digits[0])return T;const P=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===P?T.digits.push(0,0):1===P&&T.digits.push(0),T.integerLen+=2),T}(An));let Pn=P.minInt,wn=P.minFrac,er=P.maxFrac;if(W){const pi=W.match(ie);if(null===pi)throw new Error(`${W} is not a valid digit info`);const Kt=pi[1],Wn=pi[3],aa=pi[5];null!=Kt&&(Pn=lr(Kt)),null!=Wn&&(wn=lr(Wn)),null!=aa?er=lr(aa):null!=Wn&&wn>er&&(er=wn)}!function Ai(T,P,b){if(P>b)throw new Error(`The minimum number of digits after fraction (${P}) is higher than the maximum (${b}).`);let V=T.digits,j=V.length-T.integerLen;const W=Math.min(Math.max(P,j),b);let re=W+T.integerLen,ct=V[re];if(re>0){V.splice(Math.max(T.integerLen,re));for(let wn=re;wn<V.length;wn++)V[wn]=0}else{j=Math.max(0,j),T.integerLen=1,V.length=Math.max(1,re=W+1),V[0]=0;for(let wn=1;wn<re;wn++)V[wn]=0}if(ct>=5)if(re-1<0){for(let wn=0;wn>re;wn--)V.unshift(0),T.integerLen++;V.unshift(1),T.integerLen++}else V[re-1]++;for(;j<Math.max(0,W);j++)V.push(0);let In=0!==W;const An=P+T.integerLen,Pn=V.reduceRight(function(wn,er,Nn,Sr){return Sr[Nn]=(er+=wn)<10?er:er-10,In&&(0===Sr[Nn]&&Nn>=An?Sr.pop():In=!1),er>=10?1:0},0);Pn&&(V.unshift(Pn),T.integerLen++)}(An,wn,er);let Nn=An.digits,Sr=An.integerLen;const io=An.exponent;let fi=[];for(In=Nn.every(pi=>!pi);Sr<Pn;Sr++)Nn.unshift(0);for(;Sr<0;Sr++)Nn.unshift(0);Sr>0?fi=Nn.splice(Sr,Nn.length):(fi=Nn,Nn=[0]);const so=[];for(Nn.length>=P.lgSize&&so.unshift(Nn.splice(-P.lgSize,Nn.length).join(""));Nn.length>P.gSize;)so.unshift(Nn.splice(-P.gSize,Nn.length).join(""));Nn.length&&so.unshift(Nn.join("")),ct=so.join(Nt(b,V)),fi.length&&(ct+=Nt(b,j)+fi.join("")),io&&(ct+=Nt(b,at.Exponential)+"+"+io)}else ct=Nt(b,at.Infinity);return ct=T<0&&!In?P.negPre+ct+P.negSuf:P.posPre+ct+P.posSuf,ct}(T,function _i(T,P="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},V=T.split(qe),j=V[0],W=V[1],re=-1!==j.indexOf(ve)?j.split(ve):[j.substring(0,j.lastIndexOf(Oe)+1),j.substring(j.lastIndexOf(Oe)+1)],ct=re[0],In=re[1]||"";b.posPre=ct.substring(0,ct.indexOf(Xt));for(let Pn=0;Pn<In.length;Pn++){const wn=In.charAt(Pn);wn===Oe?b.minFrac=b.maxFrac=Pn+1:wn===Xt?b.maxFrac=Pn+1:b.posSuf+=wn}const An=ct.split(Lt);if(b.gSize=An[1]?An[1].length:0,b.lgSize=An[2]||An[1]?(An[2]||An[1]).length:0,W){const Pn=j.length-b.posPre.length-b.posSuf.length,wn=W.indexOf(Xt);b.negPre=W.substring(0,wn).replace(/'/g,""),b.negSuf=W.slice(wn+Pn).replace(/'/g,"")}else b.negPre=P+b.posPre,b.negSuf=b.posSuf;return b}(function Jt(T,P){return(0,R.cg1)(T)[R.wAp.NumberFormats][P]}(P,Re.Decimal),Nt(P,at.MinusSign)),P,at.Group,at.Decimal,b)}(function Pi(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(b),j,V)}catch(W){throw Pr()}}}return T.\u0275fac=function(b){return new(b||T)(R.Y36(R.soG,16))},T.\u0275pipe=R.Yjl({name:"number",type:T,pure:!0,standalone:!0}),T})();let Ws=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=R.oAB({type:T}),T.\u0275inj=R.cJS({}),T})();const Ko="browser";let Yi=(()=>{class T{}return T.\u0275prov=(0,R.Yz7)({token:T,providedIn:"root",factory:()=>new mo((0,R.LFG)(ae),window)}),T})();class mo{constructor(P,b){this.document=P,this.window=b,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const b=function ma(T,P){const b=T.getElementById(P)||T.getElementsByName(P)[0];if(b)return b;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const V=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let j=V.currentNode;for(;j;){const W=j.shadowRoot;if(W){const re=W.getElementById(P)||W.querySelector(`[name="${P}"]`);if(re)return re}j=V.nextNode()}}return null}(this.document,P);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=P)}}scrollToElement(P){const b=P.getBoundingClientRect(),V=b.left+this.window.pageXOffset,j=b.top+this.window.pageYOffset,W=this.offset();this.window.scrollTo(V-W[0],j-W[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Ks(this.window.history)||Ks(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ks(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Jo{}},8256:(Gt,Ze,H)=>{H.d(Ze,{tb:()=>jI,AFp:()=>RI,ip1:()=>MI,CZH:()=>by,hGG:()=>kE,z2F:()=>Sy,sBO:()=>_E,Sil:()=>tE,_Vd:()=>yl,EJc:()=>Jw,Xts:()=>Ff,SBq:()=>vl,lqb:()=>mu,qLn:()=>wd,vpe:()=>Ju,XFs:()=>$e,OlP:()=>Vn,zs3:()=>Tc,ZZ4:()=>G_,aQg:()=>W_,soG:()=>Cy,YKP:()=>yy,h0i:()=>Yd,PXZ:()=>pE,R0b:()=>Xa,FiY:()=>Us,Lbi:()=>Yw,g9A:()=>NI,Qsj:()=>_l,FYo:()=>Hg,JOm:()=>fa,tp0:()=>S,Rgc:()=>Tg,dDg:()=>lE,eoX:()=>$I,q4F:()=>Wg,GfV:()=>Qf,s_b:()=>Ey,ifc:()=>Lt,MMx:()=>_y,Lck:()=>f_,eFA:()=>HI,Gpc:()=>Bt,f3M:()=>Ue,$WT:()=>li,_c5:()=>OE,c2e:()=>Qw,zSh:()=>Hf,wAp:()=>tn,vHH:()=>Me,lri:()=>UI,rWj:()=>VI,D6c:()=>LE,cg1:()=>Qa,kL8:()=>xv,dqk:()=>mn,Z0I:()=>ur,eJc:()=>x_,CqO:()=>Om,QGY:()=>Xp,F4k:()=>Jp,RDi:()=>Nf,AaK:()=>Le,qOj:()=>$d,TTD:()=>ds,_Bn:()=>h_,jDz:()=>g_,xp6:()=>Eh,uIk:()=>qp,ekj:()=>Qh,Suo:()=>aI,Xpm:()=>Bs,lG2:()=>Is,Yz7:()=>vn,cJS:()=>kt,oAB:()=>_s,Yjl:()=>qi,Y36:()=>El,_UZ:()=>Yu,BQk:()=>Gh,ynx:()=>Hh,qZA:()=>Hd,TgZ:()=>Nl,EpF:()=>Qp,n5z:()=>Ta,LFG:()=>q,$8M:()=>Ls,$Z:()=>fm,NdJ:()=>eg,CRH:()=>uI,oxw:()=>ng,ALo:()=>X0,lcZ:()=>J0,xi3:()=>eI,Q6J:()=>zh,s9C:()=>Kh,VKq:()=>J,WLB:()=>we,iGM:()=>oI,MAs:()=>jh,KtG:()=>ps,CHM:()=>to,LSH:()=>dl,P3R:()=>fh,YNc:()=>$h,W1O:()=>hI,_uU:()=>hg,Oqu:()=>Wd,hij:()=>sf,AsE:()=>Bl});var R=H(7579),Z=H(727),Q=H(9751),oe=H(8189),ye=H(8421),ae=H(515),le=H(7669),Je=H(8996),te=H(2961),ne=H(4482);function Ye(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new te.Hp({next:()=>{a.unsubscribe(),n()}});return(0,ye.Xf)(r(...s)).subscribe(a)}function ee(n){for(let r in n)if(n[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function ot(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ut(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Et=ee({__forward_ref__:ee});function Bt(n){return n.__forward_ref__=Bt,n.toString=function(){return Le(this())},n}function ft(n){return rt(n)?n():n}function rt(n){return"function"==typeof n&&n.hasOwnProperty(Et)&&n.__forward_ref__===Bt}function it(n){return n&&!!n.\u0275providers}const yt="https://g.co/ng/security#xss";class Me extends Error{constructor(r,s){super(Re(r,s)),this.code=r}}function Re(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function pe(n,r){throw new Me(-201,!1)}function sn(n,r){null==n&&function gt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function vn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function bn(n){return Xn(n,Fn)||Xn(n,gn)}function ur(n){return null!==bn(n)}function Xn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Dr(n){return n&&(n.hasOwnProperty(Wr)||n.hasOwnProperty(bt))?n[Wr]:null}const Fn=ee({\u0275prov:ee}),Wr=ee({\u0275inj:ee}),gn=ee({ngInjectableDef:ee}),bt=ee({ngInjectorDef:ee});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let Jn;function _n(n){const r=Jn;return Jn=n,r}function Kn(n,r,s){const a=bn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&$e.Optional?null:void 0!==r?r:void pe(Le(n))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Lr={},cr="__NG_DI_FLAG__",pt="ngTempTokenPath",Se="ngTokenPath",vt=/\n/gm,Yt="\u0275",Wt="__source";let rn;function Sn(n){const r=rn;return rn=n,r}function X(n,r=$e.Default){if(void 0===rn)throw new Me(-203,!1);return null===rn?Kn(n,void 0,r):rn.get(n,r&$e.Optional?null:void 0,r)}function q(n,r=$e.Default){return(function nr(){return Jn}()||X)(ft(n),r)}function Ue(n,r=$e.Default){return q(n,Ee(r))}function Ee(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _t(n){const r=[];for(let s=0;s<n.length;s++){const a=ft(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Me(900,!1);let c,h=$e.Default;for(let m=0;m<a.length;m++){const w=a[m],C=ie(w);"number"==typeof C?-1===C?c=w.token:h|=C:c=w}r.push(q(c,h))}else r.push(q(a))}return r}function de(n,r){return n[cr]=r,n.prototype[cr]=r,n}function ie(n){return n[cr]}function Oe(n){return{toString:n}.toString()}var qe=(()=>((qe=qe||{})[qe.OnPush=0]="OnPush",qe[qe.Default=1]="Default",qe))(),Lt=(()=>{return(n=Lt||(Lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Lt;var n})();const Xt={},Vt=[],Si=ee({\u0275cmp:ee}),ci=ee({\u0275dir:ee}),cs=ee({\u0275pipe:ee}),vs=ee({\u0275mod:ee}),qr=ee({\u0275fac:ee}),_i=ee({__NG_ELEMENT_ID__:ee});let Wi=0;function Bs(n){return Oe(()=>{const r=ge(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Lt.Emulated,id:"c"+Wi++,styles:n.styles||Vt,_:null,schemas:n.schemas||null,tView:null};ue(s);const a=n.dependencies;return s.directiveDefs=Te(a,!1),s.pipeDefs=Te(a,!0),s})}function lr(n){return en(n)||dr(n)}function js(n){return null!==n}function _s(n){return Oe(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tr(n,r){if(null==n)return Xt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}function Is(n){return Oe(()=>{const r=ge(n);return ue(r),r})}function qi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[Si]||null}function dr(n){return n[ci]||null}function _r(n){return n[cs]||null}function li(n){const r=en(n)||dr(n)||_r(n);return null!==r&&r.standalone}function Yn(n,r){const s=n[vs]||null;if(!s&&!0===r)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return s}function ge(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tr(n.inputs,r),outputs:Tr(n.outputs)}}function ue(n){n.features?.forEach(r=>r(n))}function Te(n,r){if(!n)return null;const s=r?_r:lr;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(js)}const Fe=0,Ie=1,nt=2,Rt=3,ln=4,dn=5,xn=6,xi=7,un=8,zr=9,Mi=10,jt=11,ws=12,zs=13,Pr=14,Ri=15,zn=16,Es=17,Ki=18,hr=19,Ro=20,Ds=21,Hn=22,Hs=1,Zi=2,go=7,Gs=8,Ts=9,fr=10;function di(n){return Array.isArray(n)&&"object"==typeof n[Hs]}function pr(n){return Array.isArray(n)&&!0===n[Hs]}function Ii(n){return 0!=(4&n.flags)}function hi(n){return n.componentOffset>-1}function rr(n){return 1==(1&n.flags)}function Fr(n){return!!n.template}function Ln(n){return 0!=(256&n[nt])}function Ni(n,r){return n.hasOwnProperty(qr)?n[qr]:null}class ti{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ds(){return gr}function gr(n){return n.type.prototype.ngOnChanges&&(n.setInput=yo),ea}function ea(){const n=Zs(this),r=n?.current;if(r){const s=n.previous;if(s===Xt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function yo(n,r,s,a){const c=this.declaredInputs[s],h=Zs(n)||function vo(n,r){return n[hs]=r}(n,{previous:Xt,current:null}),m=h.current||(h.current={}),w=h.previous,C=w[c];m[c]=new ti(C&&C.currentValue,r,w===Xt),n[a]=r}ds.ngInherit=!0;const hs="__ngSimpleChanges__";function Zs(n){return n[hs]||null}const Kr=function(n,r,s){};function ir(n){for(;Array.isArray(n);)n=n[Fe];return n}function fs(n,r){return ir(r[n])}function qt(n,r){return ir(r[n.index])}function Cs(n,r){return n.data[r]}function Oi(n,r){return n[r]}function wi(n,r){const s=r[n];return di(s)?s:s[Fe]}function Js(n){return 64==(64&n[nt])}function Xi(n,r){return null==r?null:n[r]}function Ji(n){n[Ki]=0}function Zr(n,r){n[dn]+=r;let s=n,a=n[Rt];for(;null!==a&&(1===r&&1===s[dn]||-1===r&&0===s[dn]);)a[dn]+=r,s=a,a=a[Rt]}const Tt={lFrame:Ua(null),bindingsEnabled:!0};function _a(){return Tt.bindingsEnabled}function Qe(){return Tt.lFrame.lView}function hn(){return Tt.lFrame.tView}function to(n){return Tt.lFrame.contextLView=n,n[un]}function ps(n){return Tt.lFrame.contextLView=null,n}function Ir(){let n=Yr();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yr(){return Tt.lFrame.currentTNode}function ni(n,r){const s=Tt.lFrame;s.currentTNode=n,s.isParent=r}function ia(){return Tt.lFrame.isParent}function no(){Tt.lFrame.isParent=!1}function Nr(){const n=Tt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ns(){return Tt.lFrame.bindingIndex++}function Gn(n){const r=Tt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function ro(n,r){const s=Tt.lFrame;s.bindingIndex=s.bindingRootIndex=n,ru(r)}function ru(n){Tt.lFrame.currentDirectiveIndex=n}function Tu(){return Tt.lFrame.currentQueryIndex}function sa(n){Tt.lFrame.currentQueryIndex=n}function oa(n){const r=n[Ie];return 2===r.type?r.declTNode:1===r.type?n[xn]:null}function Ia(n,r,s){if(s&$e.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&$e.Host||(c=oa(h),null===c||(h=h[Ri],10&c.type))););if(null===c)return!1;r=c,n=h}const a=Tt.lFrame=wa();return a.currentTNode=r,a.lView=n,!0}function gs(n){const r=wa(),s=n[Ie];Tt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function wa(){const n=Tt.lFrame,r=null===n?null:n.child;return null===r?Ua(n):r}function Ua(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function sr(){const n=Tt.lFrame;return Tt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const or=sr;function Ms(){const n=sr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ze(){return Tt.lFrame.selectedIndex}function Qn(n){Tt.lFrame.selectedIndex=n}function Rn(){const n=Tt.lFrame;return Cs(n.tView,n.selectedIndex)}function re(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:U}=h;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),N&&((n.viewHooks||(n.viewHooks=[])).push(s,N),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,N)),null!=U&&(n.destroyHooks||(n.destroyHooks=[])).push(s,U)}}function ct(n,r,s){Pn(n,r,3,s)}function In(n,r,s,a){(3&n[nt])===s&&Pn(n,r,s,a)}function An(n,r){let s=n[nt];(3&s)===r&&(s&=2047,s+=1,n[nt]=s)}function Pn(n,r,s,a){const h=a??-1,m=r.length-1;let w=0;for(let C=void 0!==a?65535&n[Ki]:0;C<m;C++)if("number"==typeof r[C+1]){if(w=r[C],null!=a&&w>=a)break}else r[C]<0&&(n[Ki]+=65536),(w<h||-1==h)&&(wn(n,s,r,C),n[Ki]=(4294901760&n[Ki])+C+2),C++}function wn(n,r,s,a){const c=s[a]<0,h=s[a+1],w=n[c?-s[a]:s[a]];if(c){if(n[nt]>>11<n[Ki]>>16&&(3&n[nt])===r){n[nt]+=2048,Kr(4,w,h);try{h.call(w)}finally{Kr(5,w,h)}}}else{Kr(4,w,h);try{h.call(w)}finally{Kr(5,w,h)}}}const er=-1;class Nn{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Un(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],m=s[a++],w=s[a++];n.setAttribute(r,m,w,h)}else{const h=c,m=s[++a];gi(h)?n.setProperty(r,h,m):n.setAttribute(r,h,m),a++}}return a}function Ft(n){return 3===n||4===n||6===n}function gi(n){return 64===n.charCodeAt(0)}function cn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Va(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function Va(n,r,s,a,c){let h=0,m=n.length;if(-1===r)m=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,r),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function mr(n){return n!==er}function ht(n){return 32767&n}function Ps(n,r){let s=function Rs(n){return n>>16}(n),a=r;for(;s>0;)a=a[Ri],s--;return a}let Ei=!0;function oo(n){const r=Ei;return Ei=n,r}const Da=255,wo=5;let $a=0;const ri={};function ao(n,r){const s=Ns(n,r);if(-1!==s)return s;const a=r[Ie];a.firstCreatePass&&(n.injectorIndex=r.length,ua(a.data,n),ua(r,null),ua(a.blueprint,null));const c=Os(n,r),h=n.injectorIndex;if(mr(c)){const m=ht(c),w=Ps(c,r),C=w[Ie].data;for(let N=0;N<8;N++)r[h+N]=w[m+N]|C[m+N]}return r[h+8]=c,h}function ua(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ns(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Os(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=ii(c),null===a)return er;if(s++,c=c[Ri],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return er}function ca(n,r,s){!function mi(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(_i)&&(a=s[_i]),null==a&&(a=s[_i]=$a++);const c=a&Da;r.data[n+(c>>wo)]|=1<<c}(n,r,s)}function $r(n,r,s){if(s&$e.Optional||void 0!==n)return n;pe()}function ki(n,r,s,a){if(s&$e.Optional&&void 0===a&&(a=null),!(s&($e.Self|$e.Host))){const c=n[zr],h=_n(void 0);try{return c?c.get(r,a,s&$e.Optional):Kn(r,a,s&$e.Optional)}finally{_n(h)}}return $r(a,0,s)}function Li(n,r,s,a=$e.Default,c){if(null!==n){if(1024&r[nt]){const m=function $c(n,r,s,a,c){let h=n,m=r;for(;null!==h&&null!==m&&1024&m[nt]&&!(256&m[nt]);){const w=ks(h,m,s,a|$e.Self,ri);if(w!==ri)return w;let C=h.parent;if(!C){const N=m[Ds];if(N){const U=N.get(s,ri,a);if(U!==ri)return U}C=ii(m),m=m[Ri]}h=C}return c}(n,r,s,a,ri);if(m!==ri)return m}const h=ks(n,r,s,a,ri);if(h!==ri)return h}return ki(r,s,a,c)}function ks(n,r,s,a,c){const h=function Vc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(_i)?n[_i]:void 0;return"number"==typeof r?r>=0?r&Da:yr:r}(s);if("function"==typeof h){if(!Ia(r,n,a))return a&$e.Host?$r(c,0,a):ki(r,s,a,c);try{const m=h(a);if(null!=m||a&$e.Optional)return m;pe()}finally{or()}}else if("number"==typeof h){let m=null,w=Ns(n,r),C=er,N=a&$e.Host?r[zn][xn]:null;for((-1===w||a&$e.SkipSelf)&&(C=-1===w?Os(n,r):r[w+8],C!==er&&Fo(a,!1)?(m=r[Ie],w=ht(C),r=Ps(C,r)):w=-1);-1!==w;){const U=r[Ie];if(Ba(h,w,U.data)){const Y=Lo(w,r,s,m,a,N);if(Y!==ri)return Y}C=r[w+8],C!==er&&Fo(a,r[Ie].data[w+8]===N)&&Ba(h,w,r)?(m=U,w=ht(C),r=Ps(C,r)):w=-1}}return c}function Lo(n,r,s,a,c,h){const m=r[Ie],w=m.data[n+8],U=la(w,m,s,null==a?hi(w)&&Ei:a!=m&&0!=(3&w.type),c&$e.Host&&h===w);return null!==U?Fi(r,m,U,w):ri}function la(n,r,s,a,c){const h=n.providerIndexes,m=r.data,w=1048575&h,C=n.directiveStart,U=h>>20,fe=c?w+U:n.directiveEnd;for(let be=a?w:w+U;be<fe;be++){const je=m[be];if(be<C&&s===je||be>=C&&je.type===s)return be}if(c){const be=m[C];if(be&&Fr(be)&&be.type===s)return C}return null}function Fi(n,r,s,a){let c=n[s];const h=r.data;if(function Sr(n){return n instanceof Nn}(c)){const m=c;m.resolving&&function It(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Me(-200,`Circular dependency in DI detected for ${n}${s}`)}(function He(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(h[s]));const w=oo(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?_n(m.injectImpl):null;Ia(n,a,$e.Default);try{c=n[s]=m.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function W(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const m=gr(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==C&&_n(C),oo(w),m.resolving=!1,or()}}return c}function Ba(n,r,s){return!!(s[r+(n>>wo)]&1<<n)}function Fo(n,r){return!(n&$e.Self||n&$e.Host&&r)}class uo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Li(this._tNode,this._lView,r,Ee(a),s)}}function yr(){return new uo(Ir(),Qe())}function Ta(n){return Oe(()=>{const r=n.prototype.constructor,s=r[qr]||Ui(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[qr]||Ui(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ui(n){return rt(n)?()=>{const r=Ui(ft(n));return r&&r()}:Ni(n)}function ii(n){const r=n[Ie],s=r.type;return 2===s?r.declTNode:1===s?n[xn]:null}function Ls(n){return function Ae(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Ft(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Ir(),n)}const si="__parameters__";function Uo(n,r,s){return Oe(()=>{const a=function za(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return w.annotation=m,w;function w(C,N,U){const Y=C.hasOwnProperty(si)?C[si]:Object.defineProperty(C,si,{value:[]})[si];for(;Y.length<=U;)Y.push(null);return(Y[U]=Y[U]||[]).push(m),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Vn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function co(n,r){n.forEach(s=>Array.isArray(s)?co(s,r):r(s))}function Ca(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function wr(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function I(n,r,s){let a=L(n,r);return a>=0?n[1|a]=s:(a=~a,function v(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function A(n,r){const s=L(n,r);if(s>=0)return n[1|s]}function L(n,r){return function ce(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),m=n[h<<s];if(r===m)return h<<s;m>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const Us=de(Uo("Optional"),8),S=de(Uo("SkipSelf"),4);var fa=(()=>((fa=fa||{})[fa.Important=1]="Important",fa[fa.DashCase=2]="DashCase",fa))();const Xl=new Map;let Jl=0;const Vs="__ngContext__";function Ti(n,r){di(r)?(n[Vs]=r[Ro],function ed(n){Xl.set(n[Ro],n)}(r)):n[Vs]=r}let Ru;function Pu(n,r){return Ru(n,r)}function Nu(n){const r=n[Rt];return pr(r)?r[Rt]:r}function id(n){return sd(n[zs])}function ss(n){return sd(n[ln])}function sd(n){for(;null!==n&&!pr(n);)n=n[ln];return n}function Sa(n,r,s,a,c){if(null!=a){let h,m=!1;pr(a)?h=a:di(a)&&(m=!0,a=a[Fe]);const w=ir(a);0===n&&null!==s?null==c?du(r,s,w):lu(r,s,w,c||null,!0):1===n&&null!==s?lu(r,s,w,c||null,!0):2===n?function cd(n,r,s){const a=nl(n,r);a&&function cc(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,w,m):3===n&&r.destroyNode(w),null!=h&&function Pf(n,r,s,a,c){const h=s[go];h!==ir(s)&&Sa(r,n,a,h,c);for(let w=fr;w<s.length;w++){const C=s[w];To(C[Ie],C,n,r,a,h)}}(r,n,h,s,c)}}function Ou(n,r,s){return n.createElement(r,s)}function nh(n,r){const s=n[Ts],a=s.indexOf(r),c=r[Rt];512&r[nt]&&(r[nt]&=-513,Zr(c,-1)),s.splice(a,1)}function el(n,r){if(n.length<=fr)return;const s=fr+r,a=n[s];if(a){const c=a[Es];null!==c&&c!==n&&nh(c,a),r>0&&(n[s-1][ln]=a[ln]);const h=wr(n,fr+r);!function Sg(n,r){To(n,r,r[jt],2,null,null),r[Fe]=null,r[xn]=null}(a[Ie],a);const m=h[hr];null!==m&&m.detachView(h[Ie]),a[Rt]=null,a[ln]=null,a[nt]&=-65}return a}function tl(n,r){if(!(128&r[nt])){const s=r[jt];s.destroyNode&&To(n,r,s,3,null,null),function xg(n){let r=n[zs];if(!r)return rh(n[Ie],n);for(;r;){let s=null;if(di(r))s=r[zs];else{const a=r[fr];a&&(s=a)}if(!s){for(;r&&!r[ln]&&r!==n;)di(r)&&rh(r[Ie],r),r=r[Rt];null===r&&(r=n),di(r)&&rh(r[Ie],r),s=r&&r[ln]}r=s}}(r)}}function rh(n,r){if(!(128&r[nt])){r[nt]&=-65,r[nt]|=128,function Af(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Nn)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const w=c[h[m]],C=h[m+1];Kr(4,w,C);try{C.call(w)}finally{Kr(5,w,C)}}else{Kr(4,c,h);try{h.call(c)}finally{Kr(5,c,h)}}}}}(n,r),function Mg(n,r){const s=n.cleanup,a=r[xi];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+3];m>=0?a[c=m]():a[c=-m].unsubscribe(),h+=2}else{const m=a[c=s[h+1]];s[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[xi]=null}}(n,r),1===r[Ie].type&&r[jt].destroy();const s=r[Es];if(null!==s&&pr(r[Rt])){s!==r[Rt]&&nh(s,r);const a=r[hr];null!==a&&a.detachView(n)}!function Au(n){Xl.delete(n[Ro])}(r)}}function ku(n,r,s){return function cu(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Fe];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=n.data[a.directiveStart+c];if(h===Lt.None||h===Lt.Emulated)return null}return qt(a,s)}}(n,r.parent,s)}function lu(n,r,s,a,c){n.insertBefore(r,s,a,c)}function du(n,r,s){n.appendChild(r,s)}function ih(n,r,s,a,c){null!==a?lu(n,r,s,a,c):du(n,r,s)}function nl(n,r){return n.parentNode(r)}let lc,hd,d,Or=function Mf(n,r,s){return 40&n.type?qt(n,s):null};function sl(n,r,s,a){const c=ku(n,a,r),h=r[jt],w=function xf(n,r,s){return Or(n,r,s)}(a.parent||r[xn],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)ih(h,c,s[C],w,!1);else ih(h,c,s,w,!1);void 0!==lc&&lc(h,a,r,s,c)}function ud(n,r){if(null!==r){const s=r.type;if(3&s)return qt(r,n);if(4&s)return sh(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ud(n,a);{const c=n[r.index];return pr(c)?sh(-1,c):ir(c)}}if(32&s)return Pu(r,n)()||ir(n[r.index]);{const a=dc(n,r);return null!==a?Array.isArray(a)?a[0]:ud(Nu(n[zn]),a):ud(n,r.next)}}return null}function dc(n,r){return null!==r?n[zn][xn].projection[r.projection]:null}function sh(n,r){const s=fr+n+1;if(s<r.length){const a=r[s],c=a[Ie].firstChild;if(null!==c)return ud(a,c)}return r[go]}function hu(n,r,s,a,c,h,m){for(;null!=s;){const w=a[s.index],C=s.type;if(m&&0===r&&(w&&Ti(ir(w),a),s.flags|=2),32!=(32&s.flags))if(8&C)hu(n,r,s.child,a,c,h,!1),Sa(r,n,c,w,h);else if(32&C){const N=Pu(s,a);let U;for(;U=N();)Sa(r,n,c,U,h);Sa(r,n,c,w,h)}else 16&C?oh(n,r,a,s,c,h):Sa(r,n,c,w,h);s=m?s.projectionNext:s.next}}function To(n,r,s,a,c,h){hu(s,a,n.firstChild,r,c,h,!1)}function oh(n,r,s,a,c,h){const m=s[zn],C=m[xn].projection[a.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)Sa(r,n,c,C[N],h);else hu(n,r,C,m[Rt],c,h,!0)}function ld(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function dd(n,r,s){const{mergedAttrs:a,classes:c,styles:h}=s;null!==a&&Un(n,r,a),null!==c&&ld(n,r,c),null!==h&&function ah(n,r,s){n.setAttribute(r,"style",s)}(n,r,h)}function Nf(n){hd=n}function z(n){return function f(){if(void 0===d&&(d=null,mn.trustedTypes))try{d=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return d}()?.createScriptURL(n)||n}class De{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}function Bi(n){return n instanceof De?n.changingThisBreaksApplicationSecurity:n}function bo(n,r){const s=function ol(n){return n instanceof De&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${yt})`)}return s===r}const ch=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function dl(n){const r=hl();return r?r.sanitize(vi.URL,n)||"":bo(n,"URL")?Bi(n):function Aa(n){return(n=String(n)).match(ch)?n:"unsafe:"+n}(_e(n))}function $u(n){const r=hl();if(r)return z(r.sanitize(vi.RESOURCE_URL,n)||"");if(bo(n,"ResourceURL"))return z(Bi(n));throw new Me(904,!1)}function fh(n,r,s){return function Ug(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?$u:dl}(r,s)(n)}function hl(){const n=Qe();return n&&n[ws]}const Ff=new Vn("ENVIRONMENT_INITIALIZER"),Uf=new Vn("INJECTOR",-1),Vf=new Vn("INJECTOR_DEF_TYPES");class yd{get(r,s=Lr){if(s===Lr){const a=new Error(`NullInjectorError: No provider for ${Le(r)}!`);throw a.name="NullInjectorError",a}return s}}function yc(...n){return{\u0275providers:$g(0,n),\u0275fromNgModule:!0}}function $g(n,...r){const s=[],a=new Set;let c;return co(r,h=>{const m=h;Bf(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&$f(c,s),s}function $f(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];jf(c,h=>{r.push(h)})}}function Bf(n,r,s,a){if(!(n=ft(n)))return!1;let c=null,h=Dr(n);const m=!h&&en(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const C=n.ngModule;if(h=Dr(C),!h)return!1;c=C}const w=a.has(c);if(m){if(w)return!1;if(a.add(c),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of C)Bf(N,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let N;a.add(c);try{co(h.imports,U=>{Bf(U,r,s,a)&&(N||(N=[]),N.push(U))})}finally{}void 0!==N&&$f(N,r)}if(!w){const N=Ni(c)||(()=>new c);r.push({provide:c,useFactory:N,deps:Vt},{provide:Vf,useValue:c,multi:!0},{provide:Ff,useValue:()=>q(c),multi:!0})}const C=h.providers;null==C||w||jf(C,U=>{r.push(U)})}}return c!==n&&void 0!==n.providers}function jf(n,r){for(let s of n)it(s)&&(s=s.\u0275providers),Array.isArray(s)?jf(s,r):r(s)}const vd=ee({provide:String,useValue:ee});function pu(n){return null!==n&&"object"==typeof n&&vd in n}function vc(n){return"function"==typeof n}const Hf=new Vn("Set Injector scope."),fl={},Gf={};let gh;function pl(){return void 0===gh&&(gh=new yd),gh}class mu{}class Wf extends mu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_c(r,m=>this.processProvider(m)),this.records.set(Uf,ml(void 0,this)),c.has("environment")&&this.records.set(mu,ml(void 0,this));const h=this.records.get(Hf);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Vf.multi,Vt,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Sn(this),a=_n(void 0);try{return r()}finally{Sn(s),_n(a)}}get(r,s=Lr,a=$e.Default){this.assertNotDestroyed(),a=Ee(a);const c=Sn(this),h=_n(void 0);try{if(!(a&$e.SkipSelf)){let w=this.records.get(r);if(void 0===w){const C=function mh(n){return"function"==typeof n||"object"==typeof n&&n instanceof Vn}(r)&&bn(r);w=C&&this.injectableDefInScope(C)?ml(gl(r),fl):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&$e.Self?pl():this.parent).get(r,s=a&$e.Optional&&s===Lr?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[pt]=m[pt]||[]).unshift(Le(r)),c)throw m;return function K(n,r,s,a){const c=n[pt];throw r[Wt]&&c.unshift(r[Wt]),n.message=function ve(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Yt?n.slice(2):n;let c=Le(r);if(Array.isArray(r))c=r.map(Le).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];h.push(m+":"+("string"==typeof w?JSON.stringify(w):Le(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(vt,"\n  ")}`}("\n"+n.message,c,s,a),n[Se]=c,n[pt]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{_n(h),Sn(c)}}resolveInjectorInitializers(){const r=Sn(this),s=_n(void 0);try{const a=this.get(Ff.multi,Vt,$e.Self);for(const c of a)c()}finally{Sn(r),_n(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Le(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(r){let s=vc(r=ft(r))?r:ft(r&&r.provide);const a=function qf(n){return pu(n)?ml(void 0,n.useValue):ml(_d(n),fl)}(r);if(vc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ml(void 0,fl,!0),c.factory=()=>_t(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===fl&&(s.value=Gf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Id(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ft(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function gl(n){const r=bn(n),s=null!==r?r.factory:Ni(n);if(null!==s)return s;if(n instanceof Vn)throw new Me(204,!1);if(n instanceof Function)return function Uy(n){const r=n.length;if(r>0)throw function Fs(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Me(204,!1);const s=function Gi(n){const r=n&&(n[Fn]||n[gn]);return r?(function Er(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),r):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Me(204,!1)}function _d(n,r,s){let a;if(vc(n)){const c=ft(n);return Ni(c)||gl(c)}if(pu(n))a=()=>ft(n.useValue);else if(function zf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(..._t(n.deps||[]));else if(function gu(n){return!(!n||!n.useExisting)}(n))a=()=>q(ft(n.useExisting));else{const c=ft(n&&(n.useClass||n.provide));if(!function jg(n){return!!n.deps}(n))return Ni(c)||gl(c);a=()=>new c(..._t(n.deps))}return a}function ml(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function _c(n,r){for(const s of n)Array.isArray(s)?_c(s,r):s&&it(s)?_c(s.\u0275providers,r):r(s)}class zg{}class Kf{}class yh{resolveComponentFactory(r){throw function So(n){const r=Error(`No component factory found for ${Le(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let yl=(()=>{class n{}return n.NULL=new yh,n})();function Bu(){return xa(Ir(),Qe())}function xa(n,r){return new vl(qt(n,r))}let vl=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Bu,n})();function Ic(n){return n instanceof vl?n.nativeElement:n}class Hg{}let _l=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Gg(){const n=Qe(),s=wi(Ir().index,n);return(di(s)?s:n)[jt]}(),n})(),ju=(()=>{class n{}return n.\u0275prov=vn({token:n,providedIn:"root",factory:()=>null}),n})();class Qf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Wg=new Qf("15.2.3"),Xf={},Jf="ngOriginalError";function Il(n){return n[Jf]}class wd{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Il(r);for(;s&&Il(s);)s=Il(s);return s||null}}function yu(n){return n instanceof Function?n():n}function Xg(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const Jg="ng-template";function zy(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==Xg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function ep(n){return 4===n.type&&n.value!==Jg}function Hy(n,r,s){return r===(4!==n.type||s?n.value:Jg)}function vh(n,r,s){let a=4;const c=n.attrs||[],h=function Dd(n){for(let r=0;r<n.length;r++)if(Ft(n[r]))return r;return n.length}(c);let m=!1;for(let w=0;w<r.length;w++){const C=r[w];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!Hy(n,C,s)||""===C&&1===r.length){if(Ma(a))return!1;m=!0}}else{const N=8&a?C:r[++w];if(8&a&&null!==n.attrs){if(!zy(n.attrs,N,s)){if(Ma(a))return!1;m=!0}continue}const Y=em(8&a?"class":C,c,ep(n),s);if(-1===Y){if(Ma(a))return!1;m=!0;continue}if(""!==N){let fe;fe=Y>h?"":c[Y+1].toLowerCase();const be=8&a?fe:null;if(be&&-1!==Xg(be,N,0)||2&a&&N!==fe){if(Ma(a))return!1;m=!0}}}}else{if(!m&&!Ma(a)&&!Ma(C))return!1;if(m&&Ma(C))continue;m=!1,a=C|1&a}}return Ma(a)||m}function Ma(n){return 0==(1&n)}function em(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Ih(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function _h(n,r,s=!1){for(let a=0;a<r.length;a++)if(vh(n,r[a],s))return!0;return!1}function wh(n,r){return n?":not("+r.trim()+")":r}function tm(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const w=n[++s];c+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Ma(m)&&(r+=wh(h,c),c=""),a=m,h=h||!Ma(a);s++}return""!==c&&(r+=wh(h,c)),r}const fn={};function Eh(n){rm(hn(),Qe(),ze()+n,!1)}function rm(n,r,s,a){if(!a)if(3==(3&r[nt])){const h=n.preOrderCheckHooks;null!==h&&ct(r,h,s)}else{const h=n.preOrderHooks;null!==h&&In(r,h,0,s)}Qn(s)}function sp(n,r=null,s=null,a){const c=op(n,r,s,a);return c.resolveInjectorInitializers(),c}function op(n,r=null,s=null,a,c=new Set){const h=[s||Vt,yc(n)];return a=a||("object"==typeof n?void 0:Le(n)),new Wf(h,r||pl(),a||null,c)}let Tc=(()=>{class n{static create(s,a){if(Array.isArray(s))return sp({name:""},a,s,"");{const c=s.name??"";return sp({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=Lr,n.NULL=new yd,n.\u0275prov=vn({token:n,providedIn:"any",factory:()=>q(Uf)}),n.__NG_ELEMENT_ID__=-1,n})();function El(n,r=$e.Default){const s=Qe();return null===s?q(n,r):Li(Ir(),s,ft(n),r)}function fm(){throw new Error("invalid")}function Sh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const m=n.data[h];sa(s[a]),m.contentQueries(2,r[h],h)}}}function bc(n,r,s,a,c,h,m,w,C,N,U){const Y=r.blueprint.slice();return Y[Fe]=c,Y[nt]=76|a,(null!==U||n&&1024&n[nt])&&(Y[nt]|=1024),Ji(Y),Y[Rt]=Y[Ri]=n,Y[un]=s,Y[Mi]=m||n&&n[Mi],Y[jt]=w||n&&n[jt],Y[ws]=C||n&&n[ws]||null,Y[zr]=N||n&&n[zr]||null,Y[xn]=h,Y[Ro]=function Tf(){return Jl++}(),Y[Ds]=U,Y[zn]=2==r.type?n[zn]:Y,Y}function Ka(n,r,s,a,c){let h=n.data[r];if(null===h)h=function Rd(n,r,s,a,c){const h=Yr(),m=ia(),C=n.data[r]=function yp(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C,C.prev=h)),C}(n,r,s,a,c),function Fa(){return Tt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const m=function es(){const n=Tt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ni(h,!0),h}function Tl(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Pd(n,r,s){gs(r);try{const a=n.viewQuery;null!==a&&Mh(1,a,s);const c=n.template;null!==c&&Za(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Sh(n,r),n.staticViewQueries&&Mh(2,n.viewQuery,s);const h=n.components;null!==h&&function pp(n,r){for(let s=0;s<r.length;s++)xp(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[nt]&=-5,Ms()}}function bl(n,r,s,a){const c=r[nt];if(128!=(128&c)){gs(r);try{Ji(r),function La(n){return Tt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Za(n,r,s,2,a);const m=3==(3&c);if(m){const N=n.preOrderCheckHooks;null!==N&&ct(r,N,null)}else{const N=n.preOrderHooks;null!==N&&In(r,N,0,null),An(r,0)}if(function Sp(n){for(let r=id(n);null!==r;r=ss(r)){if(!r[Zi])continue;const s=r[Ts];for(let a=0;a<s.length;a++){const c=s[a];512&c[nt]||Zr(c[Rt],1),c[nt]|=512}}}(r),function nv(n){for(let r=id(n);null!==r;r=ss(r))for(let s=fr;s<r.length;s++){const a=r[s],c=a[Ie];Js(a)&&bl(c,a,c.template,a[un])}}(r),null!==n.contentQueries&&Sh(n,r),m){const N=n.contentCheckHooks;null!==N&&ct(r,N)}else{const N=n.contentHooks;null!==N&&In(r,N,1),An(r,1)}!function Md(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Qn(~c);else{const h=c,m=s[++a],w=s[++a];ro(m,h),w(2,r[h])}}}finally{Qn(-1)}}(n,r);const w=n.components;null!==w&&function Dl(n,r){for(let s=0;s<r.length;s++)Ap(n,r[s])}(r,w);const C=n.viewQuery;if(null!==C&&Mh(2,C,a),m){const N=n.viewCheckHooks;null!==N&&ct(r,N)}else{const N=n.viewHooks;null!==N&&In(r,N,2),An(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[nt]&=-41,512&r[nt]&&(r[nt]&=-513,Zr(r[Rt],-1))}finally{Ms()}}}function Za(n,r,s,a,c){const h=ze(),m=2&a;try{Qn(-1),m&&r.length>Hn&&rm(n,r,Hn,!1),Kr(m?2:0,c),s(a,c)}finally{Qn(h),Kr(m?3:1,c)}}function Ah(n,r,s){if(Ii(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}function gp(n,r,s){_a()&&(function Ep(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;hi(s)&&function Cp(n,r,s){const a=qt(r,n),c=pm(s),h=n[Mi],m=xh(n,bc(n,c,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=m}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||ao(s,r),Ti(a,r);const m=s.initialInputs;for(let w=c;w<h;w++){const C=n.data[w],N=Fi(r,n,w,s);Ti(N,r),null!==m&&_m(0,w-c,N,C,0,m),Fr(C)&&(wi(s.index,r)[un]=Fi(r,n,w,s))}}(n,r,s,qt(s,r)),64==(64&s.flags)&&ym(n,r,s))}function Nd(n,r,s=qt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],w=-1===m?s(r,n):n[m];n[c++]=w}}}function pm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Od(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Od(n,r,s,a,c,h,m,w,C,N){const U=Hn+a,Y=U+c,fe=function Jy(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:fn);return s}(U,Y),be="function"==typeof N?N():N;return fe[Ie]={type:n,blueprint:fe,template:s,queries:null,viewQuery:w,declTNode:r,data:fe.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:be,incompleteFirstPass:!1}}function kd(n,r,s,a){const c=Mp(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Rp(n).push(a,c.length-1))}function vp(n,r,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===a?Cc(s,r,c,h):a.hasOwnProperty(c)&&Cc(s,r,a[c],h)}return s}function Cc(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function Ho(n,r,s,a,c,h,m,w){const C=qt(r,s);let U,N=r.inputs;!w&&null!=N&&(U=N[a])?(Op(n,s,U,a,c),hi(r)&&Ip(s,r.index)):3&r.type&&(a=function ev(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,h.setProperty(C,a,c))}function Ip(n,r){const s=wi(r,n);16&s[nt]||(s[nt]|=32)}function Ld(n,r,s,a){if(_a()){const c=null===a?null:{"":-1},h=function vm(n,r){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let h=0;h<s.length;h++){const m=s[h];if(_h(r,m.selectors,!1))if(a||(a=[]),Fr(m))if(null!==m.findHostDirectiveDefs){const w=[];c=c||new Map,m.findHostDirectiveDefs(m,w,c),a.unshift(...w,m),Fd(n,r,w.length)}else a.unshift(m),Fd(n,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(n,s);let m,w;null===h?m=w=null:[m,w]=h,null!==m&&mm(n,r,s,m,c,w),c&&function Tp(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new Me(-301,!1);a.push(r[c],h)}}}(s,a,c)}s.mergedAttrs=cn(s.mergedAttrs,s.attrs)}function mm(n,r,s,a,c,h){for(let N=0;N<a.length;N++)ca(ao(s,r),n,a[N].type);!function Cl(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let N=0;N<a.length;N++){const U=a[N];U.providersResolver&&U.providersResolver(U)}let m=!1,w=!1,C=Tl(n,r,a.length,null);for(let N=0;N<a.length;N++){const U=a[N];s.mergedAttrs=cn(s.mergedAttrs,U.hostAttrs),Hu(n,s,r,C,U),bp(C,U,c),null!==U.contentQueries&&(s.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(s.flags|=64);const Y=U.type.prototype;!m&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),m=!0),!w&&(Y.ngOnChanges||Y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),w=!0),C++}!function _p(n,r,s){const c=r.directiveEnd,h=n.data,m=r.attrs,w=[];let C=null,N=null;for(let U=r.directiveStart;U<c;U++){const Y=h[U],fe=s?s.get(Y):null,je=fe?fe.outputs:null;C=vp(Y.inputs,U,C,fe?fe.inputs:null),N=vp(Y.outputs,U,N,je);const dt=null===C||null===m||ep(r)?null:Sl(C,U,m);w.push(dt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=C,r.outputs=N}(n,s,h)}function ym(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,m=function ec(){return Tt.lFrame.currentDirectiveIndex}();try{Qn(h);for(let w=a;w<c;w++){const C=n.data[w],N=r[w];ru(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Dp(C,N)}}finally{Qn(-1),ru(m)}}function Dp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Fd(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function bp(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Fr(r)&&(s[""]=n)}}function Hu(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Ni(c.type)),m=new Nn(h,Fr(c),El);n.blueprint[a]=m,s[a]=m,function wp(n,r,s,a,c){const h=c.hostBindings;if(h){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const w=~r.index;(function tv(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(m)!=w&&m.push(w),m.push(s,a,h)}}(n,r,a,Tl(n,s,c.hostVars,fn),c)}function ho(n,r,s,a,c,h){const m=qt(n,r);!function Gu(n,r,s,a,c,h,m){if(null==h)n.removeAttribute(r,c,s);else{const w=null==m?_e(h):m(h,a||"",c);n.setAttribute(r,c,w,s)}}(r[jt],m,h,n.value,s,a,c)}function _m(n,r,s,a,c,h){const m=h[r];if(null!==m){const w=a.setInput;for(let C=0;C<m.length;){const N=m[C++],U=m[C++],Y=m[C++];null!==w?a.setInput(s,Y,N,U):s[U]=Y}}}function Sl(n,r,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const m=n[h];for(let w=0;w<m.length;w+=2)if(m[w]===r){a.push(h,m[w+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Im(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null]}function Ap(n,r){const s=wi(r,n);if(Js(s)){const a=s[Ie];48&s[nt]?bl(a,s,a.template,s[un]):s[dn]>0&&Ud(s)}}function Ud(n){for(let a=id(n);null!==a;a=ss(a))for(let c=fr;c<a.length;c++){const h=a[c];if(Js(h))if(512&h[nt]){const m=h[Ie];bl(m,h,m.template,h[un])}else h[dn]>0&&Ud(h)}const s=n[Ie].components;if(null!==s)for(let a=0;a<s.length;a++){const c=wi(s[a],n);Js(c)&&c[dn]>0&&Ud(c)}}function xp(n,r){const s=wi(r,n),a=s[Ie];(function rv(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Pd(a,s,s[un])}function xh(n,r){return n[zs]?n[Pr][ln]=r:n[zs]=r,n[Pr]=r,r}function Vd(n){for(;n;){n[nt]|=32;const r=Nu(n);if(Ln(n)&&!r)return n;n=r}return null}function Al(n,r,s,a=!0){const c=r[Mi];c.begin&&c.begin();try{bl(n,r,n.template,s)}catch(m){throw a&&Np(r,m),m}finally{c.end&&c.end()}}function Mh(n,r,s){sa(0),r(n,s)}function Mp(n){return n[xi]||(n[xi]=[])}function Rp(n){return n.cleanup||(n.cleanup=[])}function Np(n,r){const s=n[zr],a=s?s.get(wd,null):null;a&&a.handleError(r)}function Op(n,r,s,a,c){for(let h=0;h<s.length;){const m=s[h++],w=s[h++],C=r[m],N=n.data[m];null!==N.setInput?N.setInput(C,c,a,w):C[w]=c}}function vu(n,r,s){const a=fs(r,n);!function pa(n,r,s){n.setValue(r,s)}(n[jt],a,s)}function Rh(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?h=w:1==h?c=Ut(c,w):2==h&&(a=Ut(a,w+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function Ph(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(ir(h)),pr(h))for(let w=fr;w<h.length;w++){const C=h[w],N=C[Ie].firstChild;null!==N&&Ph(C[Ie],C,N,a)}const m=s.type;if(8&m)Ph(n,r,s.child,a);else if(32&m){const w=Pu(s,r);let C;for(;C=w();)a.push(C)}else if(16&m){const w=dc(r,s);if(Array.isArray(w))a.push(...w);else{const C=Nu(r[zn]);Ph(C[Ie],C,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class Sc{get rootNodes(){const r=this._lView,s=r[Ie];return Ph(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(r){this._lView[un]=r}get destroyed(){return 128==(128&this._lView[nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Rt];if(pr(r)){const s=r[Gs],a=s?s.indexOf(this):-1;a>-1&&(el(r,a),wr(s,a))}this._attachedToViewContainer=!1}tl(this._lView[Ie],this._lView)}onDestroy(r){kd(this._lView[Ie],this._lView,null,r)}markForCheck(){Vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[nt]&=-65}reattach(){this._lView[nt]|=64}detectChanges(){Al(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function En(n,r){To(n,r,r[jt],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=r}}class kp extends Sc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Al(r[Ie],r,r[un],!1)}checkNoChanges(){}get context(){return null}}class Nh extends yl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=en(r);return new Ac(s,this.ngModule)}}function wm(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class iv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Ee(a);const c=this.injector.get(r,Xf,a);return c!==Xf||s===Xf?c:this.parentInjector.get(r,s,a)}}class Ac extends Kf{get inputs(){return wm(this.componentDef.inputs)}get outputs(){return wm(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Gy(n){return n.map(tm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let h=(c=c||this.ngModule)instanceof mu?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new iv(r,h):r,w=m.get(Hg,null);if(null===w)throw new Me(407,!1);const C=m.get(ju,null),N=w.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",Y=a?function mp(n,r,s){return n.selectRootElement(r,s===Lt.ShadowDom)}(N,a,this.componentDef.encapsulation):Ou(N,U,function Lp(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(U)),fe=this.componentDef.onPush?288:272,be=Od(0,null,null,1,0,null,null,null,null,null),je=bc(null,be,null,fe,null,null,w,N,C,m,null);let dt,wt;gs(je);try{const Pt=this.componentDef;let Qt,ut=null;Pt.findHostDirectiveDefs?(Qt=[],ut=new Map,Pt.findHostDirectiveDefs(Pt,Qt,ut),Qt.push(Pt)):Qt=[Pt];const Tn=function Tm(n,r){const s=n[Ie],a=Hn;return n[a]=r,Ka(s,a,2,"#host",null)}(je,Y),ui=function sv(n,r,s,a,c,h,m,w){const C=c[Ie];!function Fp(n,r,s,a){for(const c of n)r.mergedAttrs=cn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Rh(r,r.mergedAttrs,!0),null!==s&&dd(a,s,r))}(a,n,r,m);const N=h.createRenderer(r,s),U=bc(c,pm(s),null,s.onPush?32:16,c[n.index],n,h,N,w||null,null,null);return C.firstCreatePass&&Fd(C,n,a.length-1),xh(c,U),c[n.index]=U}(Tn,Y,Pt,Qt,je,w,N);wt=Cs(be,Hn),Y&&function Up(n,r,s,a){if(a)Un(n,s,["ng-version",Wg.full]);else{const{attrs:c,classes:h}=function nm(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!Ma(c))break;c=h}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Un(n,s,c),h&&h.length>0&&ld(n,s,h.join(" "))}}(N,Pt,Y,a),void 0!==s&&function av(n,r,s){const a=n.projection=[];for(let c=0;c<r.length;c++){const h=s[c];a.push(null!=h?Array.from(h):null)}}(wt,this.ngContentSelectors,s),dt=function ov(n,r,s,a,c,h){const m=Ir(),w=c[Ie],C=qt(m,c);mm(w,c,m,s,null,a);for(let U=0;U<s.length;U++)Ti(Fi(c,w,m.directiveStart+U,m),c);ym(w,c,m),C&&Ti(C,c);const N=Fi(c,w,m.directiveStart+m.componentOffset,m);if(n[un]=c[un]=N,null!==h)for(const U of h)U(N,r);return Ah(w,m,n),N}(ui,Pt,Qt,ut,je,[Vp]),Pd(be,je,null)}finally{Ms()}return new Em(this.componentType,dt,xa(wt,je),je,wt)}}class Em extends zg{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new kp(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;Op(h[Ie],h,c,r,s),Ip(h,this._tNode.index)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Vp(){const n=Ir();re(Qe()[Ie],n)}function $d(n){let r=function bm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Fr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Me(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=Bd(n.inputs),m.declaredInputs=Bd(n.declaredInputs),m.outputs=Bd(n.outputs);const w=c.hostBindings;w&&Bp(n,w);const C=c.viewQuery,N=c.contentQueries;if(C&&xl(n,C),N&&Cm(n,N),ot(n.inputs,c.inputs),ot(n.declaredInputs,c.declaredInputs),ot(n.outputs,c.outputs),Fr(c)&&c.data.animation){const U=n.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const w=h[m];w&&w.ngInherit&&w(n),w===$d&&(s=!1)}}r=Object.getPrototypeOf(r)}!function $p(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=cn(c.hostAttrs,s=cn(s,c.hostAttrs))}}(a)}function Bd(n){return n===Xt?{}:n===Vt?[]:n}function xl(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Cm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function Bp(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Ml(n){return!!Gp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Gp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ra(n,r,s){return n[r]=s}function ys(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Mc(n,r,s,a){const c=ys(n,r,s);return ys(n,r+1,a)||c}function qp(n,r,s,a){const c=Qe();return ys(c,ns(),r)&&(hn(),ho(Rn(),c,n,r,s,a)),qp}function qu(n,r,s,a){return ys(n,ns(),s)?r+_e(s)+a:fn}function Ku(n,r,s,a,c,h){const w=Mc(n,function ts(){return Tt.lFrame.bindingIndex}(),s,c);return Gn(2),w?r+_e(s)+a+_e(c)+h:fn}function $h(n,r,s,a,c,h,m,w){const C=Qe(),N=hn(),U=n+Hn,Y=N.firstCreatePass?function Kp(n,r,s,a,c,h,m,w,C){const N=r.consts,U=Ka(r,n,4,m||null,Xi(N,w));Ld(r,s,U,Xi(N,C)),re(r,U);const Y=U.tView=Od(2,U,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N);return null!==r.queries&&(r.queries.template(r,U),Y.queries=r.queries.embeddedTView(U)),U}(U,N,C,r,s,a,c,h,m):N.data[U];ni(Y,!1);const fe=C[jt].createComment("");sl(N,C,fe,Y),Ti(fe,C),xh(C,C[U]=Im(fe,C,fe,Y)),rr(Y)&&gp(N,C,Y),null!=m&&Nd(C,Y,w)}function jh(n){return Oi(function Oo(){return Tt.lFrame.contextLView}(),Hn+n)}function zh(n,r,s){const a=Qe();return ys(a,ns(),r)&&Ho(hn(),Rn(),a,n,r,a[jt],s,!1),zh}function Pl(n,r,s,a,c){const m=c?"class":"style";Op(n,s,r.inputs[m],m,a)}function Nl(n,r,s,a){const c=Qe(),h=hn(),m=Hn+n,w=c[jt],C=h.firstCreatePass?function Zp(n,r,s,a,c,h){const m=r.consts,C=Ka(r,n,2,a,Xi(m,c));return Ld(r,s,C,Xi(m,h)),null!==C.attrs&&Rh(C,C.attrs,!1),null!==C.mergedAttrs&&Rh(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(m,h,c,r,s,a):h.data[m],N=c[m]=Ou(w,r,function j(){return Tt.lFrame.currentNamespace}()),U=rr(C);return ni(C,!0),dd(w,N,C),32!=(32&C.flags)&&sl(h,c,N,C),0===function Ss(){return Tt.lFrame.elementDepthCount}()&&Ti(N,c),function ya(){Tt.lFrame.elementDepthCount++}(),U&&(gp(h,c,C),Ah(h,C,c)),null!==a&&Nd(c,C),Nl}function Hd(){let n=Ir();ia()?no():(n=n.parent,ni(n,!1));const r=n;!function va(){Tt.lFrame.elementDepthCount--}();const s=hn();return s.firstCreatePass&&(re(s,n),Ii(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function pi(n){return 0!=(8&n.flags)}(r)&&Pl(s,r,Qe(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Kt(n){return 0!=(16&n.flags)}(r)&&Pl(s,r,Qe(),r.stylesWithoutHost,!1),Hd}function Yu(n,r,s,a){return Nl(n,r,s,a),Hd(),Yu}function Hh(n,r,s){const a=Qe(),c=hn(),h=n+Hn,m=c.firstCreatePass?function Yp(n,r,s,a,c){const h=r.consts,m=Xi(h,a),w=Ka(r,n,8,"ng-container",m);return null!==m&&Rh(w,m,!0),Ld(r,s,w,Xi(h,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(h,c,a,r,s):c.data[h];ni(m,!0);const w=a[h]=a[jt].createComment("");return sl(c,a,w,m),Ti(w,a),rr(m)&&(gp(c,a,m),Ah(c,m,a)),null!=s&&Nd(a,m),Hh}function Gh(){let n=Ir();const r=hn();return ia()?no():(n=n.parent,ni(n,!1)),r.firstCreatePass&&(re(r,n),Ii(n)&&r.queries.elementEnd(n)),Gh}function Qp(){return Qe()}function Xp(n){return!!n&&"function"==typeof n.then}function Jp(n){return!!n&&"function"==typeof n.subscribe}const Om=Jp;function eg(n,r,s,a){const c=Qe(),h=hn(),m=Ir();return function tg(n,r,s,a,c,h,m){const w=rr(a),N=n.firstCreatePass&&Rp(n),U=r[un],Y=Mp(r);let fe=!0;if(3&a.type||m){const dt=qt(a,r),wt=m?m(dt):dt,Pt=Y.length,Qt=m?Tn=>m(ir(Tn[a.index])):a.index;let ut=null;if(!m&&w&&(ut=function dv(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===a){const w=r[xi],C=c[h+2];return w.length>C?w[C]:null}"string"==typeof m&&(h+=2)}return null}(n,r,c,a.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=h,ut.__ngLastListenerFn__=h,fe=!1;else{h=Lm(a,r,U,h,!1);const Tn=s.listen(wt,c,h);Y.push(h,Tn),N&&N.push(c,Qt,Pt,Pt+1)}}else h=Lm(a,r,U,h,!1);const be=a.outputs;let je;if(fe&&null!==be&&(je=be[c])){const dt=je.length;if(dt)for(let wt=0;wt<dt;wt+=2){const ui=r[je[wt]][je[wt+1]].subscribe(h),Hi=Y.length;Y.push(h,ui),N&&N.push(c,a.index,Hi,-(Hi+1))}}}(h,c,c[jt],m,n,r,a),eg}function Wh(n,r,s,a){try{return Kr(6,r,s),!1!==s(a)}catch(c){return Np(n,c),!1}finally{Kr(7,r,s)}}function Lm(n,r,s,a,c){return function h(m){if(m===Function)return a;Vd(n.componentOffset>-1?wi(n.index,r):r);let C=Wh(r,s,a,m),N=h.__ngNextListenerFn__;for(;N;)C=Wh(r,s,N,m)&&C,N=N.__ngNextListenerFn__;return c&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function ng(n=1){return function Vr(n){return(Tt.lFrame.contextLView=function ko(n,r){for(;n>0;)r=r[Ri],n--;return r}(n,Tt.lFrame.contextLView))[un]}(n)}function Kh(n,r,s){return Zh(n,"",r,"",s),Kh}function Zh(n,r,s,a,c){const h=Qe(),m=qu(h,r,s,a);return m!==fn&&Ho(hn(),Rn(),h,n,m,h[jt],c,!1),Zh}function ig(n,r){return n<<17|r<<2}function Iu(n){return n>>17&32767}function og(n){return 2|n}function kl(n){return(131068&n)>>2}function Mr(n,r){return-131069&n|r<<2}function ag(n){return 1|n}function ug(n,r,s,a,c){const h=n[s+1],m=null===r;let w=a?Iu(h):kl(h),C=!1;for(;0!==w&&(!1===C||m);){const U=n[w+1];u0(n[w],r)&&(C=!0,n[w+1]=a?ag(U):og(U)),w=a?Iu(U):kl(U)}C&&(n[s+1]=a?og(h):ag(h))}function u0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&L(n,r)>=0}function Qh(n,r){return function Go(n,r,s,a){const c=Qe(),h=hn(),m=Gn(2);h.firstUpdatePass&&function Jh(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[ze()],m=function lg(n,r){return r>=n.expandoStartIndex}(n,s);(function Gd(n,r){return 0!=(n.flags&(r?8:16))})(h,a)&&null===r&&!m&&(r=!1),r=function _v(n,r,s,a){const c=function Io(n){const r=Tt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Vl(s=ef(null,n,r,s,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=ef(c,n,r,s,a),null===h){let C=function Iv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==kl(a))return n[Iu(a)]}(n,r,a);void 0!==C&&Array.isArray(C)&&(C=ef(null,n,r,C[1],a),C=Vl(C,r.attrs,a),function wv(n,r,s,a){n[Iu(s?r.classBindings:r.styleBindings)]=a}(n,r,a,C))}else h=function jm(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=Vl(a,n[h].hostAttrs,s);return Vl(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function o0(n,r,s,a,c,h){let m=h?r.classBindings:r.styleBindings,w=Iu(m),C=kl(m);n[a]=s;let U,N=!1;if(Array.isArray(s)?(U=s[1],(null===U||L(s,U)>0)&&(N=!0)):U=s,c)if(0!==C){const fe=Iu(n[w+1]);n[a+1]=ig(fe,w),0!==fe&&(n[fe+1]=Mr(n[fe+1],a)),n[w+1]=function sg(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=ig(w,0),0!==w&&(n[w+1]=Mr(n[w+1],a)),w=a;else n[a+1]=ig(C,0),0===w?w=a:n[C+1]=Mr(n[C+1],a),C=a;N&&(n[a+1]=og(n[a+1])),ug(n,U,a,!0),ug(n,U,a,!1),function a0(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&L(h,r)>=0&&(s[a+1]=ag(s[a+1]))}(r,U,n,a,h),m=ig(w,C),h?r.classBindings=m:r.styleBindings=m}(c,h,r,s,m,a)}}(h,n,m,a),r!==fn&&ys(c,m,r)&&function tf(n,r,s,a,c,h,m,w){if(!(3&r.type))return;const C=n.data,N=C[w+1],U=function s0(n){return 1==(1&n)}(N)?$l(C,r,s,c,kl(N),m):void 0;nf(U)||(nf(h)||function fv(n){return 2==(2&n)}(N)&&(h=$l(C,null,s,c,w,m)),function hc(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:fa.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=fa.Important),n.setStyle(s,a,c,h))}}(a,m,fs(ze(),s),c,h))}(h,h.data[ze()],c,c[jt],n,c[m+1]=function rf(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Le(Bi(n)))),n}(r,s),a,m)}(n,r,null,!0),Qh}function ef(n,r,s,a,c){let h=null;const m=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<m&&(h=r[w],a=Vl(a,h.hostAttrs,c),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function Vl(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),I(n,m,!!s||r[++h]))}return void 0===n?null:n}function $l(n,r,s,a,c,h){const m=null===r;let w;for(;c>0;){const C=n[c],N=Array.isArray(C),U=N?C[1]:C,Y=null===U;let fe=s[c+1];fe===fn&&(fe=Y?Vt:void 0);let be=Y?A(fe,a):U===a?fe:void 0;if(N&&!nf(be)&&(be=A(C,a)),nf(be)&&(w=be,m))return w;const je=n[c+1];c=m?Iu(je):kl(je)}if(null!==r){let C=h?r.residualClasses:r.residualStyles;null!=C&&(w=A(C,a))}return w}function nf(n){return void 0!==n}function hg(n,r=""){const s=Qe(),a=hn(),c=n+Hn,h=a.firstCreatePass?Ka(a,c,1,r,null):a.data[c],m=s[c]=function od(n,r){return n.createText(r)}(s[jt],r);sl(a,s,m,h),ni(h,!1)}function Wd(n){return sf("",n,""),Wd}function sf(n,r,s){const a=Qe(),c=qu(a,n,r,s);return c!==fn&&vu(a,ze(),c),sf}function Bl(n,r,s,a,c){const h=Qe(),m=Ku(h,n,r,s,a,c);return m!==fn&&vu(h,ze(),m),Bl}const Ya=void 0;var Av=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zl(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let qd={};function Qa(n){const r=function w0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Mv(r);if(s)return s;const a=r.split("-")[0];if(s=Mv(a),s)return s;if("en"===a)return Av;throw new Me(701,!1)}function xv(n){return Qa(n)[tn.PluralCase]}function Mv(n){return n in qd||(qd[n]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[n]),qd[n]}var tn=(()=>((tn=tn||{})[tn.LocaleId=0]="LocaleId",tn[tn.DayPeriodsFormat=1]="DayPeriodsFormat",tn[tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",tn[tn.DaysFormat=3]="DaysFormat",tn[tn.DaysStandalone=4]="DaysStandalone",tn[tn.MonthsFormat=5]="MonthsFormat",tn[tn.MonthsStandalone=6]="MonthsStandalone",tn[tn.Eras=7]="Eras",tn[tn.FirstDayOfWeek=8]="FirstDayOfWeek",tn[tn.WeekendRange=9]="WeekendRange",tn[tn.DateFormat=10]="DateFormat",tn[tn.TimeFormat=11]="TimeFormat",tn[tn.DateTimeFormat=12]="DateTimeFormat",tn[tn.NumberSymbols=13]="NumberSymbols",tn[tn.NumberFormats=14]="NumberFormats",tn[tn.CurrencyCode=15]="CurrencyCode",tn[tn.CurrencySymbol=16]="CurrencySymbol",tn[tn.CurrencyName=17]="CurrencyName",tn[tn.Currencies=18]="Currencies",tn[tn.Directionality=19]="Directionality",tn[tn.PluralCase=20]="PluralCase",tn[tn.ExtraData=21]="ExtraData",tn))();const Hl="en-US";let Jm=Hl;function py(n,r,s,a,c){if(n=ft(n),Array.isArray(n))for(let h=0;h<n.length;h++)py(n[h],r,s,a,c);else{const h=hn(),m=Qe();let w=vc(n)?n:ft(n.provide),C=_d(n);const N=Ir(),U=1048575&N.providerIndexes,Y=N.directiveStart,fe=N.providerIndexes>>20;if(vc(n)||!n.multi){const be=new Nn(C,c,El),je=gy(w,r,c?U:U+fe,Y);-1===je?(ca(ao(N,m),h,w),Eg(h,n,r.length),r.push(w),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(be),m.push(be)):(s[je]=be,m[je]=be)}else{const be=gy(w,r,U+fe,Y),je=gy(w,r,U,U+fe),wt=je>=0&&s[je];if(c&&!wt||!c&&!(be>=0&&s[be])){ca(ao(N,m),h,w);const Pt=function q0(n,r,s,a,c){const h=new Nn(n,s,El);return h.multi=[],h.index=r,h.componentProviders=0,d_(h,c,a&&!s),h}(c?W0:G0,s.length,c,a,C);!c&&wt&&(s[je].providerFactory=Pt),Eg(h,n,r.length,0),r.push(w),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),s.push(Pt),m.push(Pt)}else Eg(h,n,be>-1?be:je,d_(s[c?je:be],C,!c&&a));!c&&a&&wt&&s[je].componentProviders++}}}function Eg(n,r,s,a){const c=vc(r),h=function Bg(n){return!!n.useClass}(r);if(c||h){const C=(h?ft(r.useClass):r).prototype.ngOnDestroy;if(C){const N=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const U=N.indexOf(s);-1===U?N.push(s,[a,C]):N[U+1].push(a,C)}else N.push(s,C)}}}function d_(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function gy(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function G0(n,r,s,a){return my(this.multi,[])}function W0(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=Fi(s,s[Ie],this.providerFactory.index,a);h=w.slice(0,m),my(c,h);for(let C=m;C<w.length;C++)h.push(w[C])}else h=[],my(c,h);return h}function my(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function h_(n,r=[]){return s=>{s.providersResolver=(a,c)=>function H0(n,r,s){const a=hn();if(a.firstCreatePass){const c=Fr(n);py(s,a.data,a.blueprint,c,!0),py(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Yd{}class yy{}function f_(n,r){return new p_(n,r??null)}class p_ extends Yd{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nh(this);const a=Yn(r);this._bootstrapComponents=yu(a.bootstrap),this._r3Injector=op(r,s,[{provide:Yd,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],Le(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class vy extends yy{constructor(r){super(),this.moduleType=r}create(r){return new p_(this.moduleType,r)}}class K0 extends Yd{constructor(r,s,a){super(),this.componentFactoryResolver=new Nh(this),this.instance=null;const c=new Wf([...r,{provide:Yd,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],s||pl(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function _y(n,r,s=null){return new K0(n,r,s).injector}let Z0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=$g(0,s.type),c=a.length>0?_y([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=vn({token:n,providedIn:"environment",factory:()=>new n(q(mu))}),n})();function g_(n){n.getStandaloneInjector=r=>r.get(Z0).getOrCreateStandaloneInjector(n)}function J(n,r,s,a){return ai(Qe(),Nr(),n,r,s,a)}function we(n,r,s,a,c){return Br(Qe(),Nr(),n,r,s,a,c)}function us(n,r){const s=n[r];return s===fn?void 0:s}function ai(n,r,s,a,c,h){const m=r+s;return ys(n,m,c)?Ra(n,m+1,h?a.call(h,c):a(c)):us(n,m+1)}function Br(n,r,s,a,c,h,m){const w=r+s;return Mc(n,w,c,h)?Ra(n,w+2,m?a.call(m,c,h):a(c,h)):us(n,w+2)}function X0(n,r){const s=hn();let a;const c=n+Hn;s.firstCreatePass?(a=function fw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=Ni(a.type)),m=_n(El);try{const w=oo(!1),C=h();return oo(w),function Bh(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Qe(),c,C),C}finally{_n(m)}}function J0(n,r,s){const a=n+Hn,c=Qe(),h=Oi(c,a);return Dg(c,a)?ai(c,Nr(),r,h.transform,s,h):h.transform(s)}function eI(n,r,s,a){const c=n+Hn,h=Qe(),m=Oi(h,c);return Dg(h,c)?Br(h,Nr(),r,m.transform,s,a,m):m.transform(s,a)}function Dg(n,r){return n[Ie].data[r].pure}function w_(n){return r=>{setTimeout(n,void 0,r)}}const Ju=class yw extends R.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),m=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),h=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(h=w_(h),c&&(c=w_(c)),m&&(m=w_(m)));const w=super.subscribe({next:c,error:h,complete:m});return r instanceof Z.w0&&r.add(w),w}};function vw(){return this._results[Symbol.iterator]()}class E_{get changes(){return this._changes||(this._changes=new Ju)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=E_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=vw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Qr(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Su(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tg=(()=>{class n{}return n.__NG_ELEMENT_ID__=ww,n})();const _w=Tg,Iw=class extends _w{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tView,c=bc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[Es]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[hr];return null!==m&&(c[hr]=m.createEmbeddedView(a)),Pd(a,c,r),new Sc(c)}};function ww(){return wy(Ir(),Qe())}function wy(n,r){return 4&n.type?new Iw(r,n,xa(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ew,n})();function Ew(){return rI(Ir(),Qe())}const Dw=Ey,tI=class extends Dw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Os(this._hostTNode,this._hostLView);if(mr(r)){const s=Ps(r,this._hostLView),a=ht(r);return new uo(s[Ie].data[a+8],s)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=nI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const m=r.createEmbeddedView(s||{},h);return this.insert(m,c),m}createComponent(r,s,a,c,h){const m=r&&!function ha(n){return"function"==typeof n}(r);let w;if(m)w=s;else{const Y=s||{};w=Y.index,a=Y.injector,c=Y.projectableNodes,h=Y.environmentInjector||Y.ngModuleRef}const C=m?r:new Ac(en(r)),N=a||this.parentInjector;if(!h&&null==C.ngModule){const fe=(m?N:this.parentInjector).get(mu,null);fe&&(h=fe)}const U=C.create(N,c,void 0,h);return this.insert(U.hostView,w),U}insert(r,s){const a=r._lView,c=a[Ie];if(function _o(n){return pr(n[Rt])}(a)){const U=this.indexOf(r);if(-1!==U)this.detach(U);else{const Y=a[Rt],fe=new tI(Y,Y[xn],Y[Rt]);fe.detach(fe.indexOf(r))}}const h=this._adjustIndex(s),m=this._lContainer;!function ad(n,r,s,a){const c=fr+a,h=s.length;a>0&&(s[c-1][ln]=r),a<h-fr?(r[ln]=s[c],Ca(s,fr+a,r)):(s.push(r),r[ln]=null),r[Rt]=s;const m=r[Es];null!==m&&s!==m&&function Sf(n,r){const s=n[Ts];r[zn]!==r[Rt][Rt][zn]&&(n[Zi]=!0),null===s?n[Ts]=[r]:s.push(r)}(m,r);const w=r[hr];null!==w&&w.insertView(n),r[nt]|=64}(c,a,m,h);const w=sh(h,m),C=a[jt],N=nl(C,m[go]);return null!==N&&function Ag(n,r,s,a,c,h){a[Fe]=c,a[xn]=r,To(n,a,s,1,c,h)}(c,m[xn],C,a,N,w),r.attachToViewContainerRef(),Ca(D_(m),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=nI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=el(this._lContainer,s);a&&(wr(D_(this._lContainer),s),tl(a[Ie],a))}detach(r){const s=this._adjustIndex(r,-1),a=el(this._lContainer,s);return a&&null!=wr(D_(this._lContainer),s)?new Sc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function nI(n){return n[Gs]}function D_(n){return n[Gs]||(n[Gs]=[])}function rI(n,r){let s;const a=r[n.index];if(pr(a))s=a;else{let c;if(8&n.type)c=ir(a);else{const h=r[jt];c=h.createComment("");const m=qt(n,r);lu(h,nl(h,m),c,function rl(n,r){return n.nextSibling(r)}(h,m),!1)}r[n.index]=s=Im(a,r,c,n),xh(r,s)}return new tI(s,n,r)}class T_{constructor(r){this.queryList=r,this.matches=null}clone(){return new T_(this.queryList)}setDirty(){this.queryList.setDirty()}}class b_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new b_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==dI(r,s).matches&&this.queries[s].setDirty()}}class iI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class C_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new C_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class S_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new S_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,Tw(s,h)),this.matchTNodeWithReadOption(r,s,la(s,r,h,!1,!1))}else a===Tg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,la(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===vl||c===Ey||c===Tg&&4&s.type)this.addMatch(s.index,-2);else{const h=la(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Tw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Cw(n,r,s,a){return-1===s?function bw(n,r){return 11&n.type?xa(n,r):4&n.type?wy(n,r):null}(r,n):-2===s?function Sw(n,r,s){return s===vl?xa(r,n):s===Tg?wy(r,n):s===Ey?rI(r,n):void 0}(n,r,a):Fi(n,n[Ie],s,r)}function sI(n,r,s,a){const c=r[hr].queries[a];if(null===c.matches){const h=n.data,m=s.matches,w=[];for(let C=0;C<m.length;C+=2){const N=m[C];w.push(N<0?null:Cw(r,h[N],m[C+1],s.metadata.read))}c.matches=w}return c.matches}function A_(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const m=sI(n,r,c,s);for(let w=0;w<h.length;w+=2){const C=h[w];if(C>0)a.push(m[w/2]);else{const N=h[w+1],U=r[-C];for(let Y=fr;Y<U.length;Y++){const fe=U[Y];fe[Es]===fe[Rt]&&A_(fe[Ie],fe,N,a)}if(null!==U[Ts]){const Y=U[Ts];for(let fe=0;fe<Y.length;fe++){const be=Y[fe];A_(be[Ie],be,N,a)}}}}}return a}function oI(n){const r=Qe(),s=hn(),a=Tu();sa(a+1);const c=dI(s,a);if(n.dirty&&function Xs(n){return 4==(4&n[nt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?A_(s,r,a,[]):sI(s,r,c,a);n.reset(h,Ic),n.notifyOnChanges()}return!0}return!1}function aI(n,r,s,a){const c=hn();if(c.firstCreatePass){const h=Ir();(function lI(n,r,s){null===n.queries&&(n.queries=new C_),n.queries.track(new S_(r,s))})(c,new iI(r,s,a),h.index),function Mw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function cI(n,r,s){const a=new E_(4==(4&s));kd(n,r,a,a.destroy),null===r[hr]&&(r[hr]=new b_),r[hr].queries.push(new T_(a))}(c,Qe(),s)}function uI(){return function xw(n,r){return n[hr].queries[r].queryList}(Qe(),Tu())}function dI(n,r){return n.queries.getByIndex(r)}function hI(n,r){return wy(n,r)}function x_(n){return!!Yn(n)}function Ty(...n){}const MI=new Vn("Application Initializer");let by=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Ty,this.reject=Ty,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Xp(h))s.push(h);else if(Om(h)){const m=new Promise((w,C)=>{h.subscribe({complete:w,error:C})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(q(MI,8))},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RI=new Vn("AppId",{providedIn:"root",factory:function PI(){return`${O_()}${O_()}${O_()}`}});function O_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NI=new Vn("Platform Initializer"),Yw=new Vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Qw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Vn("LocaleId",{providedIn:"root",factory:()=>Ue(Cy,$e.Optional|$e.SkipSelf)||function Xw(){return typeof $localize<"u"&&$localize.locale||Hl}()}),Jw=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let tE=(()=>{class n{compileModuleSync(s){return new vy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=yu(Yn(s).declarations).reduce((m,w)=>{const C=en(w);return C&&m.push(new Ac(C)),m},[]);return new eE(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iE=(()=>Promise.resolve(0))();function k_(n){typeof Zone>"u"?iE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Xa{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ju(!1),this.onMicrotaskEmpty=new Ju(!1),this.onStable=new Ju(!1),this.onError=new Ju(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function sE(){let n=mn.requestAnimationFrame,r=mn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uE(n){const r=()=>{!function aE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,F_(n),n.isCheckStableRunning=!0,L_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),F_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,m,w)=>{try{return LI(n),s.invokeTask(c,h,m,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),FI(n)}},onInvoke:(s,a,c,h,m,w,C)=>{try{return LI(n),s.invoke(c,h,m,w,C)}finally{n.shouldCoalesceRunChangeDetection&&r(),FI(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,F_(n),L_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xa.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Xa.isInAngularZone())throw new Me(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,oE,Ty,Ty);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const oE={};function L_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function F_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function LI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FI(n){n._nesting--,L_(n)}class cE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ju,this.onMicrotaskEmpty=new Ju,this.onStable=new Ju,this.onError=new Ju}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const UI=new Vn(""),VI=new Vn("");let U_,lE=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,U_||(function dE(n){U_=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xa.assertNotInAngularZone(),k_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(q(Xa),q($I),q(VI))},n.\u0275prov=vn({token:n,factory:n.\u0275fac}),n})(),$I=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return U_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Uc=!1;let Gl=null;const BI=new Vn("AllowMultipleToken"),V_=new Vn("PlatformDestroyListeners"),jI=new Vn("appBootstrapListener");class pE{constructor(r,s){this.name=r,this.token=s}}function HI(n,r,s=[]){const a=`Platform: ${r}`,c=new Vn(a);return(h=[])=>{let m=$_();if(!m||m.injector.get(BI,!1)){const w=[...s,...h,{provide:c,useValue:!0}];n?n(w):function gE(n){if(Gl&&!Gl.get(BI,!1))throw new Me(400,!1);Gl=n;const r=n.get(WI);(function zI(n){const r=n.get(NI,null);r&&r.forEach(s=>s())})(n)}(function GI(n=[],r){return Tc.create({name:r,providers:[{provide:Hf,useValue:"platform"},{provide:V_,useValue:new Set([()=>Gl=null])},...n]})}(w,a))}return function yE(n){const r=$_();if(!r)throw new Me(401,!1);return r}()}}function $_(){return Gl?.get(WI)??null}let WI=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function KI(n,r){let s;return s="noop"===n?new cE:("zone.js"===n?void 0:n)||new Xa(r),s}(a?.ngZone,function qI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Xa,useValue:c}];return c.run(()=>{const m=Tc.create({providers:h,parent:this.injector,name:s.moduleType.name}),w=s.create(m),C=w.injector.get(wd,null);if(!C)throw new Me(402,!1);return c.runOutsideAngular(()=>{const N=c.onError.subscribe({next:U=>{C.handleError(U)}});w.onDestroy(()=>{Ay(this._modules,w),N.unsubscribe()})}),function ZI(n,r,s){try{const a=s();return Xp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(C,c,()=>{const N=w.injector.get(by);return N.runInitializers(),N.donePromise.then(()=>(function ey(n){sn(n,"Expected localeId to be defined"),"string"==typeof n&&(Jm=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Cy,Hl)||Hl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=YI({},a);return function hE(n,r,s){const a=new vy(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Sy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Me(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(V_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(q(Tc))},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function YI(n,r){return Array.isArray(r)?r.reduce(YI,n):{...n,...r}}let Sy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new Q.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),m=new Q.y(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Xa.assertNotInAngularZone(),k_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Xa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),N.unsubscribe()}});this.isStable=function We(...n){const r=(0,le.yG)(n),s=(0,le._6)(n,1/0),a=n;return a.length?1===a.length?(0,ye.Xf)(a[0]):(0,oe.J)(s)((0,Je.D)(a,r)):ae.E}(h,m.pipe(function xe(n={}){const{connector:r=(()=>new R.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m,w,C,N=0,U=!1,Y=!1;const fe=()=>{w?.unsubscribe(),w=void 0},be=()=>{fe(),m=C=void 0,U=Y=!1},je=()=>{const dt=m;be(),dt?.unsubscribe()};return(0,ne.e)((dt,wt)=>{N++,!Y&&!U&&fe();const Pt=C=C??r();wt.add(()=>{N--,0===N&&!Y&&!U&&(w=Ye(je,c))}),Pt.subscribe(wt),!m&&N>0&&(m=new te.Hp({next:Qt=>Pt.next(Qt),error:Qt=>{Y=!0,fe(),w=Ye(be,s,Qt),Pt.error(Qt)},complete:()=>{U=!0,fe(),w=Ye(be,a),Pt.complete()}}),(0,ye.Xf)(dt).subscribe(m))})(h)}}()))}bootstrap(s,a){const c=s instanceof Kf;if(!this._injector.get(by).done){!c&&li(s);throw new Me(405,Uc)}let m;m=c?s:this._injector.get(yl).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const w=function fE(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Yd),N=m.create(Tc.NULL,[],a||m.selector,w),U=N.location.nativeElement,Y=N.injector.get(UI,null);return Y?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),Ay(this.components,N),Y?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ay(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(jI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ay(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Me(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(q(Xa),q(mu),q(wd))},n.\u0275prov=vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ay(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let _E=(()=>{class n{}return n.__NG_ELEMENT_ID__=IE,n})();function IE(n){return function wE(n,r,s){if(hi(n)&&!s){const a=wi(n.index,r);return new Sc(a,a)}return 47&n.type?new Sc(r[zn],r):null}(Ir(),Qe(),16==(16&n))}class tw{constructor(){}supports(r){return Ml(r)}create(r){return new SE(r)}}const CE=(n,r)=>r;class SE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<rw(a,c,h)?s:a,w=rw(m,c,h),C=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const N=w-c,U=C-c;if(N!=U){for(let fe=0;fe<N;fe++){const be=fe<h.length?h[fe]:h[fe]=0,je=be+fe;U<=je&&je<N&&(h[fe]=be+1)}h[m.previousIndex]=U-N}}w!==C&&r(m,w,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ml(r))throw new Me(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],m=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,w),a=!0),s=s._next}else c=0,function Hp(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,w,m,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new AE(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new nw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class AE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class nw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new xE,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rw(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class iw{constructor(){}supports(r){return r instanceof Map||Gp(r)}create(){return new ME}}class ME{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gp(r)))throw new Me(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new RE(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class RE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sw(){return new G_([new tw])}let G_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||sw()),deps:[[n,new S,new Us]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Me(901,!1)}}return n.\u0275prov=vn({token:n,providedIn:"root",factory:sw}),n})();function ow(){return new W_([new iw])}let W_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||ow()),deps:[[n,new S,new Us]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Me(901,!1)}}return n.\u0275prov=vn({token:n,providedIn:"root",factory:ow}),n})();const OE=HI(null,"core",[]);let kE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(q(Sy))},n.\u0275mod=_s({type:n}),n.\u0275inj=kt({}),n})();function LE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Gt,Ze,H)=>{H.d(Ze,{Dx:()=>gn,b2:()=>Gi,q6:()=>kt});var R=H(6895),Z=H(8256);class Q extends R.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends Q{static makeCurrent(){(0,R.HT)(new oe)}onAndCancel(ie,K,ve){return ie.addEventListener(K,ve,!1),()=>{ie.removeEventListener(K,ve,!1)}}dispatchEvent(ie,K){ie.dispatchEvent(K)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,K){return(K=K||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,K){return"window"===K?window:"document"===K?ie:"body"===K?ie.body:null}getBaseHref(ie){const K=function ae(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==K?null:function Je(de){le=le||document.createElement("a"),le.setAttribute("href",de);const ie=le.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(K)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,R.Mx)(document.cookie,ie)}}let le,ye=null;const We=new Z.OlP("TRANSITION_ID"),ne=[{provide:Z.ip1,useFactory:function te(de,ie,K){return()=>{K.get(Z.CZH).donePromise.then(()=>{const ve=(0,R.q)(),Oe=ie.querySelectorAll(`style[ng-transition="${de}"]`);for(let qe=0;qe<Oe.length;qe++)ve.remove(Oe[qe])})}},deps:[We,R.K0,Z.zs3],multi:!0}];let Ye=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(K){return new(K||de)},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();const ee=new Z.OlP("EventManagerPlugins");let ot=(()=>{class de{constructor(K,ve){this._zone=ve,this._eventNameToPlugin=new Map,K.forEach(Oe=>{Oe.manager=this}),this._plugins=K.slice().reverse()}addEventListener(K,ve,Oe){return this._findPluginFor(ve).addEventListener(K,ve,Oe)}addGlobalEventListener(K,ve,Oe){return this._findPluginFor(ve).addGlobalEventListener(K,ve,Oe)}getZone(){return this._zone}_findPluginFor(K){const ve=this._eventNameToPlugin.get(K);if(ve)return ve;const Oe=this._plugins;for(let qe=0;qe<Oe.length;qe++){const Lt=Oe[qe];if(Lt.supports(K))return this._eventNameToPlugin.set(K,Lt),Lt}throw new Error(`No event manager plugin found for event ${K}`)}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(ee),Z.LFG(Z.R0b))},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();class Le{constructor(ie){this._doc=ie}addGlobalEventListener(ie,K,ve){const Oe=(0,R.q)().getGlobalEventTarget(this._doc,ie);if(!Oe)throw new Error(`Unsupported event target ${Oe} for event ${K}`);return this.addEventListener(Oe,K,ve)}}let Ut=(()=>{class de{constructor(){this.usageCount=new Map}addStyles(K){for(const ve of K)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(K){for(const ve of K)0===this.changeUsageCount(ve,-1)&&this.onStyleRemoved(ve)}onStyleRemoved(K){}onStyleAdded(K){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(K,ve){const Oe=this.usageCount;let qe=Oe.get(K)??0;return qe+=ve,qe>0?Oe.set(K,qe):Oe.delete(K),qe}ngOnDestroy(){for(const K of this.getAllStyles())this.onStyleRemoved(K);this.usageCount.clear()}}return de.\u0275fac=function(K){return new(K||de)},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})(),Et=(()=>{class de extends Ut{constructor(K){super(),this.doc=K,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(K){for(const ve of this.hostNodes)this.addStyleToHost(ve,K)}onStyleRemoved(K){const ve=this.styleRef;ve.get(K)?.forEach(qe=>qe.remove()),ve.delete(K)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(K){this.hostNodes.add(K);for(const ve of this.getAllStyles())this.addStyleToHost(K,ve)}removeHost(K){this.hostNodes.delete(K)}addStyleToHost(K,ve){const Oe=this.doc.createElement("style");Oe.textContent=ve,K.appendChild(Oe);const qe=this.styleRef.get(ve);qe?qe.push(Oe):this.styleRef.set(ve,[Oe])}resetHostNodes(){const K=this.hostNodes;K.clear(),K.add(this.doc.head)}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(R.K0))},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();const Bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ft=/%COMP%/g,Re=new Z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function It(de,ie){return ie.flat(100).map(K=>K.replace(ft,de))}function Ne(de){return ie=>{if("__ngUnwrap__"===ie)return de;!1===de(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let at=(()=>{class de{constructor(K,ve,Oe,qe){this.eventManager=K,this.sharedStylesHost=ve,this.appId=Oe,this.removeStylesOnCompDestory=qe,this.rendererByCompId=new Map,this.defaultRenderer=new pe(K)}createRenderer(K,ve){if(!K||!ve)return this.defaultRenderer;const Oe=this.getOrCreateRenderer(K,ve);return Oe instanceof Dt?Oe.applyToHost(K):Oe instanceof Ve&&Oe.applyStyles(),Oe}getOrCreateRenderer(K,ve){const Oe=this.rendererByCompId;let qe=Oe.get(ve.id);if(!qe){const Lt=this.eventManager,Xt=this.sharedStylesHost,Vt=this.removeStylesOnCompDestory;switch(ve.encapsulation){case Z.ifc.Emulated:qe=new Dt(Lt,Xt,ve,this.appId,Vt);break;case Z.ifc.ShadowDom:return new tt(Lt,Xt,K,ve);default:qe=new Ve(Lt,Xt,ve,Vt)}qe.onDestroy=()=>Oe.delete(ve.id),Oe.set(ve.id,qe)}return qe}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(ot),Z.LFG(Et),Z.LFG(Z.AFp),Z.LFG(Re))},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();class pe{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,K){return K?document.createElementNS(Bt[K]||K,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,K){(Ge(ie)?ie.content:ie).appendChild(K)}insertBefore(ie,K,ve){ie&&(Ge(ie)?ie.content:ie).insertBefore(K,ve)}removeChild(ie,K){ie&&ie.removeChild(K)}selectRootElement(ie,K){let ve="string"==typeof ie?document.querySelector(ie):ie;if(!ve)throw new Error(`The selector "${ie}" did not match any elements`);return K||(ve.textContent=""),ve}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,K,ve,Oe){if(Oe){K=Oe+":"+K;const qe=Bt[Oe];qe?ie.setAttributeNS(qe,K,ve):ie.setAttribute(K,ve)}else ie.setAttribute(K,ve)}removeAttribute(ie,K,ve){if(ve){const Oe=Bt[ve];Oe?ie.removeAttributeNS(Oe,K):ie.removeAttribute(`${ve}:${K}`)}else ie.removeAttribute(K)}addClass(ie,K){ie.classList.add(K)}removeClass(ie,K){ie.classList.remove(K)}setStyle(ie,K,ve,Oe){Oe&(Z.JOm.DashCase|Z.JOm.Important)?ie.style.setProperty(K,ve,Oe&Z.JOm.Important?"important":""):ie.style[K]=ve}removeStyle(ie,K,ve){ve&Z.JOm.DashCase?ie.style.removeProperty(K):ie.style[K]=""}setProperty(ie,K,ve){ie[K]=ve}setValue(ie,K){ie.nodeValue=K}listen(ie,K,ve){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,K,Ne(ve)):this.eventManager.addEventListener(ie,K,Ne(ve))}}function Ge(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class tt extends pe{constructor(ie,K,ve,Oe){super(ie),this.sharedStylesHost=K,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qe=It(Oe.id,Oe.styles);for(const Lt of qe){const Xt=document.createElement("style");Xt.textContent=Lt,this.shadowRoot.appendChild(Xt)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}appendChild(ie,K){return super.appendChild(this.nodeOrShadowRoot(ie),K)}insertBefore(ie,K,ve){return super.insertBefore(this.nodeOrShadowRoot(ie),K,ve)}removeChild(ie,K){return super.removeChild(this.nodeOrShadowRoot(ie),K)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ve extends pe{constructor(ie,K,ve,Oe,qe=ve.id){super(ie),this.sharedStylesHost=K,this.removeStylesOnCompDestory=Oe,this.rendererUsageCount=0,this.styles=It(qe,ve.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Dt extends Ve{constructor(ie,K,ve,Oe,qe){const Lt=Oe+"-"+ve.id;super(ie,K,ve,qe,Lt),this.contentAttr=function _e(de){return"_ngcontent-%COMP%".replace(ft,de)}(Lt),this.hostAttr=function He(de){return"_nghost-%COMP%".replace(ft,de)}(Lt)}applyToHost(ie){this.applyStyles(),this.setAttribute(ie,this.hostAttr,"")}createElement(ie,K){const ve=super.createElement(ie,K);return super.setAttribute(ve,this.contentAttr,""),ve}}let Ot=(()=>{class de extends Le{constructor(K){super(K)}supports(K){return!0}addEventListener(K,ve,Oe){return K.addEventListener(ve,Oe,!1),()=>this.removeEventListener(K,ve,Oe)}removeEventListener(K,ve,Oe){return K.removeEventListener(ve,Oe)}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(R.K0))},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();const pn=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let Nt=(()=>{class de extends Le{constructor(K){super(K)}supports(K){return null!=de.parseEventName(K)}addEventListener(K,ve,Oe){const qe=de.parseEventName(ve),Lt=de.eventCallback(qe.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,R.q)().onAndCancel(K,qe.domEventName,Lt))}static parseEventName(K){const ve=K.toLowerCase().split("."),Oe=ve.shift();if(0===ve.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const qe=de._normalizeKey(ve.pop());let Lt="",Xt=ve.indexOf("code");if(Xt>-1&&(ve.splice(Xt,1),Lt="code."),pn.forEach(Si=>{const ci=ve.indexOf(Si);ci>-1&&(ve.splice(ci,1),Lt+=Si+".")}),Lt+=qe,0!=ve.length||0===qe.length)return null;const Vt={};return Vt.domEventName=Oe,Vt.fullKey=Lt,Vt}static matchEventFullKeyCode(K,ve){let Oe=xt[K.key]||K.key,qe="";return ve.indexOf("code.")>-1&&(Oe=K.code,qe="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),pn.forEach(Lt=>{Lt!==Oe&&(0,Zt[Lt])(K)&&(qe+=Lt+".")}),qe+=Oe,qe===ve)}static eventCallback(K,ve,Oe){return qe=>{de.matchEventFullKeyCode(qe,K)&&Oe.runGuarded(()=>ve(qe))}}static _normalizeKey(K){return"esc"===K?"escape":K}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(R.K0))},de.\u0275prov=Z.Yz7({token:de,factory:de.\u0275fac}),de})();const kt=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:R.bD},{provide:Z.g9A,useValue:function br(){oe.makeCurrent()},multi:!0},{provide:R.K0,useFactory:function vn(){return(0,Z.RDi)(document),document},deps:[]}]),bn=new Z.OlP(""),ur=[{provide:Z.rWj,useClass:class xe{addToWindow(ie){Z.dqk.getAngularTestability=(ve,Oe=!0)=>{const qe=ie.findTestabilityInTree(ve,Oe);if(null==qe)throw new Error("Could not find testability for element.");return qe},Z.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(ve=>{const Oe=Z.dqk.getAllAngularTestabilities();let qe=Oe.length,Lt=!1;const Xt=function(Vt){Lt=Lt||Vt,qe--,0==qe&&ve(Lt)};Oe.forEach(function(Vt){Vt.whenStable(Xt)})})}findTestabilityInTree(ie,K,ve){return null==K?null:ie.getTestability(K)??(ve?(0,R.q)().isShadowRoot(K)?this.findTestabilityInTree(ie,K.host,!0):this.findTestabilityInTree(ie,K.parentElement,!0):null)}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],Xn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function jr(){return new Z.qLn},deps:[]},{provide:ee,useClass:Ot,multi:!0,deps:[R.K0,Z.R0b,Z.Lbi]},{provide:ee,useClass:Nt,multi:!0,deps:[R.K0]},{provide:at,useClass:at,deps:[ot,Et,Z.AFp,Re]},{provide:Z.FYo,useExisting:at},{provide:Ut,useExisting:Et},{provide:Et,useClass:Et,deps:[R.K0]},{provide:ot,useClass:ot,deps:[ee,Z.R0b]},{provide:R.JF,useClass:Ye,deps:[]},[]];let Gi=(()=>{class de{constructor(K){}static withServerTransition(K){return{ngModule:de,providers:[{provide:Z.AFp,useValue:K.appId},{provide:We,useExisting:Z.AFp},ne]}}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(bn,12))},de.\u0275mod=Z.oAB({type:de}),de.\u0275inj=Z.cJS({providers:[...Xn,...ur],imports:[R.ez,Z.hGG]}),de})(),gn=(()=>{class de{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}}return de.\u0275fac=function(K){return new(K||de)(Z.LFG(R.K0))},de.\u0275prov=Z.Yz7({token:de,factory:function(K){let ve=null;return ve=K?new K:function Wr(){return new gn((0,Z.LFG)(R.K0))}(),ve},providedIn:"root"}),de})();typeof window<"u"&&window},824:(Gt,Ze,H)=>{H.d(Ze,{gz:()=>Ur,F0:()=>$r,rH:()=>Li,Bz:()=>ba,lC:()=>gr});var R=H(8256),Z=H(8996),Q=H(7669);function oe(...y){const v=(0,Q.yG)(y);return(0,Z.D)(y,v)}var ye=H(1135),ae=H(6805),le=H(9751),Je=H(4742),We=H(4671),te=H(3268),ne=H(1810),xe=H(5403),Ye=H(9672);function ee(...y){const v=(0,Q.yG)(y),p=(0,Q.jO)(y),{args:I,keys:A}=(0,Je.D)(y);if(0===I.length)return(0,Z.D)([],v);const L=new le.y(function ot(y,v,p=We.y){return I=>{Le(v,()=>{const{length:A}=y,L=new Array(A);let $=A,ce=A;for(let ke=0;ke<A;ke++)Le(v,()=>{const mt=(0,Z.D)(y[ke],v);let et=!1;mt.subscribe((0,xe.x)(I,yn=>{L[ke]=yn,et||(et=!0,ce--),ce||I.next(p(L.slice()))},()=>{--$||I.complete()}))},I)},I)}}(I,v,A?$=>(0,ne.n)(A,$):We.y));return p?L.pipe((0,te.Z)(p)):L}function Le(y,v,p){y?(0,Ye.f)(p,y,v):v()}var Ut=H(8189);function Bt(...y){return function Et(){return(0,Ut.J)(1)}()((0,Z.D)(y,(0,Q.yG)(y)))}var ft=H(8421);function rt(y){return new le.y(v=>{(0,ft.Xf)(y()).subscribe(v)})}var it=H(9635),st=H(576);function yt(y,v){const p=(0,st.m)(y)?y:()=>y,I=A=>A.error(p());return new le.y(v?A=>v.schedule(I,0,A):I)}var Me=H(515),Re=H(727),_e=H(4482);function He(){return(0,_e.e)((y,v)=>{let p=null;y._refCount++;const I=(0,xe.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(p=null);const A=y._connection,L=p;p=null,A&&(!L||A===L)&&A.unsubscribe(),v.unsubscribe()});y.subscribe(I),I.closed||(p=y.connect())})}class It extends le.y{constructor(v,p){super(),this.source=v,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Re.w0;const p=this.getSubject();v.add(this.source.subscribe((0,xe.x)(p,void 0,()=>{this._teardown(),p.complete()},I=>{this._teardown(),p.error(I)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Re.w0.EMPTY)}return v}refCount(){return He()(this)}}var Ne=H(7579),at=H(6895),pe=H(4004);function me(y,v){return(0,_e.e)((p,I)=>{let A=null,L=0,$=!1;const ce=()=>$&&!A&&I.complete();p.subscribe((0,xe.x)(I,ke=>{A?.unsubscribe();let mt=0;const et=L++;(0,ft.Xf)(y(ke,et)).subscribe(A=(0,xe.x)(I,yn=>I.next(v?v(ke,yn,et,mt++):yn),()=>{A=null,ce()}))},()=>{$=!0,ce()}))})}function Pe(y){return y<=0?()=>Me.E:(0,_e.e)((v,p)=>{let I=0;v.subscribe((0,xe.x)(p,A=>{++I<=y&&(p.next(A),y<=I&&p.complete())}))})}function tt(y,v){return(0,_e.e)((p,I)=>{let A=0;p.subscribe((0,xe.x)(I,L=>y.call(v,L,A++)&&I.next(L)))})}var Ve=H(5577);function Dt(y){return(0,_e.e)((v,p)=>{let I=!1;v.subscribe((0,xe.x)(p,A=>{I=!0,p.next(A)},()=>{I||p.next(y),p.complete()}))})}function Ot(y=pn){return(0,_e.e)((v,p)=>{let I=!1;v.subscribe((0,xe.x)(p,A=>{I=!0,p.next(A)},()=>I?p.complete():p.error(y())))})}function pn(){return new ae.K}function xt(y,v){const p=arguments.length>=2;return I=>I.pipe(y?tt((A,L)=>y(A,L,I)):We.y,Pe(1),p?Dt(v):Ot(()=>new ae.K))}function Zt(y,v){return(0,st.m)(v)?(0,Ve.z)(y,v,1):(0,Ve.z)(y,1)}var Nt=H(8505);function Jt(y){return(0,_e.e)((v,p)=>{let L,I=null,A=!1;I=v.subscribe((0,xe.x)(p,void 0,void 0,$=>{L=(0,ft.Xf)(y($,Jt(y)(v))),I?(I.unsubscribe(),I=null,L.subscribe(p)):A=!0})),A&&(I.unsubscribe(),I=null,L.subscribe(p))})}function sn(y,v){return(0,_e.e)(function Rr(y,v,p,I,A){return(L,$)=>{let ce=p,ke=v,mt=0;L.subscribe((0,xe.x)($,et=>{const yn=mt++;ke=ce?y(ke,et,yn):(ce=!0,et),I&&$.next(ke)},A&&(()=>{ce&&$.next(ke),$.complete()})))}}(y,v,arguments.length>=2,!0))}function gt(y){return y<=0?()=>Me.E:(0,_e.e)((v,p)=>{let I=[];v.subscribe((0,xe.x)(p,A=>{I.push(A),y<I.length&&I.shift()},()=>{for(const A of I)p.next(A);p.complete()},void 0,()=>{I=null}))})}function an(y,v){const p=arguments.length>=2;return I=>I.pipe(y?tt((A,L)=>y(A,L,I)):We.y,gt(1),p?Dt(v):Ot(()=>new ae.K))}function vn(y){return(0,_e.e)((v,p)=>{try{v.subscribe(p)}finally{p.add(y)}})}var ar=H(1481);const kt="primary",bn=Symbol("RouteTitle");class ur{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const p=this.params[v];return Array.isArray(p)?p[0]:p}return null}getAll(v){if(this.has(v)){const p=this.params[v];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function Xn(y){return new ur(y)}function Gi(y,v,p){const I=p.path.split("/");if(I.length>y.length||"full"===p.pathMatch&&(v.hasChildren()||I.length<y.length))return null;const A={};for(let L=0;L<I.length;L++){const $=I[L],ce=y[L];if($.startsWith(":"))A[$.substring(1)]=ce;else if($!==ce.path)return null}return{consumed:y.slice(0,I.length),posParams:A}}function Dr(y,v){const p=y?Object.keys(y):void 0,I=v?Object.keys(v):void 0;if(!p||!I||p.length!=I.length)return!1;let A;for(let L=0;L<p.length;L++)if(A=p[L],!Fn(y[A],v[A]))return!1;return!0}function Fn(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const p=[...y].sort(),I=[...v].sort();return p.every((A,L)=>I[L]===A)}return y===v}function Wr(y){return Array.prototype.concat.apply([],y)}function gn(y){return y.length>0?y[y.length-1]:null}function $e(y,v){for(const p in y)y.hasOwnProperty(p)&&v(y[p],p)}function Jn(y){return(0,R.CqO)(y)?y:(0,R.QGY)(y)?(0,Z.D)(Promise.resolve(y)):oe(y)}const nr=!1,_n={exact:function Mn(y,v,p){if(!Wt(y.segments,v.segments)||!cr(y.segments,v.segments,p)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const I in v.children)if(!y.children[I]||!Mn(y.children[I],v.children[I],p))return!1;return!0},subset:Cn},Kn={exact:function mn(y,v){return Dr(y,v)},subset:function Ci(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(p=>Fn(y[p],v[p]))},ignored:()=>!0};function Zn(y,v,p){return _n[p.paths](y.root,v.root,p.matrixParams)&&Kn[p.queryParams](y.queryParams,v.queryParams)&&!("exact"===p.fragment&&y.fragment!==v.fragment)}function Cn(y,v,p){return Lr(y,v,v.segments,p)}function Lr(y,v,p,I){if(y.segments.length>p.length){const A=y.segments.slice(0,p.length);return!(!Wt(A,p)||v.hasChildren()||!cr(A,p,I))}if(y.segments.length===p.length){if(!Wt(y.segments,p)||!cr(y.segments,p,I))return!1;for(const A in v.children)if(!y.children[A]||!Cn(y.children[A],v.children[A],I))return!1;return!0}{const A=p.slice(0,y.segments.length),L=p.slice(y.segments.length);return!!(Wt(y.segments,A)&&cr(y.segments,A,I)&&y.children[kt])&&Lr(y.children[kt],v,L,I)}}function cr(y,v,p){return v.every((I,A)=>Kn[p](y[A].parameters,I.parameters))}class pt{constructor(v=new Se([],{}),p={},I=null){this.root=v,this.queryParams=p,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return q.serialize(this)}}class Se{constructor(v,p){this.segments=v,this.children=p,this.parent=null,$e(p,(I,A)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class vt{constructor(v,p){this.path=v,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return Oe(this)}}function Wt(y,v){return y.length===v.length&&y.every((p,I)=>p.path===v[I].path)}let Sn=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:function(){return new X},providedIn:"root"}),y})();class X{parse(v){const p=new qr(v);return new pt(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(v){const p=`/${Ue(v.root,!0)}`,I=function Lt(y){const v=Object.keys(y).map(p=>{const I=y[p];return Array.isArray(I)?I.map(A=>`${_t(p)}=${_t(A)}`).join("&"):`${_t(p)}=${_t(I)}`}).filter(p=>!!p);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${p}${I}${"string"==typeof v.fragment?`#${function de(y){return encodeURI(y)}(v.fragment)}`:""}`}}const q=new X;function se(y){return y.segments.map(v=>Oe(v)).join("/")}function Ue(y,v){if(!y.hasChildren())return se(y);if(v){const p=y.children[kt]?Ue(y.children[kt],!1):"",I=[];return $e(y.children,(A,L)=>{L!==kt&&I.push(`${L}:${Ue(A,!1)}`)}),I.length>0?`${p}(${I.join("//")})`:p}{const p=function rn(y,v){let p=[];return $e(y.children,(I,A)=>{A===kt&&(p=p.concat(v(I,A)))}),$e(y.children,(I,A)=>{A!==kt&&(p=p.concat(v(I,A)))}),p}(y,(I,A)=>A===kt?[Ue(y.children[kt],!1)]:[`${A}:${Ue(I,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[kt]?`${se(y)}/${p[0]}`:`${se(y)}/(${p.join("//")})`}}function Ee(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _t(y){return Ee(y).replace(/%3B/gi,";")}function ie(y){return Ee(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(y){return decodeURIComponent(y)}function ve(y){return K(y.replace(/\+/g,"%20"))}function Oe(y){return`${ie(y.path)}${function qe(y){return Object.keys(y).map(v=>`;${ie(v)}=${ie(y[v])}`).join("")}(y.parameters)}`}const Xt=/^[^\/()?;=#]+/;function Vt(y){const v=y.match(Xt);return v?v[0]:""}const Si=/^[^=?&#]+/,cs=/^[^&#]+/;class qr{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(v.length>0||Object.keys(p).length>0)&&(I[kt]=new Se(v,p)),I}parseSegment(){const v=Vt(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new R.vHH(4009,nr);return this.capture(v),new vt(K(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const p=Vt(this.remaining);if(!p)return;this.capture(p);let I="";if(this.consumeOptional("=")){const A=Vt(this.remaining);A&&(I=A,this.capture(I))}v[K(p)]=K(I)}parseQueryParam(v){const p=function ci(y){const v=y.match(Si);return v?v[0]:""}(this.remaining);if(!p)return;this.capture(p);let I="";if(this.consumeOptional("=")){const $=function vs(y){const v=y.match(cs);return v?v[0]:""}(this.remaining);$&&(I=$,this.capture(I))}const A=ve(p),L=ve(I);if(v.hasOwnProperty(A)){let $=v[A];Array.isArray($)||($=[$],v[A]=$),$.push(L)}else v[A]=L}parseParens(v){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Vt(this.remaining),A=this.remaining[I.length];if("/"!==A&&")"!==A&&";"!==A)throw new R.vHH(4010,nr);let L;I.indexOf(":")>-1?(L=I.slice(0,I.indexOf(":")),this.capture(L),this.capture(":")):v&&(L=kt);const $=this.parseChildren();p[L]=1===Object.keys($).length?$[kt]:new Se([],$),this.consumeOptional("//")}return p}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new R.vHH(4011,nr)}}function _i(y){return y.segments.length>0?new Se([],{[kt]:y}):y}function Wi(y){const v={};for(const I of Object.keys(y.children)){const L=Wi(y.children[I]);(L.segments.length>0||L.hasChildren())&&(v[I]=L)}return function Bs(y){if(1===y.numberOfChildren&&y.children[kt]){const v=y.children[kt];return new Se(y.segments.concat(v.segments),v.children)}return y}(new Se(y.segments,v))}function Ai(y){return y instanceof pt}const lr=!1;function Tr(y,v,p,I,A){if(0===p.length)return en(v.root,v.root,v.root,I,A);const L=function li(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new _r(!0,0,y);let v=0,p=!1;const I=y.reduce((A,L,$)=>{if("object"==typeof L&&null!=L){if(L.outlets){const ce={};return $e(L.outlets,(ke,mt)=>{ce[mt]="string"==typeof ke?ke.split("/"):ke}),[...A,{outlets:ce}]}if(L.segmentPath)return[...A,L.segmentPath]}return"string"!=typeof L?[...A,L]:0===$?(L.split("/").forEach((ce,ke)=>{0==ke&&"."===ce||(0==ke&&""===ce?p=!0:".."===ce?v++:""!=ce&&A.push(ce))}),A):[...A,L]},[]);return new _r(p,v,I)}(p);return L.toRoot()?en(v.root,v.root,new Se([],{}),I,A):function $(ke){const mt=function ue(y,v,p,I){if(y.isAbsolute)return new Yn(v.root,!0,0);if(-1===I)return new Yn(p,p===v.root,0);return function Te(y,v,p){let I=y,A=v,L=p;for(;L>A;){if(L-=A,I=I.parent,!I)throw new R.vHH(4005,lr&&"Invalid number of '../'");A=I.segments.length}return new Yn(I,!1,A-L)}(p,I+(Is(y.commands[0])?0:1),y.numberOfDoubleDots)}(L,v,y.snapshot?._urlSegment,ke),et=mt.processChildren?nt(mt.segmentGroup,mt.index,L.commands):Ie(mt.segmentGroup,mt.index,L.commands);return en(v.root,mt.segmentGroup,et,I,A)}(y.snapshot?._lastPathIndex)}function Is(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function qi(y){return"object"==typeof y&&null!=y&&y.outlets}function en(y,v,p,I,A){let $,L={};I&&$e(I,(ke,mt)=>{L[mt]=Array.isArray(ke)?ke.map(et=>`${et}`):`${ke}`}),$=y===v?p:dr(y,v,p);const ce=_i(Wi($));return new pt(ce,L,A)}function dr(y,v,p){const I={};return $e(y.children,(A,L)=>{I[L]=A===v?p:dr(A,v,p)}),new Se(y.segments,I)}class _r{constructor(v,p,I){if(this.isAbsolute=v,this.numberOfDoubleDots=p,this.commands=I,v&&I.length>0&&Is(I[0]))throw new R.vHH(4003,lr&&"Root segment cannot have matrix parameters");const A=I.find(qi);if(A&&A!==gn(I))throw new R.vHH(4004,lr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(v,p,I){this.segmentGroup=v,this.processChildren=p,this.index=I}}function Ie(y,v,p){if(y||(y=new Se([],{})),0===y.segments.length&&y.hasChildren())return nt(y,v,p);const I=function Rt(y,v,p){let I=0,A=v;const L={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(I>=p.length)return L;const $=y.segments[A],ce=p[I];if(qi(ce))break;const ke=`${ce}`,mt=I<p.length-1?p[I+1]:null;if(A>0&&void 0===ke)break;if(ke&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!xi(ke,mt,$))return L;I+=2}else{if(!xi(ke,{},$))return L;I++}A++}return{match:!0,pathIndex:A,commandIndex:I}}(y,v,p),A=p.slice(I.commandIndex);if(I.match&&I.pathIndex<y.segments.length){const L=new Se(y.segments.slice(0,I.pathIndex),{});return L.children[kt]=new Se(y.segments.slice(I.pathIndex),y.children),nt(L,0,A)}return I.match&&0===A.length?new Se(y.segments,{}):I.match&&!y.hasChildren()?ln(y,v,p):I.match?nt(y,0,A):ln(y,v,p)}function nt(y,v,p){if(0===p.length)return new Se(y.segments,{});{const I=function Fe(y){return qi(y[0])?y[0].outlets:{[kt]:y}}(p),A={};return!I[kt]&&y.children[kt]&&1===y.numberOfChildren&&0===y.children[kt].segments.length?nt(y.children[kt],v,p):($e(I,(L,$)=>{"string"==typeof L&&(L=[L]),null!==L&&(A[$]=Ie(y.children[$],v,L))}),$e(y.children,(L,$)=>{void 0===I[$]&&(A[$]=L)}),new Se(y.segments,A))}}function ln(y,v,p){const I=y.segments.slice(0,v);let A=0;for(;A<p.length;){const L=p[A];if(qi(L)){const ke=dn(L.outlets);return new Se(I,ke)}if(0===A&&Is(p[0])){I.push(new vt(y.segments[v].path,xn(p[0]))),A++;continue}const $=qi(L)?L.outlets[kt]:`${L}`,ce=A<p.length-1?p[A+1]:null;$&&ce&&Is(ce)?(I.push(new vt($,xn(ce))),A+=2):(I.push(new vt($,{})),A++)}return new Se(I,{})}function dn(y){const v={};return $e(y,(p,I)=>{"string"==typeof p&&(p=[p]),null!==p&&(v[I]=ln(new Se([],{}),0,p))}),v}function xn(y){const v={};return $e(y,(p,I)=>v[I]=`${p}`),v}function xi(y,v,p){return y==p.path&&Dr(v,p.parameters)}const un="imperative";class zr{constructor(v,p){this.id=v,this.url=p}}class Mi extends zr{constructor(v,p,I="imperative",A=null){super(v,p),this.type=0,this.navigationTrigger=I,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jt extends zr{constructor(v,p,I){super(v,p),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ws extends zr{constructor(v,p,I,A){super(v,p),this.reason=I,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zs extends zr{constructor(v,p,I,A){super(v,p),this.reason=I,this.code=A,this.type=16}}class Pr extends zr{constructor(v,p,I,A){super(v,p),this.error=I,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ri extends zr{constructor(v,p,I,A){super(v,p),this.urlAfterRedirects=I,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends zr{constructor(v,p,I,A){super(v,p),this.urlAfterRedirects=I,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es extends zr{constructor(v,p,I,A,L){super(v,p),this.urlAfterRedirects=I,this.state=A,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ki extends zr{constructor(v,p,I,A){super(v,p),this.urlAfterRedirects=I,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends zr{constructor(v,p,I,A){super(v,p),this.urlAfterRedirects=I,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ds{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hn{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class go{constructor(v,p,I){this.routerEvent=v,this.position=p,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fr=(()=>{class y{createUrlTree(p,I,A,L,$,ce){return Tr(p||I.root,A,L,$,ce)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac}),y})(),di=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:function(v){return fr.\u0275fac(v)},providedIn:"root"}),y})();class pr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const p=this.pathFromRoot(v);return p.length>1?p[p.length-2]:null}children(v){const p=Ii(v,this._root);return p?p.children.map(I=>I.value):[]}firstChild(v){const p=Ii(v,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(v){const p=hi(v,this._root);return p.length<2?[]:p[p.length-2].children.map(A=>A.value).filter(A=>A!==v)}pathFromRoot(v){return hi(v,this._root).map(p=>p.value)}}function Ii(y,v){if(y===v.value)return v;for(const p of v.children){const I=Ii(y,p);if(I)return I}return null}function hi(y,v){if(y===v.value)return[v];for(const p of v.children){const I=hi(y,p);if(I.length)return I.unshift(v),I}return[]}class rr{constructor(v,p){this.value=v,this.children=p}toString(){return`TreeNode(${this.value})`}}function Fr(y){const v={};return y&&y.children.forEach(p=>v[p.value.outlet]=p),v}class Ln extends pr{constructor(v,p){super(v),this.snapshot=p,eu(this,v)}toString(){return this.snapshot.toString()}}function qo(y,v){const p=function Pi(y,v){const $=new Ko([],{},{},"",{},kt,v,null,y.root,-1,{});return new Zo("",new rr($,[]))}(y,v),I=new ye.X([new vt("",{})]),A=new ye.X({}),L=new ye.X({}),$=new ye.X({}),ce=new ye.X(""),ke=new Ur(I,A,$,ce,L,kt,v,p.root);return ke.snapshot=p.root,new Ln(new rr(ke,[]),p)}class Ur{constructor(v,p,I,A,L,$,ce,ke){this.url=v,this.params=p,this.queryParams=I,this.fragment=A,this.data=L,this.outlet=$,this.component=ce,this.title=this.data?.pipe((0,pe.U)(mt=>mt[bn]))??oe(void 0),this._futureSnapshot=ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(v=>Xn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(v=>Xn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Du(y,v="emptyOnly"){const p=y.pathFromRoot;let I=0;if("always"!==v)for(I=p.length-1;I>=1;){const A=p[I],L=p[I-1];if(A.routeConfig&&""===A.routeConfig.path)I--;else{if(L.component)break;I--}}return function Ws(y){return y.reduce((v,p)=>({params:{...v.params,...p.params},data:{...v.data,...p.data},resolve:{...p.data,...v.resolve,...p.routeConfig?.data,...p._resolvedData}}),{params:{},data:{},resolve:{}})}(p.slice(I))}class Ko{get title(){return this.data?.[bn]}constructor(v,p,I,A,L,$,ce,ke,mt,et,yn){this.url=v,this.params=p,this.queryParams=I,this.fragment=A,this.data=L,this.outlet=$,this.component=ce,this.routeConfig=ke,this._urlSegment=mt,this._lastPathIndex=et,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zo extends pr{constructor(v,p){super(p),this.url=v,eu(this,p)}toString(){return Yo(this._root)}}function eu(y,v){v.value._routerState=y,v.children.forEach(p=>eu(y,p))}function Yo(y){const v=y.children.length>0?` { ${y.children.map(Yo).join(", ")} } `:"";return`${y.value}${v}`}function qs(y){if(y.snapshot){const v=y.snapshot,p=y._futureSnapshot;y.snapshot=p,Dr(v.queryParams,p.queryParams)||y.queryParams.next(p.queryParams),v.fragment!==p.fragment&&y.fragment.next(p.fragment),Dr(v.params,p.params)||y.params.next(p.params),function Er(y,v){if(y.length!==v.length)return!1;for(let p=0;p<y.length;++p)if(!Dr(y[p],v[p]))return!1;return!0}(v.url,p.url)||y.url.next(p.url),Dr(v.data,p.data)||y.data.next(p.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Cr(y,v){const p=Dr(y.params,v.params)&&function Yt(y,v){return Wt(y,v)&&y.every((p,I)=>Dr(p.parameters,v[I].parameters))}(y.url,v.url);return p&&!(!y.parent!=!v.parent)&&(!y.parent||Cr(y.parent,v.parent))}function ls(y,v,p){if(p&&y.shouldReuseRoute(v.value,p.value.snapshot)){const I=p.value;I._futureSnapshot=v.value;const A=function Qo(y,v,p){return v.children.map(I=>{for(const A of p.children)if(y.shouldReuseRoute(I.value,A.value.snapshot))return ls(y,I,A);return ls(y,I)})}(y,v,p);return new rr(I,A)}{if(y.shouldAttach(v.value)){const L=y.retrieve(v.value);if(null!==L){const $=L.route;return $.value._futureSnapshot=v.value,$.children=v.children.map(ce=>ls(y,ce)),$}}const I=function Yi(y){return new Ur(new ye.X(y.url),new ye.X(y.params),new ye.X(y.queryParams),new ye.X(y.fragment),new ye.X(y.data),y.outlet,y.component,y)}(v.value),A=v.children.map(L=>ls(y,L));return new rr(I,A)}}const mo="ngNavigationCancelingError";function Ks(y,v){const{redirectTo:p,navigationBehaviorOptions:I}=Ai(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,A=ma(!1,0,v);return A.url=p,A.navigationBehaviorOptions=I,A}function ma(y,v,p){const I=new Error("NavigationCancelingError: "+(y||""));return I[mo]=!0,I.cancellationCode=v,p&&(I.url=p),I}function Xo(y){return Jo(y)&&Ai(y.url)}function Jo(y){return y&&y[mo]}class Ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ti,this.attachRef=null}}let ti=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(p,I){const A=this.getOrCreateContext(p);A.outlet=I,this.contexts.set(p,A)}onChildOutletDestroyed(p){const I=this.getContext(p);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let I=this.getContext(p);return I||(I=new Ni,this.contexts.set(p,I)),I}getContext(p){return this.contexts.get(p)||null}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ds=!1;let gr=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.attachEvents=new R.vpe,this.detachEvents=new R.vpe,this.parentContexts=(0,R.f3M)(ti),this.location=(0,R.f3M)(R.s_b),this.changeDetector=(0,R.f3M)(R.sBO),this.environmentInjector=(0,R.f3M)(R.lqb)}ngOnChanges(p){if(p.name){const{firstChange:I,previousValue:A}=p.name;if(I)return;this.isTrackedInParentContexts(A)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(A)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R.vHH(4012,ds);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R.vHH(4012,ds);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R.vHH(4012,ds);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,I){this.activated=p,this._activatedRoute=I,this.location.insert(p.hostView),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,I){if(this.isActivated)throw new R.vHH(4013,ds);this._activatedRoute=p;const A=this.location,$=p.snapshot.component,ce=this.parentContexts.getOrCreateContext(this.name).children,ke=new ea(p,ce,A.injector);if(I&&function yo(y){return!!y.resolveComponentFactory}(I)){const mt=I.resolveComponentFactory($);this.activated=A.createComponent(mt,A.length,ke)}else this.activated=A.createComponent($,{index:A.length,injector:ke,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275dir=R.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[R.TTD]}),y})();class ea{constructor(v,p,I){this.route=v,this.childContexts=p,this.parent=I}get(v,p){return v===Ur?this.route:v===ti?this.childContexts:this.parent.get(v,p)}}let hs=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275cmp=R.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[R.jDz],decls:1,vars:0,template:function(p,I){1&p&&R._UZ(0,"router-outlet")},dependencies:[gr],encapsulation:2}),y})();function Zs(y,v){return y.providers&&!y._injector&&(y._injector=(0,R.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function fs(y){const v=y.children&&y.children.map(fs),p=v?{...y,children:v}:{...y};return!p.component&&!p.loadComponent&&(v||p.loadChildren)&&p.outlet&&p.outlet!==kt&&(p.component=hs),p}function qt(y){return y.outlet||kt}function Qs(y,v){const p=y.filter(I=>qt(I)===v);return p.push(...y.filter(I=>qt(I)!==v)),p}function Cs(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const p=v.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class wi{constructor(v,p,I,A){this.routeReuseStrategy=v,this.futureState=p,this.currState=I,this.forwardEvent=A}activate(v){const p=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,I,v),qs(this.futureState.root),this.activateChildRoutes(p,I,v)}deactivateChildRoutes(v,p,I){const A=Fr(p);v.children.forEach(L=>{const $=L.value.outlet;this.deactivateRoutes(L,A[$],I),delete A[$]}),$e(A,(L,$)=>{this.deactivateRouteAndItsChildren(L,I)})}deactivateRoutes(v,p,I){const A=v.value,L=p?p.value:null;if(A===L)if(A.component){const $=I.getContext(A.outlet);$&&this.deactivateChildRoutes(v,p,$.children)}else this.deactivateChildRoutes(v,p,I);else L&&this.deactivateRouteAndItsChildren(p,I)}deactivateRouteAndItsChildren(v,p){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,p):this.deactivateRouteAndOutlet(v,p)}detachAndStoreRouteSubtree(v,p){const I=p.getContext(v.value.outlet),A=I&&v.value.component?I.children:p,L=Fr(v);for(const $ of Object.keys(L))this.deactivateRouteAndItsChildren(L[$],A);if(I&&I.outlet){const $=I.outlet.detach(),ce=I.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:$,route:v,contexts:ce})}}deactivateRouteAndOutlet(v,p){const I=p.getContext(v.value.outlet),A=I&&v.value.component?I.children:p,L=Fr(v);for(const $ of Object.keys(L))this.deactivateRouteAndItsChildren(L[$],A);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(v,p,I){const A=Fr(p);v.children.forEach(L=>{this.activateRoutes(L,A[L.value.outlet],I),this.forwardEvent(new Zi(L.value.snapshot))}),v.children.length&&this.forwardEvent(new Po(v.value.snapshot))}activateRoutes(v,p,I){const A=v.value,L=p?p.value:null;if(qs(A),A===L)if(A.component){const $=I.getOrCreateContext(A.outlet);this.activateChildRoutes(v,p,$.children)}else this.activateChildRoutes(v,p,I);else if(A.component){const $=I.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const ce=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),$.children.onOutletReAttached(ce.contexts),$.attachRef=ce.componentRef,$.route=ce.route.value,$.outlet&&$.outlet.attach(ce.componentRef,ce.route.value),qs(ce.route.value),this.activateChildRoutes(v,null,$.children)}else{const ce=Cs(A.snapshot),ke=ce?.get(R._Vd)??null;$.attachRef=null,$.route=A,$.resolver=ke,$.injector=ce,$.outlet&&$.outlet.activateWith(A,$.injector),this.activateChildRoutes(v,null,$.children)}}else this.activateChildRoutes(v,null,I)}}class Xs{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Js{constructor(v,p){this.component=v,this.route=p}}function _o(y,v,p){const I=y._root;return Zr(I,v?v._root:null,p,[I.value])}function Ji(y,v){const p=Symbol(),I=v.get(y,p);return I===p?"function"!=typeof y||(0,R.Z0I)(y)?v.get(y):y:I}function Zr(y,v,p,I,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=Fr(v);return y.children.forEach($=>{(function Tt(y,v,p,I,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=y.value,$=v?v.value:null,ce=p?p.getContext(y.value.outlet):null;if($&&L.routeConfig===$.routeConfig){const ke=function nu(y,v,p){if("function"==typeof p)return p(y,v);switch(p){case"pathParamsChange":return!Wt(y.url,v.url);case"pathParamsOrQueryParamsChange":return!Wt(y.url,v.url)||!Dr(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cr(y,v)||!Dr(y.queryParams,v.queryParams);default:return!Cr(y,v)}}($,L,L.routeConfig.runGuardsAndResolvers);ke?A.canActivateChecks.push(new Xs(I)):(L.data=$.data,L._resolvedData=$._resolvedData),Zr(y,v,L.component?ce?ce.children:null:p,I,A),ke&&ce&&ce.outlet&&ce.outlet.isActivated&&A.canDeactivateChecks.push(new Js(ce.outlet.component,$))}else $&&eo(v,ce,A),A.canActivateChecks.push(new Xs(I)),Zr(y,null,L.component?ce?ce.children:null:p,I,A)})($,L[$.value.outlet],p,I.concat([$.value]),A),delete L[$.value.outlet]}),$e(L,($,ce)=>eo($,p.getContext(ce),A)),A}function eo(y,v,p){const I=Fr(y),A=y.value;$e(I,(L,$)=>{eo(L,A.component?v?v.children.getContext($):null:v,p)}),p.canDeactivateChecks.push(new Js(A.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,A))}function Ss(y){return"function"==typeof y}function ps(y){return y instanceof ae.K||"EmptyError"===y?.name}const Ir=Symbol("INITIAL_VALUE");function Yr(){return me(y=>ee(y.map(v=>v.pipe(Pe(1),function Ge(...y){const v=(0,Q.yG)(y);return(0,_e.e)((p,I)=>{(v?Bt(y,p,v):Bt(y,p)).subscribe(I)})}(Ir)))).pipe((0,pe.U)(v=>{for(const p of v)if(!0!==p){if(p===Ir)return Ir;if(!1===p||p instanceof pt)return p}return!0}),tt(v=>v!==Ir),Pe(1)))}function La(y){return(0,it.z)((0,Nt.b)(v=>{if(Ai(v))throw Ks(0,v)}),(0,pe.U)(v=>!0===v))}const Gn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fa(y,v,p,I,A){const L=xs(y,v,p);return L.matched?function ns(y,v,p,I){const A=v.canMatch;return A&&0!==A.length?oe(A.map($=>{const ce=Ji($,y);return Jn(function Qe(y){return y&&Ss(y.canMatch)}(ce)?ce.canMatch(v,p):y.runInContext(()=>ce(v,p)))})).pipe(Yr(),La()):oe(!0)}(I=Zs(v,I),v,p).pipe((0,pe.U)($=>!0===$?L:{...Gn})):oe(L)}function xs(y,v,p){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||p.length>0)?{...Gn}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const A=(v.matcher||Gi)(p,y,v);if(!A)return{...Gn};const L={};$e(A.posParams,(ce,ke)=>{L[ke]=ce.path});const $=A.consumed.length>0?{...L,...A.consumed[A.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:A.consumed,remainingSegments:p.slice(A.consumed.length),parameters:$,positionalParamSegments:A.posParams??{}}}function ro(y,v,p,I){if(p.length>0&&function Io(y,v,p){return p.some(I=>sa(y,v,I)&&qt(I)!==kt)}(y,p,I)){const L=new Se(v,function ru(y,v,p,I){const A={};A[kt]=I,I._sourceSegment=y,I._segmentIndexShift=v.length;for(const L of p)if(""===L.path&&qt(L)!==kt){const $=new Se([],{});$._sourceSegment=y,$._segmentIndexShift=v.length,A[qt(L)]=$}return A}(y,v,I,new Se(p,y.children)));return L._sourceSegment=y,L._segmentIndexShift=v.length,{segmentGroup:L,slicedSegments:[]}}if(0===p.length&&function Tu(y,v,p){return p.some(I=>sa(y,v,I))}(y,p,I)){const L=new Se(y.segments,function ec(y,v,p,I,A){const L={};for(const $ of I)if(sa(y,p,$)&&!A[qt($)]){const ce=new Se([],{});ce._sourceSegment=y,ce._segmentIndexShift=v.length,L[qt($)]=ce}return{...A,...L}}(y,v,p,I,y.children));return L._sourceSegment=y,L._segmentIndexShift=v.length,{segmentGroup:L,slicedSegments:p}}const A=new Se(y.segments,y.children);return A._sourceSegment=y,A._segmentIndexShift=v.length,{segmentGroup:A,slicedSegments:p}}function sa(y,v,p){return(!(y.hasChildren()||v.length>0)||"full"!==p.pathMatch)&&""===p.path}function oa(y,v,p,I){return!!(qt(y)===I||I!==kt&&sa(v,p,y))&&("**"===y.path||xs(v,y,p).matched)}function Ia(y,v,p){return 0===v.length&&!y.children[p]}const gs=!1;class wa{constructor(v){this.segmentGroup=v||null}}class Ua{constructor(v){this.urlTree=v}}function sr(y){return yt(new wa(y))}function or(y){return yt(new Ua(y))}class ze{constructor(v,p,I,A,L){this.injector=v,this.configLoader=p,this.urlSerializer=I,this.urlTree=A,this.config=L,this.allowRedirects=!0}apply(){const v=ro(this.urlTree.root,[],[],this.config).segmentGroup,p=new Se(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,p,kt).pipe((0,pe.U)(L=>this.createUrlTree(Wi(L),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jt(L=>{if(L instanceof Ua)return this.allowRedirects=!1,this.match(L.urlTree);throw L instanceof wa?this.noMatchError(L):L}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,kt).pipe((0,pe.U)(A=>this.createUrlTree(Wi(A),v.queryParams,v.fragment))).pipe(Jt(A=>{throw A instanceof wa?this.noMatchError(A):A}))}noMatchError(v){return new R.vHH(4002,gs)}createUrlTree(v,p,I){const A=_i(v);return new pt(A,p,I)}expandSegmentGroup(v,p,I,A){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(v,p,I).pipe((0,pe.U)(L=>new Se([],L))):this.expandSegment(v,I,p,I.segments,A,!0)}expandChildren(v,p,I){const A=[];for(const L of Object.keys(I.children))"primary"===L?A.unshift(L):A.push(L);return(0,Z.D)(A).pipe(Zt(L=>{const $=I.children[L],ce=Qs(p,L);return this.expandSegmentGroup(v,ce,$,L).pipe((0,pe.U)(ke=>({segment:ke,outlet:L})))}),sn((L,$)=>(L[$.outlet]=$.segment,L),{}),an())}expandSegment(v,p,I,A,L,$){return(0,Z.D)(I).pipe(Zt(ce=>this.expandSegmentAgainstRoute(v,p,I,ce,A,L,$).pipe(Jt(mt=>{if(mt instanceof wa)return oe(null);throw mt}))),xt(ce=>!!ce),Jt((ce,ke)=>{if(ps(ce))return Ia(p,A,L)?oe(new Se([],{})):sr(p);throw ce}))}expandSegmentAgainstRoute(v,p,I,A,L,$,ce){return oa(A,p,L,$)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(v,p,A,L,$):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,p,I,A,L,$):sr(p):sr(p)}expandSegmentAgainstRouteUsingRedirect(v,p,I,A,L,$){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,I,A,$):this.expandRegularSegmentAgainstRouteUsingRedirect(v,p,I,A,L,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,p,I,A){const L=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?or(L):this.lineralizeSegments(I,L).pipe((0,Ve.z)($=>{const ce=new Se($,{});return this.expandSegment(v,ce,p,$,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,p,I,A,L,$){const{matched:ce,consumedSegments:ke,remainingSegments:mt,positionalParamSegments:et}=xs(p,A,L);if(!ce)return sr(p);const yn=this.applyRedirectCommands(ke,A.redirectTo,et);return A.redirectTo.startsWith("/")?or(yn):this.lineralizeSegments(A,yn).pipe((0,Ve.z)(On=>this.expandSegment(v,p,I,On.concat(mt),$,!1)))}matchSegmentAgainstRoute(v,p,I,A,L){return"**"===I.path?(v=Zs(I,v),I.loadChildren?(I._loadedRoutes?oe({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(v,I)).pipe((0,pe.U)(ce=>(I._loadedRoutes=ce.routes,I._loadedInjector=ce.injector,new Se(A,{})))):oe(new Se(A,{}))):Fa(p,I,A,v).pipe(me(({matched:$,consumedSegments:ce,remainingSegments:ke})=>$?this.getChildConfig(v=I._injector??v,I,A).pipe((0,Ve.z)(et=>{const yn=et.injector??v,On=et.routes,{segmentGroup:$n,slicedSegments:Xr}=ro(p,ce,ke,On),ms=new Se($n.segments,$n.children);if(0===Xr.length&&ms.hasChildren())return this.expandChildren(yn,On,ms).pipe((0,pe.U)(S=>new Se(ce,S)));if(0===On.length&&0===Xr.length)return oe(new Se(ce,{}));const Di=qt(I)===L;return this.expandSegment(yn,ms,On,Xr,Di?kt:L,!0).pipe((0,pe.U)(su=>new Se(ce.concat(su.segments),su.children)))})):sr(p)))}getChildConfig(v,p,I){return p.children?oe({routes:p.children,injector:v}):p.loadChildren?void 0!==p._loadedRoutes?oe({routes:p._loadedRoutes,injector:p._loadedInjector}):function ts(y,v,p,I){const A=v.canLoad;return void 0===A||0===A.length?oe(!0):oe(A.map($=>{const ce=Ji($,y);return Jn(function va(y){return y&&Ss(y.canLoad)}(ce)?ce.canLoad(v,p):y.runInContext(()=>ce(v,p)))})).pipe(Yr(),La())}(v,p,I).pipe((0,Ve.z)(A=>A?this.configLoader.loadChildren(v,p).pipe((0,Nt.b)(L=>{p._loadedRoutes=L.routes,p._loadedInjector=L.injector})):function Vr(y){return yt(ma(gs,3))}())):oe({routes:[],injector:v})}lineralizeSegments(v,p){let I=[],A=p.root;for(;;){if(I=I.concat(A.segments),0===A.numberOfChildren)return oe(I);if(A.numberOfChildren>1||!A.children[kt])return v.redirectTo,yt(new R.vHH(4e3,gs));A=A.children[kt]}}applyRedirectCommands(v,p,I){return this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),v,I)}applyRedirectCreateUrlTree(v,p,I,A){const L=this.createSegmentGroup(v,p.root,I,A);return new pt(L,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(v,p){const I={};return $e(v,(A,L)=>{if("string"==typeof A&&A.startsWith(":")){const ce=A.substring(1);I[L]=p[ce]}else I[L]=A}),I}createSegmentGroup(v,p,I,A){const L=this.createSegments(v,p.segments,I,A);let $={};return $e(p.children,(ce,ke)=>{$[ke]=this.createSegmentGroup(v,ce,I,A)}),new Se(L,$)}createSegments(v,p,I,A){return p.map(L=>L.path.startsWith(":")?this.findPosParam(v,L,A):this.findOrReturn(L,I))}findPosParam(v,p,I){const A=I[p.path.substring(1)];if(!A)throw new R.vHH(4001,gs);return A}findOrReturn(v,p){let I=0;for(const A of p){if(A.path===v.path)return p.splice(I),A;I++}return v}}class T{}class V{constructor(v,p,I,A,L,$,ce){this.injector=v,this.rootComponentType=p,this.config=I,this.urlTree=A,this.url=L,this.paramsInheritanceStrategy=$,this.urlSerializer=ce}recognize(){const v=ro(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,kt).pipe((0,pe.U)(p=>{if(null===p)return null;const I=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new rr(I,p),L=new Zo(this.url,A);return this.inheritParamsAndData(L._root),L}))}inheritParamsAndData(v){const p=v.value,I=Du(p,this.paramsInheritanceStrategy);p.params=Object.freeze(I.params),p.data=Object.freeze(I.data),v.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(v,p,I,A){return 0===I.segments.length&&I.hasChildren()?this.processChildren(v,p,I):this.processSegment(v,p,I,I.segments,A)}processChildren(v,p,I){return(0,Z.D)(Object.keys(I.children)).pipe(Zt(A=>{const L=I.children[A],$=Qs(p,A);return this.processSegmentGroup(v,$,L,A)}),sn((A,L)=>A&&L?(A.push(...L),A):null),function br(y,v=!1){return(0,_e.e)((p,I)=>{let A=0;p.subscribe((0,xe.x)(I,L=>{const $=y(L,A++);($||v)&&I.next(L),!$&&I.complete()}))})}(A=>null!==A),Dt(null),an(),(0,pe.U)(A=>{if(null===A)return null;const L=ct(A);return function j(y){y.sort((v,p)=>v.value.outlet===kt?-1:p.value.outlet===kt?1:v.value.outlet.localeCompare(p.value.outlet))}(L),L}))}processSegment(v,p,I,A,L){return(0,Z.D)(p).pipe(Zt($=>this.processSegmentAgainstRoute($._injector??v,$,I,A,L)),xt($=>!!$),Jt($=>{if(ps($))return Ia(I,A,L)?oe([]):oe(null);throw $}))}processSegmentAgainstRoute(v,p,I,A,L){if(p.redirectTo||!oa(p,I,A,L))return oe(null);let $;if("**"===p.path){const ce=A.length>0?gn(A).parameters:{},ke=Pn(I)+A.length;$=oe({snapshot:new Ko(A,ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,er(p),qt(p),p.component??p._loadedComponent??null,p,An(I),ke,Nn(p)),consumedSegments:[],remainingSegments:[]})}else $=Fa(I,p,A,v).pipe((0,pe.U)(({matched:ce,consumedSegments:ke,remainingSegments:mt,parameters:et})=>{if(!ce)return null;const yn=Pn(I)+ke.length;return{snapshot:new Ko(ke,et,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,er(p),qt(p),p.component??p._loadedComponent??null,p,An(I),yn,Nn(p)),consumedSegments:ke,remainingSegments:mt}}));return $.pipe(me(ce=>{if(null===ce)return oe(null);const{snapshot:ke,consumedSegments:mt,remainingSegments:et}=ce;v=p._injector??v;const yn=p._loadedInjector??v,On=function W(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(p),{segmentGroup:$n,slicedSegments:Xr}=ro(I,mt,et,On.filter(Di=>void 0===Di.redirectTo));if(0===Xr.length&&$n.hasChildren())return this.processChildren(yn,On,$n).pipe((0,pe.U)(Di=>null===Di?null:[new rr(ke,Di)]));if(0===On.length&&0===Xr.length)return oe([new rr(ke,[])]);const ms=qt(p)===L;return this.processSegment(yn,On,$n,Xr,ms?kt:L).pipe((0,pe.U)(Di=>null===Di?null:[new rr(ke,Di)]))}))}}function re(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function ct(y){const v=[],p=new Set;for(const I of y){if(!re(I)){v.push(I);continue}const A=v.find(L=>I.value.routeConfig===L.value.routeConfig);void 0!==A?(A.children.push(...I.children),p.add(A)):v.push(I)}for(const I of p){const A=ct(I.children);v.push(new rr(I.value,A))}return v.filter(I=>!p.has(I))}function An(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Pn(y){let v=y,p=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,p+=v._segmentIndexShift??0;return p-1}function er(y){return y.data||{}}function Nn(y){return y.resolve||{}}function Wn(y){return"string"==typeof y.title||null===y.title}function aa(y){return me(v=>{const p=y(v);return p?(0,Z.D)(p).pipe((0,pe.U)(()=>v)):oe(v)})}const gi=new R.OlP("ROUTES");let cn=(()=>{class y{constructor(p,I){this.injector=p,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return oe(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const I=Jn(p.loadComponent()).pipe((0,pe.U)(mr),(0,Nt.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=L}),vn(()=>{this.componentLoaders.delete(p)})),A=new It(I,()=>new Ne.x).pipe(He());return this.componentLoaders.set(p,A),A}loadChildren(p,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return oe({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const L=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,pe.U)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(I);let ke,mt,et=!1;Array.isArray(ce)?mt=ce:(ke=ce.create(p).injector,mt=Wr(ke.get(gi,[],R.XFs.Self|R.XFs.Optional)));return{routes:mt.map(fs),injector:ke}}),vn(()=>{this.childrenLoaders.delete(I)})),$=new It(L,()=>new Ne.x).pipe(He());return this.childrenLoaders.set(I,$),$}loadModuleFactoryOrRoutes(p){return Jn(p()).pipe((0,pe.U)(mr),(0,Ve.z)(A=>A instanceof R.YKP||Array.isArray(A)?oe(A):(0,Z.D)(this.compiler.compileModuleAsync(A))))}}return y.\u0275fac=function(p){return new(p||y)(R.LFG(R.zs3),R.LFG(R.Sil))},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function mr(y){return function Va(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Rs=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.configLoader=(0,R.f3M)(cn),this.environmentInjector=(0,R.f3M)(R.lqb),this.urlSerializer=(0,R.f3M)(Sn),this.rootContexts=(0,R.f3M)(ti),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=A=>this.events.next(new Ds(A)),this.configLoader.onLoadStartListener=A=>this.events.next(new Ro(A))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const I=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:I})}setupNavigations(p){return this.transitions=new ye.X({id:0,targetPageId:0,currentUrlTree:p.currentUrlTree,currentRawUrl:p.currentUrlTree,extractedUrl:p.urlHandlingStrategy.extract(p.currentUrlTree),urlAfterRedirects:p.urlHandlingStrategy.extract(p.currentUrlTree),rawUrl:p.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:un,restoredState:null,currentSnapshot:p.routerState.snapshot,targetSnapshot:null,currentRouterState:p.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tt(I=>0!==I.id),(0,pe.U)(I=>({...I,extractedUrl:p.urlHandlingStrategy.extract(I.rawUrl)})),me(I=>{let A=!1,L=!1;return oe(I).pipe((0,Nt.b)($=>{this.currentNavigation={id:$.id,initialUrl:$.rawUrl,extractedUrl:$.extractedUrl,trigger:$.source,extras:$.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),me($=>{const ce=p.browserUrlTree.toString(),ke=!p.navigated||$.extractedUrl.toString()!==ce||ce!==p.currentUrlTree.toString();if(!ke&&"reload"!==($.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const et="";return this.events.next(new zs($.id,p.serializeUrl(I.rawUrl),et,0)),p.rawUrlTree=$.rawUrl,$.resolve(null),Me.E}if(p.urlHandlingStrategy.shouldProcessUrl($.rawUrl))return Ps($.source)&&(p.browserUrlTree=$.extractedUrl),oe($).pipe(me(et=>{const yn=this.transitions?.getValue();return this.events.next(new Mi(et.id,this.urlSerializer.serialize(et.extractedUrl),et.source,et.restoredState)),yn!==this.transitions?.getValue()?Me.E:Promise.resolve(et)}),function Qn(y,v,p,I){return me(A=>function ko(y,v,p,I,A){return new ze(y,v,p,I,A).apply()}(y,v,p,A.extractedUrl,I).pipe((0,pe.U)(L=>({...A,urlAfterRedirects:L}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,p.config),(0,Nt.b)(et=>{this.currentNavigation={...this.currentNavigation,finalUrl:et.urlAfterRedirects},I.urlAfterRedirects=et.urlAfterRedirects}),function Sr(y,v,p,I,A){return(0,Ve.z)(L=>function b(y,v,p,I,A,L,$="emptyOnly"){return new V(y,v,p,I,A,$,L).recognize().pipe(me(ce=>null===ce?function P(y){return new le.y(v=>v.error(y))}(new T):oe(ce)))}(y,v,p,L.urlAfterRedirects,I.serialize(L.urlAfterRedirects),I,A).pipe((0,pe.U)($=>({...L,targetSnapshot:$}))))}(this.environmentInjector,this.rootComponentType,p.config,this.urlSerializer,p.paramsInheritanceStrategy),(0,Nt.b)(et=>{if(I.targetSnapshot=et.targetSnapshot,"eager"===p.urlUpdateStrategy){if(!et.extras.skipLocationChange){const On=p.urlHandlingStrategy.merge(et.urlAfterRedirects,et.rawUrl);p.setBrowserUrl(On,et)}p.browserUrlTree=et.urlAfterRedirects}const yn=new Ri(et.id,this.urlSerializer.serialize(et.extractedUrl),this.urlSerializer.serialize(et.urlAfterRedirects),et.targetSnapshot);this.events.next(yn)}));if(ke&&p.urlHandlingStrategy.shouldProcessUrl(p.rawUrlTree)){const{id:et,extractedUrl:yn,source:On,restoredState:$n,extras:Xr}=$,ms=new Mi(et,this.urlSerializer.serialize(yn),On,$n);this.events.next(ms);const Di=qo(yn,this.rootComponentType).snapshot;return oe(I={...$,targetSnapshot:Di,urlAfterRedirects:yn,extras:{...Xr,skipLocationChange:!1,replaceUrl:!1}})}{const et="";return this.events.next(new zs($.id,p.serializeUrl(I.extractedUrl),et,1)),p.rawUrlTree=$.rawUrl,$.resolve(null),Me.E}}),(0,Nt.b)($=>{const ce=new zn($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot);this.events.next(ce)}),(0,pe.U)($=>I={...$,guards:_o($.targetSnapshot,$.currentSnapshot,this.rootContexts)}),function es(y,v){return(0,Ve.z)(p=>{const{targetSnapshot:I,currentSnapshot:A,guards:{canActivateChecks:L,canDeactivateChecks:$}}=p;return 0===$.length&&0===L.length?oe({...p,guardsResult:!0}):function ni(y,v,p,I){return(0,Z.D)(y).pipe((0,Ve.z)(A=>function Nr(y,v,p,I,A){const L=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return L&&0!==L.length?oe(L.map(ce=>{const ke=Cs(v)??A,mt=Ji(ce,ke);return Jn(function ra(y){return y&&Ss(y.canDeactivate)}(mt)?mt.canDeactivate(y,v,p,I):ke.runInContext(()=>mt(y,v,p,I))).pipe(xt())})).pipe(Yr()):oe(!0)}(A.component,A.route,p,v,I)),xt(A=>!0!==A,!0))}($,I,A,y).pipe((0,Ve.z)(ce=>ce&&function ya(y){return"boolean"==typeof y}(ce)?function ia(y,v,p,I){return(0,Z.D)(v).pipe(Zt(A=>Bt(function Oo(y,v){return null!==y&&v&&v(new Hn(y)),oe(!0)}(A.route.parent,I),function no(y,v){return null!==y&&v&&v(new Hs(y)),oe(!0)}(A.route,I),function ka(y,v,p){const I=v[v.length-1],L=v.slice(0,v.length-1).reverse().map($=>function Xi(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}($)).filter($=>null!==$).map($=>rt(()=>oe($.guards.map(ke=>{const mt=Cs($.node)??p,et=Ji(ke,mt);return Jn(function No(y){return y&&Ss(y.canActivateChild)}(et)?et.canActivateChild(I,y):mt.runInContext(()=>et(I,y))).pipe(xt())})).pipe(Yr())));return oe(L).pipe(Yr())}(y,A.path,p),function As(y,v,p){const I=v.routeConfig?v.routeConfig.canActivate:null;if(!I||0===I.length)return oe(!0);const A=I.map(L=>rt(()=>{const $=Cs(v)??p,ce=Ji(L,$);return Jn(function _a(y){return y&&Ss(y.canActivate)}(ce)?ce.canActivate(v,y):$.runInContext(()=>ce(v,y))).pipe(xt())}));return oe(A).pipe(Yr())}(y,A.route,p))),xt(A=>!0!==A,!0))}(I,L,y,v):oe(ce)),(0,pe.U)(ce=>({...p,guardsResult:ce})))})}(this.environmentInjector,$=>this.events.next($)),(0,Nt.b)($=>{if(I.guardsResult=$.guardsResult,Ai($.guardsResult))throw Ks(0,$.guardsResult);const ce=new Es($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot,!!$.guardsResult);this.events.next(ce)}),tt($=>!!$.guardsResult||(p.restoreHistory($),this.cancelNavigationTransition($,"",3),!1)),aa($=>{if($.guards.canActivateChecks.length)return oe($).pipe((0,Nt.b)(ce=>{const ke=new Ki(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(ke)}),me(ce=>{let ke=!1;return oe(ce).pipe(function io(y,v){return(0,Ve.z)(p=>{const{targetSnapshot:I,guards:{canActivateChecks:A}}=p;if(!A.length)return oe(p);let L=0;return(0,Z.D)(A).pipe(Zt($=>function fi(y,v,p,I){const A=y.routeConfig,L=y._resolve;return void 0!==A?.title&&!Wn(A)&&(L[bn]=A.title),function so(y,v,p,I){const A=function pi(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return oe({});const L={};return(0,Z.D)(A).pipe((0,Ve.z)($=>function Kt(y,v,p,I){const A=Cs(v)??I,L=Ji(y,A);return Jn(L.resolve?L.resolve(v,p):A.runInContext(()=>L(v,p)))}(y[$],v,p,I).pipe(xt(),(0,Nt.b)(ce=>{L[$]=ce}))),gt(1),function jr(y){return(0,pe.U)(()=>y)}(L),Jt($=>ps($)?Me.E:yt($)))}(L,y,v,I).pipe((0,pe.U)($=>(y._resolvedData=$,y.data=Du(y,p).resolve,A&&Wn(A)&&(y.data[bn]=A.title),null)))}($.route,I,y,v)),(0,Nt.b)(()=>L++),gt(1),(0,Ve.z)($=>L===A.length?oe(p):Me.E))})}(p.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.b)({next:()=>ke=!0,complete:()=>{ke||(p.restoreHistory(ce),this.cancelNavigationTransition(ce,"",2))}}))}),(0,Nt.b)(ce=>{const ke=new hr(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(ke)}))}),aa($=>{const ce=ke=>{const mt=[];ke.routeConfig?.loadComponent&&!ke.routeConfig._loadedComponent&&mt.push(this.configLoader.loadComponent(ke.routeConfig).pipe((0,Nt.b)(et=>{ke.component=et}),(0,pe.U)(()=>{})));for(const et of ke.children)mt.push(...ce(et));return mt};return ee(ce($.targetSnapshot.root)).pipe(Dt(),Pe(1))}),aa(()=>this.afterPreactivation()),(0,pe.U)($=>{const ce=function tu(y,v,p){const I=ls(y,v._root,p?p._root:void 0);return new Ln(I,v)}(p.routeReuseStrategy,$.targetSnapshot,$.currentRouterState);return I={...$,targetRouterState:ce}}),(0,Nt.b)($=>{p.currentUrlTree=$.urlAfterRedirects,p.rawUrlTree=p.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),p.routerState=$.targetRouterState,"deferred"===p.urlUpdateStrategy&&($.extras.skipLocationChange||p.setBrowserUrl(p.rawUrlTree,$),p.browserUrlTree=$.urlAfterRedirects)}),((y,v,p)=>(0,pe.U)(I=>(new wi(v,I.targetRouterState,I.currentRouterState,p).activate(y),I)))(this.rootContexts,p.routeReuseStrategy,$=>this.events.next($)),(0,Nt.b)({next:$=>{A=!0,this.lastSuccessfulNavigation=this.currentNavigation,p.navigated=!0,this.events.next(new jt($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize(p.currentUrlTree))),p.titleStrategy?.updateTitle($.targetRouterState.snapshot),$.resolve(!0)},complete:()=>{A=!0}}),vn(()=>{A||L||this.cancelNavigationTransition(I,"",1),this.currentNavigation?.id===I.id&&(this.currentNavigation=null)}),Jt($=>{if(L=!0,Jo($)){Xo($)||(p.navigated=!0,p.restoreHistory(I,!0));const ce=new ws(I.id,this.urlSerializer.serialize(I.extractedUrl),$.message,$.cancellationCode);if(this.events.next(ce),Xo($)){const ke=p.urlHandlingStrategy.merge($.url,p.rawUrlTree),mt={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===p.urlUpdateStrategy||Ps(I.source)};p.scheduleNavigation(ke,un,null,mt,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{p.restoreHistory(I,!0);const ce=new Pr(I.id,this.urlSerializer.serialize(I.extractedUrl),$,I.targetSnapshot??void 0);this.events.next(ce);try{I.resolve(p.errorHandler($))}catch(ke){I.reject(ke)}}return Me.E}))}))}cancelNavigationTransition(p,I,A){const L=new ws(p.id,this.urlSerializer.serialize(p.extractedUrl),I,A);this.events.next(L),p.resolve(!1)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ps(y){return y!==un}let Ei=(()=>{class y{buildTitle(p){let I,A=p.root;for(;void 0!==A;)I=this.getResolvedTitleForRoute(A)??I,A=A.children.find(L=>L.outlet===kt);return I}getResolvedTitleForRoute(p){return p.data[bn]}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(oo)},providedIn:"root"}),y})(),oo=(()=>{class y extends Ei{constructor(p){super(),this.title=p}updateTitle(p){const I=this.buildTitle(p);void 0!==I&&this.title.setTitle(I)}}return y.\u0275fac=function(p){return new(p||y)(R.LFG(ar.Dx))},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Ea=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(wo)},providedIn:"root"}),y})();class Da{shouldDetach(v){return!1}store(v,p){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,p){return v.routeConfig===p.routeConfig}}let wo=(()=>{class y extends Da{}return y.\u0275fac=function(){let v;return function(I){return(v||(v=R.n5z(y)))(I||y)}}(),y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ri=new R.OlP("",{providedIn:"root",factory:()=>({})});let mi=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:function(){return(0,R.f3M)(ao)},providedIn:"root"}),y})(),ao=(()=>{class y{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,I){return p}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ns(y){throw y}function Os(y,v,p){return v.parse("/")}const ca={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,R.f3M)(R.c2e),this.isNgZoneEnabled=!1,this.options=(0,R.f3M)(ri,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ns,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Os,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,R.f3M)(mi),this.routeReuseStrategy=(0,R.f3M)(Ea),this.urlCreationStrategy=(0,R.f3M)(di),this.titleStrategy=(0,R.f3M)(Ei),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Wr((0,R.f3M)(gi,{optional:!0})??[]),this.navigationTransitions=(0,R.f3M)(Rs),this.urlSerializer=(0,R.f3M)(Sn),this.location=(0,R.f3M)(at.Ye),this.isNgZoneEnabled=(0,R.f3M)(R.R0b)instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=p.targetPageId},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const p=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),un,p)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const I="popstate"===p.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{this.navigateToSyncWithBrowser(p.url,I,p.state)},0)}))}navigateToSyncWithBrowser(p,I,A){const L={replaceUrl:!0},$=A?.navigationId?A:null;if(A){const ke={...A};delete ke.navigationId,delete ke.\u0275routerPageId,0!==Object.keys(ke).length&&(L.state=ke)}const ce=this.parseUrl(p);this.scheduleNavigation(ce,I,$,L)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(p){this.config=p.map(fs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,I={}){const{relativeTo:A,queryParams:L,fragment:$,queryParamsHandling:ce,preserveFragment:ke}=I,mt=ke?this.currentUrlTree.fragment:$;let et=null;switch(ce){case"merge":et={...this.currentUrlTree.queryParams,...L};break;case"preserve":et=this.currentUrlTree.queryParams;break;default:et=L||null}return null!==et&&(et=this.removeEmptyProps(et)),this.urlCreationStrategy.createUrlTree(A,this.routerState,this.currentUrlTree,p,et,mt??null)}navigateByUrl(p,I={skipLocationChange:!1}){const A=Ai(p)?p:this.parseUrl(p),L=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(L,un,null,I)}navigate(p,I={skipLocationChange:!1}){return function ki(y){for(let v=0;v<y.length;v++){const p=y[v];if(null==p)throw new R.vHH(4008,false)}}(p),this.navigateByUrl(this.createUrlTree(p,I),I)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let I;try{I=this.urlSerializer.parse(p)}catch(A){I=this.malformedUriErrorHandler(A,this.urlSerializer,p)}return I}isActive(p,I){let A;if(A=!0===I?{...ca}:!1===I?{...Ae}:I,Ai(p))return Zn(this.currentUrlTree,p,A);const L=this.parseUrl(p);return Zn(this.currentUrlTree,L,A)}removeEmptyProps(p){return Object.keys(p).reduce((I,A)=>{const L=p[A];return null!=L&&(I[A]=L),I},{})}scheduleNavigation(p,I,A,L,$){if(this.disposed)return Promise.resolve(!1);let ce,ke,mt,et;return $?(ce=$.resolve,ke=$.reject,mt=$.promise):mt=new Promise((yn,On)=>{ce=yn,ke=On}),et="computed"===this.canceledNavigationResolution?A&&A.\u0275routerPageId?A.\u0275routerPageId:L.replaceUrl||L.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:et,source:I,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:L,resolve:ce,reject:ke,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(yn=>Promise.reject(yn))}setBrowserUrl(p,I){const A=this.urlSerializer.serialize(p),L={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(A)||I.extras.replaceUrl?this.location.replaceState(A,"",L):this.location.go(A,"",L)}restoreHistory(p,I=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-p.targetPageId;"popstate"!==p.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===A?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===A&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(A)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,I){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:I}:{navigationId:p}}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Li=(()=>{class y{constructor(p,I,A,L,$,ce){this.router=p,this.route=I,this.tabIndexAttribute=A,this.renderer=L,this.el=$,this.locationStrategy=ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ne.x;const ke=$.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ke||"area"===ke,this.isAnchorElement?this.subscription=p.events.subscribe(mt=>{mt instanceof jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(p){this._preserveFragment=(0,R.D6c)(p)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(p){this._skipLocationChange=(0,R.D6c)(p)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(p){this._replaceUrl=(0,R.D6c)(p)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null!=p?(this.commands=Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(p,I,A,L,$){return!!(null===this.urlTree||this.isAnchorElement&&(0!==p||I||A||L||$||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const p=null===this.href?null:(0,R.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",p)}applyAttributeValue(p,I){const A=this.renderer,L=this.el.nativeElement;null!==I?A.setAttribute(L,p,I):A.removeAttribute(L,p)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(p){return new(p||y)(R.Y36($r),R.Y36(Ur),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq),R.Y36(at.S$))},y.\u0275dir=R.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(p,I){1&p&&R.NdJ("click",function(L){return I.onClick(L.button,L.ctrlKey,L.shiftKey,L.altKey,L.metaKey)}),2&p&&R.uIk("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[R.TTD]}),y})();class la{}let Ba=(()=>{class y{constructor(p,I,A,L,$){this.router=p,this.injector=A,this.preloadingStrategy=L,this.loader=$}setUpPreloading(){this.subscription=this.router.events.pipe(tt(p=>p instanceof jt),Zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,I){const A=[];for(const L of I){L.providers&&!L._injector&&(L._injector=(0,R.MMx)(L.providers,p,`Route: ${L.path}`));const $=L._injector??p,ce=L._loadedInjector??$;L.loadChildren&&!L._loadedRoutes&&void 0===L.canLoad||L.loadComponent&&!L._loadedComponent?A.push(this.preloadConfig($,L)):(L.children||L._loadedRoutes)&&A.push(this.processRoutes(ce,L.children??L._loadedRoutes))}return(0,Z.D)(A).pipe((0,Ut.J)())}preloadConfig(p,I){return this.preloadingStrategy.preload(I,()=>{let A;A=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(p,I):oe(null);const L=A.pipe((0,Ve.z)($=>null===$?oe(void 0):(I._loadedRoutes=$.routes,I._loadedInjector=$.injector,this.processRoutes($.injector??p,$.routes))));if(I.loadComponent&&!I._loadedComponent){const $=this.loader.loadComponent(I);return(0,Z.D)([L,$]).pipe((0,Ut.J)())}return L})}}return y.\u0275fac=function(p){return new(p||y)(R.LFG($r),R.LFG(R.Sil),R.LFG(R.lqb),R.LFG(la),R.LFG(cn))},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Fo=new R.OlP("");let uo=(()=>{class y{constructor(p,I,A,L,$={}){this.urlSerializer=p,this.transitions=I,this.viewportScroller=A,this.zone=L,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof jt&&(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof go&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,I){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new go(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(p){R.$Z()},y.\u0275prov=R.Yz7({token:y,factory:y.\u0275fac}),y})();var yr=(()=>((yr=yr||{})[yr.COMPLETE=0]="COMPLETE",yr[yr.FAILED=1]="FAILED",yr[yr.REDIRECTING=2]="REDIRECTING",yr))();const Ui=!1;function Ls(y,v){return{\u0275kind:y,\u0275providers:v}}const Eo=new R.OlP("",{providedIn:"root",factory:()=>!1});function za(){const y=(0,R.f3M)(R.zs3);return v=>{const p=y.get(R.z2F);if(v!==p.components[0])return;const I=y.get($r),A=y.get(Uo);1===y.get(Vo)&&I.initialNavigation(),y.get(Ha,null,R.XFs.Optional)?.setUpPreloading(),y.get(Fo,null,R.XFs.Optional)?.init(),I.resetRootComponentType(p.componentTypes[0]),A.closed||(A.next(),A.unsubscribe())}}const Uo=new R.OlP(Ui?"bootstrap done indicator":"",{factory:()=>new Ne.x}),Vo=new R.OlP(Ui?"initial navigation":"",{providedIn:"root",factory:()=>1});function Wl(){let y=[];return y=Ui?[{provide:R.Xts,multi:!0,useFactory:()=>{const v=(0,R.f3M)($r);return()=>v.events.subscribe(p=>{console.group?.(`Router Event: ${p.constructor.name}`),console.log(function Gs(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(p)),console.log(p),console.groupEnd?.()})}}]:[],Ls(1,y)}const Ha=new R.OlP(Ui?"router preloader":"");function iu(y){return Ls(0,[{provide:Ha,useExisting:Ba},{provide:la,useExisting:y}])}const Cu=!1,ql=new R.OlP(Cu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),$o=[at.Ye,{provide:Sn,useClass:X},$r,ti,{provide:Ur,useFactory:function ii(y){return y.routerState.root},deps:[$r]},cn,Cu?{provide:Eo,useValue:!0}:[]];function Ar(){return new R.PXZ("Router",$r)}let ba=(()=>{class y{constructor(p){}static forRoot(p,I){return{ngModule:y,providers:[$o,Cu&&I?.enableTracing?Wl().\u0275providers:[],{provide:gi,multi:!0,useValue:p},{provide:ql,useFactory:co,deps:[[$r,new R.FiY,new R.tp0]]},{provide:ri,useValue:I||{}},I?.useHash?{provide:at.S$,useClass:at.Do}:{provide:at.S$,useClass:at.b0},{provide:Fo,useFactory:()=>{const y=(0,R.f3M)(at.EM),v=(0,R.f3M)(R.R0b),p=(0,R.f3M)(ri),I=(0,R.f3M)(Rs),A=(0,R.f3M)(Sn);return p.scrollOffset&&y.setOffset(p.scrollOffset),new uo(A,I,y,v,p)}},I?.preloadingStrategy?iu(I.preloadingStrategy).\u0275providers:[],{provide:R.PXZ,multi:!0,useFactory:Ar},I?.initialNavigation?Ca(I):[],[{provide:wr,useFactory:za},{provide:R.tb,multi:!0,useExisting:wr}]]}}static forChild(p){return{ngModule:y,providers:[{provide:gi,multi:!0,useValue:p}]}}}return y.\u0275fac=function(p){return new(p||y)(R.LFG(ql,8))},y.\u0275mod=R.oAB({type:y}),y.\u0275inj=R.cJS({imports:[hs]}),y})();function co(y){if(Cu&&y)throw new R.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ca(y){return["disabled"===y.initialNavigation?Ls(3,[{provide:R.ip1,multi:!0,useFactory:()=>{const v=(0,R.f3M)($r);return()=>{v.setUpLocationChangeListener()}}},{provide:Vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ls(2,[{provide:Vo,useValue:0},{provide:R.ip1,multi:!0,deps:[R.zs3],useFactory:v=>{const p=v.get(at.V_,Promise.resolve());return()=>p.then(()=>new Promise(I=>{const A=v.get($r),L=v.get(Uo);(function Ta(y,v){y.events.pipe(tt(p=>p instanceof jt||p instanceof ws||p instanceof Pr||p instanceof zs),(0,pe.U)(p=>p instanceof jt||p instanceof zs?yr.COMPLETE:p instanceof ws&&(0===p.code||1===p.code)?yr.REDIRECTING:yr.FAILED),tt(p=>p!==yr.REDIRECTING),Pe(1)).subscribe(()=>{v()})})(A,()=>{I(!0)}),v.get(Rs).afterPreactivation=()=>(I(!0),L.closed?oe(void 0):L),A.initialNavigation()}))}}]).\u0275providers:[]]}const wr=new R.OlP(Cu?"Router Initializer":"")},9681:(Gt,Ze,H)=>{H.d(Ze,{C6:()=>ar,Jn:()=>br,KN:()=>ur,Mq:()=>vn,Xd:()=>Zt,ZF:()=>jr,qX:()=>Nt});var R=H(5861),Z=H(4859),Q=H(1877),oe=H(2090),ye=H(8766);class ae{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function le(pt){return"VERSION"===pt.getComponent()?.type}(vt)){const Yt=vt.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(vt=>vt).join(" ")}}const Je="@firebase/app",te=new Q.Yd("@firebase/app"),tt="[DEFAULT]",Ve={[Je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Ot=new Map;function pn(pt,Se){try{pt.container.addComponent(Se)}catch(vt){te.debug(`Component ${Se.name} failed to register with FirebaseApp ${pt.name}`,vt)}}function Zt(pt){const Se=pt.name;if(Ot.has(Se))return te.debug(`There were multiple attempts to register component ${Se}.`),!1;Ot.set(Se,pt);for(const vt of Dt.values())pn(vt,pt);return!0}function Nt(pt,Se){const vt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),pt.container.getProvider(Se)}const gt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class an{constructor(Se,vt,Yt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const br="9.19.1";function jr(pt,Se={}){let vt=pt;"object"!=typeof Se&&(Se={name:Se});const Yt=Object.assign({name:tt,automaticDataCollectionEnabled:!1},Se),Wt=Yt.name;if("string"!=typeof Wt||!Wt)throw gt.create("bad-app-name",{appName:String(Wt)});if(vt||(vt=(0,oe.aH)()),!vt)throw gt.create("no-options");const rn=Dt.get(Wt);if(rn){if((0,oe.vZ)(vt,rn.options)&&(0,oe.vZ)(Yt,rn.config))return rn;throw gt.create("duplicate-app",{appName:Wt})}const Sn=new Z.H0(Wt);for(const q of Ot.values())Sn.addComponent(q);const X=new an(vt,Yt,Sn);return Dt.set(Wt,X),X}function vn(pt=tt){const Se=Dt.get(pt);if(!Se&&pt===tt)return jr();if(!Se)throw gt.create("no-app",{appName:pt});return Se}function ar(){return Array.from(Dt.values())}function ur(pt,Se,vt){var Yt;let Wt=null!==(Yt=Ve[pt])&&void 0!==Yt?Yt:pt;vt&&(Wt+=`-${vt}`);const rn=Wt.match(/\s|\//),Sn=Se.match(/\s|\//);if(rn||Sn){const X=[`Unable to register library "${Wt}" with version "${Se}":`];return rn&&X.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),rn&&Sn&&X.push("and"),Sn&&X.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void te.warn(X.join(" "))}Zt(new Z.wA(`${Wt}-version`,()=>({library:Wt,version:Se}),"VERSION"))}const Er="firebase-heartbeat-database",Dr=1,Fn="firebase-heartbeat-store";let Wr=null;function gn(){return Wr||(Wr=(0,ye.X3)(Er,Dr,{upgrade:(pt,Se)=>{0===Se&&pt.createObjectStore(Fn)}}).catch(pt=>{throw gt.create("idb-open",{originalErrorMessage:pt.message})})),Wr}function $e(){return($e=(0,R.Z)(function*(pt){try{return(yield gn()).transaction(Fn).objectStore(Fn).get(_n(pt))}catch(Se){if(Se instanceof oe.ZR)te.warn(Se.message);else{const vt=gt.create("idb-get",{originalErrorMessage:Se?.message});te.warn(vt.message)}}})).apply(this,arguments)}function Jn(pt,Se){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(pt,Se){try{const Yt=(yield gn()).transaction(Fn,"readwrite");return yield Yt.objectStore(Fn).put(Se,_n(pt)),Yt.done}catch(vt){if(vt instanceof oe.ZR)te.warn(vt.message);else{const Yt=gt.create("idb-set",{originalErrorMessage:vt?.message});te.warn(Yt.message)}}})).apply(this,arguments)}function _n(pt){return`${pt.name}!${pt.options.appId}`}class mn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new Cn(vt),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Se=this;return(0,R.Z)(function*(){const Yt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Mn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Se._heartbeatsCache.heartbeats.some(rn=>rn.date===Wt))return Se._heartbeatsCache.heartbeats.push({date:Wt,agent:Yt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(rn=>{const Sn=new Date(rn.date).valueOf();return Date.now()-Sn<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,R.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const vt=Mn(),{heartbeatsToSend:Yt,unsentEntries:Wt}=function Ci(pt,Se=1024){const vt=[];let Yt=pt.slice();for(const Wt of pt){const rn=vt.find(Sn=>Sn.agent===Wt.agent);if(rn){if(rn.dates.push(Wt.date),Lr(vt)>Se){rn.dates.pop();break}}else if(vt.push({agent:Wt.agent,dates:[Wt.date]}),Lr(vt)>Se){vt.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:Yt}}(Se._heartbeatsCache.heartbeats),rn=(0,oe.L)(JSON.stringify({version:2,heartbeats:Yt}));return Se._heartbeatsCache.lastSentHeartbeatDate=vt,Wt.length>0?(Se._heartbeatsCache.heartbeats=Wt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),rn})()}}function Mn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,R.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function bt(pt){return $e.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var vt=this;return(0,R.Z)(function*(){var Yt;if(yield vt._canUseIndexedDBPromise){const rn=yield vt.read();return Jn(vt.app,{lastSentHeartbeatDate:null!==(Yt=Se.lastSentHeartbeatDate)&&void 0!==Yt?Yt:rn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var vt=this;return(0,R.Z)(function*(){var Yt;if(yield vt._canUseIndexedDBPromise){const rn=yield vt.read();return Jn(vt.app,{lastSentHeartbeatDate:null!==(Yt=Se.lastSentHeartbeatDate)&&void 0!==Yt?Yt:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Se.heartbeats]})}})()}}function Lr(pt){return(0,oe.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function cr(pt){Zt(new Z.wA("platform-logger",Se=>new ae(Se),"PRIVATE")),Zt(new Z.wA("heartbeat",Se=>new mn(Se),"PRIVATE")),ur(Je,"0.9.7",pt),ur(Je,"0.9.7","esm2017"),ur("fire-js","")}("")},4859:(Gt,Ze,H)=>{H.d(Ze,{H0:()=>Je,wA:()=>Q});var R=H(5861),Z=H(2090);class Q{constructor(te,ne,xe){this.name=te,this.instanceFactory=ne,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const oe="[DEFAULT]";class ye{constructor(te,ne){this.name=te,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ne=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ne)){const xe=new Z.BH;if(this.instancesDeferred.set(ne,xe),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:ne});Ye&&xe.resolve(Ye)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(te){var ne;const xe=this.normalizeInstanceIdentifier(te?.identifier),Ye=null!==(ne=te?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(ee){if(Ye)return null;throw ee}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function le(We){return"EAGER"===We.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[ne,xe]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(ne);try{const ee=this.getOrInitializeService({instanceIdentifier:Ye});xe.resolve(ee)}catch{}}}}clearInstance(te=oe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,R.Z)(function*(){const ne=Array.from(te.instances.values());yield Promise.all([...ne.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...ne.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=oe){return this.instances.has(te)}getOptions(te=oe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ne={}}=te,xe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:xe,options:ne});for(const[ee,ot]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(ee)&&ot.resolve(Ye);return Ye}onInit(te,ne){var xe;const Ye=this.normalizeInstanceIdentifier(ne),ee=null!==(xe=this.onInitCallbacks.get(Ye))&&void 0!==xe?xe:new Set;ee.add(te),this.onInitCallbacks.set(Ye,ee);const ot=this.instances.get(Ye);return ot&&te(ot,Ye),()=>{ee.delete(te)}}invokeOnInitCallbacks(te,ne){const xe=this.onInitCallbacks.get(ne);if(xe)for(const Ye of xe)try{Ye(te,ne)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ne={}}){let xe=this.instances.get(te);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(We=te,We===oe?void 0:We),options:ne}),this.instances.set(te,xe),this.instancesOptions.set(te,ne),this.invokeOnInitCallbacks(xe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,xe)}catch{}var We;return xe||null}normalizeInstanceIdentifier(te=oe){return this.component?this.component.multipleInstances?te:oe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ne=this.getProvider(te.name);if(ne.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ne.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ne=new ye(te,this);return this.providers.set(te,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,Ze,H)=>{H.d(Ze,{Yd:()=>le,in:()=>Z});const R=[];var Z=(()=>{return(te=Z||(Z={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",Z;var te})();const Q={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},oe=Z.INFO,ye={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ae=(te,ne,...xe)=>{if(ne<te.logLevel)return;const Ye=(new Date).toISOString(),ee=ye[ne];if(!ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[ee](`[${Ye}]  ${te.name}:`,...xe)};class le{constructor(ne){this.name=ne,this._logLevel=oe,this._logHandler=ae,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in Z))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?Q[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ne),this._logHandler(this,Z.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ne),this._logHandler(this,Z.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ne),this._logHandler(this,Z.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ne),this._logHandler(this,Z.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ne),this._logHandler(this,Z.ERROR,...ne)}}},259:(Gt,Ze,H)=>{H.d(Ze,{C6:()=>R.C6,KN:()=>R.KN,Mq:()=>R.Mq,ZF:()=>R.ZF});var R=H(9681);(0,R.KN)("firebase","9.19.1","app")},8766:(Gt,Ze,H)=>{H.d(Ze,{Lj:()=>rt,X3:()=>ft});var R=H(5861);const Z=(Re,_e)=>_e.some(He=>Re instanceof He);let Q,oe;const le=new WeakMap,Je=new WeakMap,We=new WeakMap,te=new WeakMap,ne=new WeakMap;let ee={get(Re,_e,He){if(Re instanceof IDBTransaction){if("done"===_e)return Je.get(Re);if("objectStoreNames"===_e)return Re.objectStoreNames||We.get(Re);if("store"===_e)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return Et(Re[_e])},set:(Re,_e,He)=>(Re[_e]=He,!0),has:(Re,_e)=>Re instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in Re};function Ut(Re){return"function"==typeof Re?function Le(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(..._e){return Re.apply(Bt(this),_e),Et(le.get(this))}:function(..._e){return Et(Re.apply(Bt(this),_e))}:function(_e,...He){const It=Re.call(Bt(this),_e,...He);return We.set(It,_e.sort?_e.sort():[_e]),Et(It)}}(Re):(Re instanceof IDBTransaction&&function Ye(Re){if(Je.has(Re))return;const _e=new Promise((He,It)=>{const Ne=()=>{Re.removeEventListener("complete",at),Re.removeEventListener("error",pe),Re.removeEventListener("abort",pe)},at=()=>{He(),Ne()},pe=()=>{It(Re.error||new DOMException("AbortError","AbortError")),Ne()};Re.addEventListener("complete",at),Re.addEventListener("error",pe),Re.addEventListener("abort",pe)});Je.set(Re,_e)}(Re),Z(Re,function ye(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,ee):Re)}function Et(Re){if(Re instanceof IDBRequest)return function xe(Re){const _e=new Promise((He,It)=>{const Ne=()=>{Re.removeEventListener("success",at),Re.removeEventListener("error",pe)},at=()=>{He(Et(Re.result)),Ne()},pe=()=>{It(Re.error),Ne()};Re.addEventListener("success",at),Re.addEventListener("error",pe)});return _e.then(He=>{He instanceof IDBCursor&&le.set(He,Re)}).catch(()=>{}),ne.set(_e,Re),_e}(Re);if(te.has(Re))return te.get(Re);const _e=Ut(Re);return _e!==Re&&(te.set(Re,_e),ne.set(_e,Re)),_e}const Bt=Re=>ne.get(Re);function ft(Re,_e,{blocked:He,upgrade:It,blocking:Ne,terminated:at}={}){const pe=indexedDB.open(Re,_e),me=Et(pe);return It&&pe.addEventListener("upgradeneeded",Pe=>{It(Et(pe.result),Pe.oldVersion,Pe.newVersion,Et(pe.transaction))}),He&&pe.addEventListener("blocked",()=>He()),me.then(Pe=>{at&&Pe.addEventListener("close",()=>at()),Ne&&Pe.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),me}function rt(Re,{blocked:_e}={}){const He=indexedDB.deleteDatabase(Re);return _e&&He.addEventListener("blocked",()=>_e()),Et(He).then(()=>{})}const it=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],yt=new Map;function Me(Re,_e){if(!(Re instanceof IDBDatabase)||_e in Re||"string"!=typeof _e)return;if(yt.get(_e))return yt.get(_e);const He=_e.replace(/FromIndex$/,""),It=_e!==He,Ne=st.includes(He);if(!(He in(It?IDBIndex:IDBObjectStore).prototype)||!Ne&&!it.includes(He))return;const at=function(){var pe=(0,R.Z)(function*(me,...Pe){const Ge=this.transaction(me,Ne?"readwrite":"readonly");let tt=Ge.store;return It&&(tt=tt.index(Pe.shift())),(yield Promise.all([tt[He](...Pe),Ne&&Ge.done]))[0]});return function(Pe){return pe.apply(this,arguments)}}();return yt.set(_e,at),at}!function ot(Re){ee=Re(ee)}(Re=>({...Re,get:(_e,He,It)=>Me(_e,He)||Re.get(_e,He,It),has:(_e,He)=>!!Me(_e,He)||Re.has(_e,He)}))},5861:(Gt,Ze,H)=>{function R(Q,oe,ye,ae,le,Je,We){try{var te=Q[Je](We),ne=te.value}catch(xe){return void ye(xe)}te.done?oe(ne):Promise.resolve(ne).then(ae,le)}function Z(Q){return function(){var oe=this,ye=arguments;return new Promise(function(ae,le){var Je=Q.apply(oe,ye);function We(ne){R(Je,ae,le,We,te,"next",ne)}function te(ne){R(Je,ae,le,We,te,"throw",ne)}We(void 0)})}}H.d(Ze,{Z:()=>Z})}},Gt=>{Gt(Gt.s=3044)}]);